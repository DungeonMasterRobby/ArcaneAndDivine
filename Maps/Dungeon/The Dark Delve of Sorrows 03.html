<!DOCTYPE html>
<html lang="en">
  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
  <!-- code copyright (c) 2009-2016 drow <drow@bin.sh>                     -->
  <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<head>
  <meta charset="utf-8" />
  <title>donjon; The Dark Delve of Sorrows</title>

  <link rel="shortcut icon" type="image/vnd.microsoft.icon"
    href="data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAHAADgBwAA4AcAAP5/AAD4HwAA+98AAPvfAAD73wAA+98AAPvfAAD73wAA+B8AAP5/AADgBwAA4AcAAOAHAAA=" />

  <link rel="stylesheet" type="text/css" media="all"
    href="data:text/css;base64,LyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8KLyogY29tbW9uLmNzcwogKgogKiBjb3B5cmlnaHQgKGMpIDIwMDYtMjAxMyBkcm93IDxkcm93QGJpbi5zaD4KICogYWxsIHJpZ2h0cyByZXNlcnZlZC4KKi8KCi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovCi8qIGZvbnQtZmFtaWx5ICovCgpib2R5IHsgZm9udC1mYW1pbHk6ICdBc3VsJywgc2Fucy1zZXJpZjsgfQp0ZXh0YXJlYSB7IGZvbnQtZmFtaWx5OiAnQXN1bCcsIHNhbnMtc2VyaWY7IGZvbnQtc2l6ZTogMTRweDsgfQoKLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8KLyogY29udGVudCAqLwoKaDEgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KdGFibGUgeyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyB9CgouY2VudGVyIHsgdGV4dC1hbGlnbjogY2VudGVyOyB9CnRhYmxlLmNlbnRlciB7IG1hcmdpbjogMHB4IGF1dG87IH0KCm9wdGdyb3VwIHsgbWFyZ2luOiAxZXggMWVtOwogIGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgY29sb3I6ICM4MDgwODA7IH0Kb3B0Z3JvdXAgb3B0aW9uIHsgY29sb3I6ICMwMDAwMDA7IH0KCmRpdi5mb290bm90ZXMgeyBtYXJnaW4tdG9wOiA2ZXg7IHRleHQtYWxpZ246IGNlbnRlcjsgfQoKLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8K" />
  <link rel="stylesheet" type="text/css" media="all"
    href="data:application/binary;base64,QGZvbnQtZmFjZSB7CiAgZm9udC1mYW1pbHk6ICdBc3VsJzsKICBmb250LXN0eWxlOiBub3JtYWw7CiAgZm9udC13ZWlnaHQ6IDQwMDsKICBzcmM6IGxvY2FsKCdBc3VsJyksIGxvY2FsKCdBc3VsLVJlZ3VsYXInKSwgdXJsKGh0dHA6Ly9mb250cy5nc3RhdGljLmNvbS9zL2FzdWwvdjUvVkF6a0MyVEloUTJlNEtRTERLZjlSdy50dGYpIGZvcm1hdCgndHJ1ZXR5cGUnKTsKfQpAZm9udC1mYWNlIHsKICBmb250LWZhbWlseTogJ0FzdWwnOwogIGZvbnQtc3R5bGU6IG5vcm1hbDsKICBmb250LXdlaWdodDogNzAwOwogIHNyYzogbG9jYWwoJ0FzdWwgQm9sZCcpLCBsb2NhbCgnQXN1bC1Cb2xkJyksIHVybChodHRwOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9hc3VsL3Y1L1BJUGJHOUtHb2R6NVVNX1ZnbnFNeHcudHRmKSBmb3JtYXQoJ3RydWV0eXBlJyk7Cn0K" />
  <link rel="stylesheet" type="text/css" media="all"
    href="data:text/css;base64,LyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8KLyogc3RhdHMuY3NzCiAqCiAqIGNvcHlyaWdodCAoYykgMjAwNi0yMDExIGRyb3cgPGRyb3dAYmluLnNoPgogKiBhbGwgcmlnaHRzIHJlc2VydmVkLgoqLwoKLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8KLyogc3RhdCBibG9jayAqLwoKdGFibGUuc3RhdHMgeyBtYXJnaW46IDJleCBhdXRvOwogIGJvcmRlcjogbm9uZTsgYm9yZGVyLXRvcDogMXB4IHNvbGlkOyBib3JkZXItY29sb3I6ICNjY2NjY2M7IH0KdGFibGUuc3RhdHMgdGFibGUgeyB3aWR0aDogMTAwJTsgbWFyZ2luOiA0cHg7CiAgYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiAxcHggc29saWQ7IGJvcmRlci1jb2xvcjogI2NjY2NjYzsgfQp0YWJsZS5zdGF0cyB0cjpob3ZlciB0ZCB7IGJhY2tncm91bmQ6ICNkZWRlZGU7IH0KdGFibGUuc3RhdHMgdHIuZW1wdHk6aG92ZXIgdGQgeyBiYWNrZ3JvdW5kOiBub25lOyB9CnRhYmxlLnN0YXRzIHRyOmhvdmVyIG9sIGxpOmhvdmVyIHsgYmFja2dyb3VuZDogI2ZmZmZmZjsgfQp0YWJsZS5zdGF0cyB0cjpob3ZlciB0YWJsZSB0cjpob3ZlciB0ZCB7IGJhY2tncm91bmQ6ICNmZmZmZmY7IH0KdGFibGUuc3RhdHMgdHI6aG92ZXIgdGFibGUgdHIuZW1wdHk6aG92ZXIgdGQgeyBiYWNrZ3JvdW5kOiBub25lOyB9CnRhYmxlLnN0YXRzIHRyOmhvdmVyIHRhYmxlIHRyOmhvdmVyIG9sIGxpOmhvdmVyIHsgYmFja2dyb3VuZDogI2RlZGVkZTsgfQoKdGFibGUuc3RhdHMgdGggeyBwYWRkaW5nOiAxZXggMWVtOyBiYWNrZ3JvdW5kOiAjMDAwMDAwOyBjb2xvcjogI2ZmZmZmZjsgfQp0YWJsZS5zdGF0cyB0ZCB7IHBhZGRpbmc6IDRweCAxZW07CiAgYm9yZGVyOiBub25lOyBib3JkZXItYm90dG9tOiAxcHggc29saWQ7IGJvcmRlci1jb2xvcjogI2NjY2NjYzsKICB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB9CnRhYmxlLnN0YXRzIHRkLmljb24gaW1nIHsgYm9yZGVyOiAxcHggc29saWQ7IGJvcmRlci1jb2xvcjogI2NjY2NjYzsgfQp0YWJsZS5zdGF0cyB0ZC5zZWN0aW9uIHsgd2lkdGg6IDhlbTsgcGFkZGluZy10b3A6IDhweDsKICB0ZXh0LWFsaWduOiByaWdodDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICBmb250LXNpemU6IGxhcmdlcjsgZm9udC13ZWlnaHQ6IGJvbGQ7IH0KdGFibGUuc3RhdHMgdGQuZGV0YWlsIHsgd2lkdGg6IDhlbTsKICB0ZXh0LWFsaWduOiByaWdodDsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgZm9udC1zdHlsZTogaXRhbGljOyB9CnRhYmxlLnN0YXRzIHRkLmtleSB7IHdpZHRoOiA4ZW07CiAgdGV4dC1hbGlnbjogcmlnaHQ7IHdoaXRlLXNwYWNlOiBub3dyYXA7IGZvbnQtd2VpZ2h0OiBib2xkOyB9Cgp0YWJsZS5zdGF0cyB0ZC52YWx1ZSB7IHZlcnRpY2FsLWFsaWduOiBib3R0b207IH0KdGFibGUuc3RhdHMgdGQudmFsdWUgcCB7IG1hcmdpbjogMHB4OyBtYXJnaW4tdG9wOiAxZXg7IH0KdGFibGUuc3RhdHMgdGQudmFsdWUgcC5pY29uIHsgcGFkZGluZy1sZWZ0OiAyZW07IHRleHQtaW5kZW50OiAtMmVtOyB9CnRhYmxlLnN0YXRzIHRkLnZhbHVlIG9sIHsgbWFyZ2luOiAwcHggMHB4IDJleCAyZW07IHBhZGRpbmc6IDBweDsgfQp0YWJsZS5zdGF0cyB0ZC52YWx1ZSBvbCBsaSB7IG1hcmdpbjogMHB4OyBwYWRkaW5nOiAycHggMC41ZW07IH0KdGFibGUuc3RhdHMgdGQudmFsdWUgaHIgeyBtYXJnaW46IDFleCAwZW07CiAgYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiAxcHggc29saWQ7IGJvcmRlci1jb2xvcjogI2NjY2NjYzsgfQoKQG1lZGlhIHByaW50IHsKICBhIHsgY29sb3I6IGJsYWNrOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IH0KfQoKLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8K" />
  <link rel="stylesheet" type="text/css" media="all"
    href="data:text/css;base64,LyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8KLyogZHVuZ2Vvbi9zdHlsZS5jc3MKICoKICogY29weXJpZ2h0IChjKSAyMDA2LTIwMTQgZHJvdyA8ZHJvd0BiaW4uc2g+CiAqIGFsbCByaWdodHMgcmVzZXJ2ZWQuCiovCgovKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqLwovKiBkdW5nZW9uIG1hcCAqLwoKdGFibGUubWFwIHsgbWFyZ2luOiAyZXggYXV0bzsgYm9yZGVyOiBub25lOwogIGJvcmRlci1sZWZ0OiAxcHggc29saWQ7IGJvcmRlci10b3A6IDFweCBzb2xpZDsgYm9yZGVyLWNvbG9yOiAjMzMzMzMzOyB9CnRhYmxlLm1hcCB0ZC5jZWxsIHsgbWFyZ2luOiAwcHg7IHBhZGRpbmc6IDBweDsKICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZDsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkOyBib3JkZXItY29sb3I6ICNjY2NjZmY7CiAgdGV4dC1hbGlnbjogY2VudGVyOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEdlbmV2YSwgc2Fucy1zZXJpZjsgZm9udC1zaXplOiA5cHg7IH0KdGFibGUubWFwIHRkLmJlZW4geyBiYWNrZ3JvdW5kOiAjZGVmZmRlOyB9CnRhYmxlLm1hcCB0ZC5jZWxsIGEgeyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IH0KdGFibGUubWFwIHRkLmZpbGwgeyBib3JkZXItY29sb3I6ICMzMzMzMzM7IGJhY2tncm91bmQ6ICMwMDAwMDA7IH0KCnAubWFwIHsgdGV4dC1hbGlnbjogY2VudGVyOyB9CmltZyB7IGJvcmRlcjogbm9uZTsgfQpwLmxlZ2VuZCB7IHRleHQtYWxpZ246IGNlbnRlcjsgfQpwLmxlZ2VuZCBzcGFuIHsgbWFyZ2luOiAwcHggMC41ZW07IHdoaXRlLXNwYWNlOiBub3dyYXA7IH0KCi8qIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtICovCi8qIHZhcmlhbnRzICovCgpkaXYudmFyaWFudHMgeyBtYXJnaW46IDJleCAxMCU7IG1hcmdpbi10b3A6IDRleDsgYm9yZGVyOiAxcHggc29saWQ7CiAgYm9yZGVyLWNvbG9yOiAjOTk5OTk5OyBiYWNrZ3JvdW5kOiAjZGVkZWRlOyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KZGl2LnZhcmlhbnRzIGRpdiB7IG1hcmdpbjogMmV4IDBweDsgfQpkaXYudmFyaWFudHMgYiB7IG1hcmdpbjogMHB4IDAuNWVtOyB9CmRpdi52YXJpYW50cyBmb3JtIHsgZGlzcGxheTogaW5saW5lOyBtYXJnaW46IDBweCAwLjVlbTsgfQpkaXYudmFyaWFudHMgaW5wdXQgeyBtYXJnaW46IDBweCAwLjVlbTsgfQpkaXYudmFyaWFudHMgc2VsZWN0IHsgbWFyZ2luOiAwcHggMC41ZW07IH0KZGl2LndvcmtpbmcgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtc2l6ZTogMTUwJTsgfQoKLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi8K" />

  <style type="text/css" media="print">
    img { max-width: 100%; }
    div.variants { display: none; }
  </style>

  <script type="text/javascript"
    src="data:text/javascript;base64,LyogIFByb3RvdHlwZSBKYXZhU2NyaXB0IGZyYW1ld29yaywgdmVyc2lvbiAxLjcuMgogKiAgKGMpIDIwMDUtMjAxMCBTYW0gU3RlcGhlbnNvbgogKgogKiAgUHJvdG90eXBlIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlIHVuZGVyIHRoZSB0ZXJtcyBvZiBhbiBNSVQtc3R5bGUgbGljZW5zZS4KICogIEZvciBkZXRhaWxzLCBzZWUgdGhlIFByb3RvdHlwZSB3ZWIgc2l0ZTogaHR0cDovL3d3dy5wcm90b3R5cGVqcy5vcmcvCiAqCiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKdmFyIFByb3RvdHlwZSA9IHsKCiAgVmVyc2lvbjogJzEuNy4yJywKCiAgQnJvd3NlcjogKGZ1bmN0aW9uKCl7CiAgICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50OwogICAgdmFyIGlzT3BlcmEgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93Lm9wZXJhKSA9PSAnW29iamVjdCBPcGVyYV0nOwogICAgcmV0dXJuIHsKICAgICAgSUU6ICAgICAgICAgICAgICEhd2luZG93LmF0dGFjaEV2ZW50ICYmICFpc09wZXJhLAogICAgICBPcGVyYTogICAgICAgICAgaXNPcGVyYSwKICAgICAgV2ViS2l0OiAgICAgICAgIHVhLmluZGV4T2YoJ0FwcGxlV2ViS2l0LycpID4gLTEsCiAgICAgIEdlY2tvOiAgICAgICAgICB1YS5pbmRleE9mKCdHZWNrbycpID4gLTEgJiYgdWEuaW5kZXhPZignS0hUTUwnKSA9PT0gLTEsCiAgICAgIE1vYmlsZVNhZmFyaTogICAvQXBwbGUuKk1vYmlsZS8udGVzdCh1YSkKICAgIH0KICB9KSgpLAoKICBCcm93c2VyRmVhdHVyZXM6IHsKICAgIFhQYXRoOiAhIWRvY3VtZW50LmV2YWx1YXRlLAoKICAgIFNlbGVjdG9yc0FQSTogISFkb2N1bWVudC5xdWVyeVNlbGVjdG9yLAoKICAgIEVsZW1lbnRFeHRlbnNpb25zOiAoZnVuY3Rpb24oKSB7CiAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHdpbmRvdy5FbGVtZW50IHx8IHdpbmRvdy5IVE1MRWxlbWVudDsKICAgICAgcmV0dXJuICEhKGNvbnN0cnVjdG9yICYmIGNvbnN0cnVjdG9yLnByb3RvdHlwZSk7CiAgICB9KSgpLAogICAgU3BlY2lmaWNFbGVtZW50RXh0ZW5zaW9uczogKGZ1bmN0aW9uKCkgewogICAgICBpZiAodHlwZW9mIHdpbmRvdy5IVE1MRGl2RWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpCiAgICAgICAgcmV0dXJuIHRydWU7CgogICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksCiAgICAgICAgICBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpLAogICAgICAgICAgaXNTdXBwb3J0ZWQgPSBmYWxzZTsKCiAgICAgIGlmIChkaXZbJ19fcHJvdG9fXyddICYmIChkaXZbJ19fcHJvdG9fXyddICE9PSBmb3JtWydfX3Byb3RvX18nXSkpIHsKICAgICAgICBpc1N1cHBvcnRlZCA9IHRydWU7CiAgICAgIH0KCiAgICAgIGRpdiA9IGZvcm0gPSBudWxsOwoKICAgICAgcmV0dXJuIGlzU3VwcG9ydGVkOwogICAgfSkoKQogIH0sCgogIFNjcmlwdEZyYWdtZW50OiAnPHNjcmlwdFtePl0qPihbXFxTXFxzXSo/KTxcL3NjcmlwdFxccyo+JywKICBKU09ORmlsdGVyOiAvXlwvXCotc2VjdXJlLShbXHNcU10qKVwqXC9ccyokLywKCiAgZW1wdHlGdW5jdGlvbjogZnVuY3Rpb24oKSB7IH0sCgogIEs6IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHggfQp9OwoKaWYgKFByb3RvdHlwZS5Ccm93c2VyLk1vYmlsZVNhZmFyaSkKICBQcm90b3R5cGUuQnJvd3NlckZlYXR1cmVzLlNwZWNpZmljRWxlbWVudEV4dGVuc2lvbnMgPSBmYWxzZTsKLyogQmFzZWQgb24gQWxleCBBcm5lbGwncyBpbmhlcml0YW5jZSBpbXBsZW1lbnRhdGlvbi4gKi8KCnZhciBDbGFzcyA9IChmdW5jdGlvbigpIHsKCiAgdmFyIElTX0RPTlRFTlVNX0JVR0dZID0gKGZ1bmN0aW9uKCl7CiAgICBmb3IgKHZhciBwIGluIHsgdG9TdHJpbmc6IDEgfSkgewogICAgICBpZiAocCA9PT0gJ3RvU3RyaW5nJykgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfSkoKTsKCiAgZnVuY3Rpb24gc3ViY2xhc3MoKSB7fTsKICBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICB2YXIgcGFyZW50ID0gbnVsbCwgcHJvcGVydGllcyA9ICRBKGFyZ3VtZW50cyk7CiAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24ocHJvcGVydGllc1swXSkpCiAgICAgIHBhcmVudCA9IHByb3BlcnRpZXMuc2hpZnQoKTsKCiAgICBmdW5jdGlvbiBrbGFzcygpIHsKICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgT2JqZWN0LmV4dGVuZChrbGFzcywgQ2xhc3MuTWV0aG9kcyk7CiAgICBrbGFzcy5zdXBlcmNsYXNzID0gcGFyZW50OwogICAga2xhc3Muc3ViY2xhc3NlcyA9IFtdOwoKICAgIGlmIChwYXJlbnQpIHsKICAgICAgc3ViY2xhc3MucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsKICAgICAga2xhc3MucHJvdG90eXBlID0gbmV3IHN1YmNsYXNzOwogICAgICBwYXJlbnQuc3ViY2xhc3Nlcy5wdXNoKGtsYXNzKTsKICAgIH0KCiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcHJvcGVydGllcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykKICAgICAga2xhc3MuYWRkTWV0aG9kcyhwcm9wZXJ0aWVzW2ldKTsKCiAgICBpZiAoIWtsYXNzLnByb3RvdHlwZS5pbml0aWFsaXplKQogICAgICBrbGFzcy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IFByb3RvdHlwZS5lbXB0eUZ1bmN0aW9uOwoKICAgIGtsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGtsYXNzOwogICAgcmV0dXJuIGtsYXNzOwogIH0KCiAgZnVuY3Rpb24gYWRkTWV0aG9kcyhzb3VyY2UpIHsKICAgIHZhciBhbmNlc3RvciAgID0gdGhpcy5zdXBlcmNsYXNzICYmIHRoaXMuc3VwZXJjbGFzcy5wcm90b3R5cGUsCiAgICAgICAgcHJvcGVydGllcyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7CgogICAgaWYgKElTX0RPTlRFTlVNX0JVR0dZKSB7CiAgICAgIGlmIChzb3VyY2UudG9TdHJpbmcgIT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykKICAgICAgICBwcm9wZXJ0aWVzLnB1c2goInRvU3RyaW5nIik7CiAgICAgIGlmIChzb3VyY2UudmFsdWVPZiAhPSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YpCiAgICAgICAgcHJvcGVydGllcy5wdXNoKCJ2YWx1ZU9mIik7CiAgICB9CgogICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXSwgdmFsdWUgPSBzb3VyY2VbcHJvcGVydHldOwogICAgICBpZiAoYW5jZXN0b3IgJiYgT2JqZWN0LmlzRnVuY3Rpb24odmFsdWUpICYmCiAgICAgICAgICB2YWx1ZS5hcmd1bWVudE5hbWVzKClbMF0gPT0gIiRzdXBlciIpIHsKICAgICAgICB2YXIgbWV0aG9kID0gdmFsdWU7CiAgICAgICAgdmFsdWUgPSAoZnVuY3Rpb24obSkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gYW5jZXN0b3JbbV0uYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfTsKICAgICAgICB9KShwcm9wZXJ0eSkud3JhcChtZXRob2QpOwoKICAgICAgICB2YWx1ZS52YWx1ZU9mID0gKGZ1bmN0aW9uKG1ldGhvZCkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gbWV0aG9kLnZhbHVlT2YuY2FsbChtZXRob2QpOyB9OwogICAgICAgIH0pKG1ldGhvZCk7CgogICAgICAgIHZhbHVlLnRvU3RyaW5nID0gKGZ1bmN0aW9uKG1ldGhvZCkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gbWV0aG9kLnRvU3RyaW5nLmNhbGwobWV0aG9kKTsgfTsKICAgICAgICB9KShtZXRob2QpOwogICAgICB9CiAgICAgIHRoaXMucHJvdG90eXBlW3Byb3BlcnR5XSA9IHZhbHVlOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0KCiAgcmV0dXJuIHsKICAgIGNyZWF0ZTogY3JlYXRlLAogICAgTWV0aG9kczogewogICAgICBhZGRNZXRob2RzOiBhZGRNZXRob2RzCiAgICB9CiAgfTsKfSkoKTsKKGZ1bmN0aW9uKCkgewoKICB2YXIgX3RvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZywKICAgICAgX2hhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwKICAgICAgTlVMTF9UWVBFID0gJ051bGwnLAogICAgICBVTkRFRklORURfVFlQRSA9ICdVbmRlZmluZWQnLAogICAgICBCT09MRUFOX1RZUEUgPSAnQm9vbGVhbicsCiAgICAgIE5VTUJFUl9UWVBFID0gJ051bWJlcicsCiAgICAgIFNUUklOR19UWVBFID0gJ1N0cmluZycsCiAgICAgIE9CSkVDVF9UWVBFID0gJ09iamVjdCcsCiAgICAgIEZVTkNUSU9OX0NMQVNTID0gJ1tvYmplY3QgRnVuY3Rpb25dJywKICAgICAgQk9PTEVBTl9DTEFTUyA9ICdbb2JqZWN0IEJvb2xlYW5dJywKICAgICAgTlVNQkVSX0NMQVNTID0gJ1tvYmplY3QgTnVtYmVyXScsCiAgICAgIFNUUklOR19DTEFTUyA9ICdbb2JqZWN0IFN0cmluZ10nLAogICAgICBBUlJBWV9DTEFTUyA9ICdbb2JqZWN0IEFycmF5XScsCiAgICAgIERBVEVfQ0xBU1MgPSAnW29iamVjdCBEYXRlXScsCiAgICAgIE5BVElWRV9KU09OX1NUUklOR0lGWV9TVVBQT1JUID0gd2luZG93LkpTT04gJiYKICAgICAgICB0eXBlb2YgSlNPTi5zdHJpbmdpZnkgPT09ICdmdW5jdGlvbicgJiYKICAgICAgICBKU09OLnN0cmluZ2lmeSgwKSA9PT0gJzAnICYmCiAgICAgICAgdHlwZW9mIEpTT04uc3RyaW5naWZ5KFByb3RvdHlwZS5LKSA9PT0gJ3VuZGVmaW5lZCc7CgoKCiAgdmFyIERPTlRfRU5VTVMgPSBbJ3RvU3RyaW5nJywgJ3RvTG9jYWxlU3RyaW5nJywgJ3ZhbHVlT2YnLAogICAnaGFzT3duUHJvcGVydHknLCAnaXNQcm90b3R5cGVPZicsICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICdjb25zdHJ1Y3RvciddOwoKICB2YXIgSVNfRE9OVEVOVU1fQlVHR1kgPSAoZnVuY3Rpb24oKXsKICAgIGZvciAodmFyIHAgaW4geyB0b1N0cmluZzogMSB9KSB7CiAgICAgIGlmIChwID09PSAndG9TdHJpbmcnKSByZXR1cm4gZmFsc2U7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9KSgpOwoKICBmdW5jdGlvbiBUeXBlKG8pIHsKICAgIHN3aXRjaChvKSB7CiAgICAgIGNhc2UgbnVsbDogcmV0dXJuIE5VTExfVFlQRTsKICAgICAgY2FzZSAodm9pZCAwKTogcmV0dXJuIFVOREVGSU5FRF9UWVBFOwogICAgfQogICAgdmFyIHR5cGUgPSB0eXBlb2YgbzsKICAgIHN3aXRjaCh0eXBlKSB7CiAgICAgIGNhc2UgJ2Jvb2xlYW4nOiByZXR1cm4gQk9PTEVBTl9UWVBFOwogICAgICBjYXNlICdudW1iZXInOiAgcmV0dXJuIE5VTUJFUl9UWVBFOwogICAgICBjYXNlICdzdHJpbmcnOiAgcmV0dXJuIFNUUklOR19UWVBFOwogICAgfQogICAgcmV0dXJuIE9CSkVDVF9UWVBFOwogIH0KCiAgZnVuY3Rpb24gZXh0ZW5kKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHsKICAgIGZvciAodmFyIHByb3BlcnR5IGluIHNvdXJjZSkKICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTsKICAgIHJldHVybiBkZXN0aW5hdGlvbjsKICB9CgogIGZ1bmN0aW9uIGluc3BlY3Qob2JqZWN0KSB7CiAgICB0cnkgewogICAgICBpZiAoaXNVbmRlZmluZWQob2JqZWN0KSkgcmV0dXJuICd1bmRlZmluZWQnOwogICAgICBpZiAob2JqZWN0ID09PSBudWxsKSByZXR1cm4gJ251bGwnOwogICAgICByZXR1cm4gb2JqZWN0Lmluc3BlY3QgPyBvYmplY3QuaW5zcGVjdCgpIDogU3RyaW5nKG9iamVjdCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGlmIChlIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikgcmV0dXJuICcuLi4nOwogICAgICB0aHJvdyBlOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdG9KU09OKHZhbHVlKSB7CiAgICByZXR1cm4gU3RyKCcnLCB7ICcnOiB2YWx1ZSB9LCBbXSk7CiAgfQoKICBmdW5jdGlvbiBTdHIoa2V5LCBob2xkZXIsIHN0YWNrKSB7CiAgICB2YXIgdmFsdWUgPSBob2xkZXJba2V5XTsKICAgIGlmIChUeXBlKHZhbHVlKSA9PT0gT0JKRUNUX1RZUEUgJiYgdHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICB2YWx1ZSA9IHZhbHVlLnRvSlNPTihrZXkpOwogICAgfQoKICAgIHZhciBfY2xhc3MgPSBfdG9TdHJpbmcuY2FsbCh2YWx1ZSk7CgogICAgc3dpdGNoIChfY2xhc3MpIHsKICAgICAgY2FzZSBOVU1CRVJfQ0xBU1M6CiAgICAgIGNhc2UgQk9PTEVBTl9DTEFTUzoKICAgICAgY2FzZSBTVFJJTkdfQ0xBU1M6CiAgICAgICAgdmFsdWUgPSB2YWx1ZS52YWx1ZU9mKCk7CiAgICB9CgogICAgc3dpdGNoICh2YWx1ZSkgewogICAgICBjYXNlIG51bGw6IHJldHVybiAnbnVsbCc7CiAgICAgIGNhc2UgdHJ1ZTogcmV0dXJuICd0cnVlJzsKICAgICAgY2FzZSBmYWxzZTogcmV0dXJuICdmYWxzZSc7CiAgICB9CgogICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7CiAgICBzd2l0Y2ggKHR5cGUpIHsKICAgICAgY2FzZSAnc3RyaW5nJzoKICAgICAgICByZXR1cm4gdmFsdWUuaW5zcGVjdCh0cnVlKTsKICAgICAgY2FzZSAnbnVtYmVyJzoKICAgICAgICByZXR1cm4gaXNGaW5pdGUodmFsdWUpID8gU3RyaW5nKHZhbHVlKSA6ICdudWxsJzsKICAgICAgY2FzZSAnb2JqZWN0JzoKCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHN0YWNrLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoc3RhY2tbaV0gPT09IHZhbHVlKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkN5Y2xpYyByZWZlcmVuY2UgdG8gJyIgKyB2YWx1ZSArICInIGluIG9iamVjdCIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdGFjay5wdXNoKHZhbHVlKTsKCiAgICAgICAgdmFyIHBhcnRpYWwgPSBbXTsKICAgICAgICBpZiAoX2NsYXNzID09PSBBUlJBWV9DTEFTUykgewogICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciBzdHIgPSBTdHIoaSwgdmFsdWUsIHN0YWNrKTsKICAgICAgICAgICAgcGFydGlhbC5wdXNoKHR5cGVvZiBzdHIgPT09ICd1bmRlZmluZWQnID8gJ251bGwnIDogc3RyKTsKICAgICAgICAgIH0KICAgICAgICAgIHBhcnRpYWwgPSAnWycgKyBwYXJ0aWFsLmpvaW4oJywnKSArICddJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7CiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXSwgc3RyID0gU3RyKGtleSwgdmFsdWUsIHN0YWNrKTsKICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHIgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgIHBhcnRpYWwucHVzaChrZXkuaW5zcGVjdCh0cnVlKSsgJzonICsgc3RyKTsKICAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHBhcnRpYWwgPSAneycgKyBwYXJ0aWFsLmpvaW4oJywnKSArICd9JzsKICAgICAgICB9CiAgICAgICAgc3RhY2sucG9wKCk7CiAgICAgICAgcmV0dXJuIHBhcnRpYWw7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzdHJpbmdpZnkob2JqZWN0KSB7CiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqZWN0KTsKICB9CgogIGZ1bmN0aW9uIHRvUXVlcnlTdHJpbmcob2JqZWN0KSB7CiAgICByZXR1cm4gJEgob2JqZWN0KS50b1F1ZXJ5U3RyaW5nKCk7CiAgfQoKICBmdW5jdGlvbiB0b0hUTUwob2JqZWN0KSB7CiAgICByZXR1cm4gb2JqZWN0ICYmIG9iamVjdC50b0hUTUwgPyBvYmplY3QudG9IVE1MKCkgOiBTdHJpbmcuaW50ZXJwcmV0KG9iamVjdCk7CiAgfQoKICBmdW5jdGlvbiBrZXlzKG9iamVjdCkgewogICAgaWYgKFR5cGUob2JqZWN0KSAhPT0gT0JKRUNUX1RZUEUpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigpOyB9CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KSB7CiAgICAgIGlmIChfaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkKICAgICAgICByZXN1bHRzLnB1c2gocHJvcGVydHkpOwogICAgfQoKICAgIGlmIChJU19ET05URU5VTV9CVUdHWSkgewogICAgICBmb3IgKHZhciBpID0gMDsgcHJvcGVydHkgPSBET05UX0VOVU1TW2ldOyBpKyspIHsKICAgICAgICBpZiAoX2hhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSkpCiAgICAgICAgICByZXN1bHRzLnB1c2gocHJvcGVydHkpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgcHJvcGVydHkgaW4gb2JqZWN0KQogICAgICByZXN1bHRzLnB1c2gob2JqZWN0W3Byb3BlcnR5XSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGZ1bmN0aW9uIGNsb25lKG9iamVjdCkgewogICAgcmV0dXJuIGV4dGVuZCh7IH0sIG9iamVjdCk7CiAgfQoKICBmdW5jdGlvbiBpc0VsZW1lbnQob2JqZWN0KSB7CiAgICByZXR1cm4gISEob2JqZWN0ICYmIG9iamVjdC5ub2RlVHlwZSA9PSAxKTsKICB9CgogIGZ1bmN0aW9uIGlzQXJyYXkob2JqZWN0KSB7CiAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqZWN0KSA9PT0gQVJSQVlfQ0xBU1M7CiAgfQoKICB2YXIgaGFzTmF0aXZlSXNBcnJheSA9ICh0eXBlb2YgQXJyYXkuaXNBcnJheSA9PSAnZnVuY3Rpb24nKQogICAgJiYgQXJyYXkuaXNBcnJheShbXSkgJiYgIUFycmF5LmlzQXJyYXkoe30pOwoKICBpZiAoaGFzTmF0aXZlSXNBcnJheSkgewogICAgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7CiAgfQoKICBmdW5jdGlvbiBpc0hhc2gob2JqZWN0KSB7CiAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgSGFzaDsKICB9CgogIGZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqZWN0KSB7CiAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqZWN0KSA9PT0gRlVOQ1RJT05fQ0xBU1M7CiAgfQoKICBmdW5jdGlvbiBpc1N0cmluZyhvYmplY3QpIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmplY3QpID09PSBTVFJJTkdfQ0xBU1M7CiAgfQoKICBmdW5jdGlvbiBpc051bWJlcihvYmplY3QpIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmplY3QpID09PSBOVU1CRVJfQ0xBU1M7CiAgfQoKICBmdW5jdGlvbiBpc0RhdGUob2JqZWN0KSB7CiAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqZWN0KSA9PT0gREFURV9DTEFTUzsKICB9CgogIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iamVjdCkgewogICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICJ1bmRlZmluZWQiOwogIH0KCiAgZXh0ZW5kKE9iamVjdCwgewogICAgZXh0ZW5kOiAgICAgICAgZXh0ZW5kLAogICAgaW5zcGVjdDogICAgICAgaW5zcGVjdCwKICAgIHRvSlNPTjogICAgICAgIE5BVElWRV9KU09OX1NUUklOR0lGWV9TVVBQT1JUID8gc3RyaW5naWZ5IDogdG9KU09OLAogICAgdG9RdWVyeVN0cmluZzogdG9RdWVyeVN0cmluZywKICAgIHRvSFRNTDogICAgICAgIHRvSFRNTCwKICAgIGtleXM6ICAgICAgICAgIE9iamVjdC5rZXlzIHx8IGtleXMsCiAgICB2YWx1ZXM6ICAgICAgICB2YWx1ZXMsCiAgICBjbG9uZTogICAgICAgICBjbG9uZSwKICAgIGlzRWxlbWVudDogICAgIGlzRWxlbWVudCwKICAgIGlzQXJyYXk6ICAgICAgIGlzQXJyYXksCiAgICBpc0hhc2g6ICAgICAgICBpc0hhc2gsCiAgICBpc0Z1bmN0aW9uOiAgICBpc0Z1bmN0aW9uLAogICAgaXNTdHJpbmc6ICAgICAgaXNTdHJpbmcsCiAgICBpc051bWJlcjogICAgICBpc051bWJlciwKICAgIGlzRGF0ZTogICAgICAgIGlzRGF0ZSwKICAgIGlzVW5kZWZpbmVkOiAgIGlzVW5kZWZpbmVkCiAgfSk7Cn0pKCk7Ck9iamVjdC5leHRlbmQoRnVuY3Rpb24ucHJvdG90eXBlLCAoZnVuY3Rpb24oKSB7CiAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlOwoKICBmdW5jdGlvbiB1cGRhdGUoYXJyYXksIGFyZ3MpIHsKICAgIHZhciBhcnJheUxlbmd0aCA9IGFycmF5Lmxlbmd0aCwgbGVuZ3RoID0gYXJncy5sZW5ndGg7CiAgICB3aGlsZSAobGVuZ3RoLS0pIGFycmF5W2FycmF5TGVuZ3RoICsgbGVuZ3RoXSA9IGFyZ3NbbGVuZ3RoXTsKICAgIHJldHVybiBhcnJheTsKICB9CgogIGZ1bmN0aW9uIG1lcmdlKGFycmF5LCBhcmdzKSB7CiAgICBhcnJheSA9IHNsaWNlLmNhbGwoYXJyYXksIDApOwogICAgcmV0dXJuIHVwZGF0ZShhcnJheSwgYXJncyk7CiAgfQoKICBmdW5jdGlvbiBhcmd1bWVudE5hbWVzKCkgewogICAgdmFyIG5hbWVzID0gdGhpcy50b1N0cmluZygpLm1hdGNoKC9eW1xzXChdKmZ1bmN0aW9uW14oXSpcKChbXildKilcKS8pWzFdCiAgICAgIC5yZXBsYWNlKC9cL1wvLio/W1xyXG5dfFwvXCooPzoufFtcclxuXSkqP1wqXC8vZywgJycpCiAgICAgIC5yZXBsYWNlKC9ccysvZywgJycpLnNwbGl0KCcsJyk7CiAgICByZXR1cm4gbmFtZXMubGVuZ3RoID09IDEgJiYgIW5hbWVzWzBdID8gW10gOiBuYW1lczsKICB9CgoKICBmdW5jdGlvbiBiaW5kKGNvbnRleHQpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMiAmJiBPYmplY3QuaXNVbmRlZmluZWQoYXJndW1lbnRzWzBdKSkKICAgICAgcmV0dXJuIHRoaXM7CgogICAgaWYgKCFPYmplY3QuaXNGdW5jdGlvbih0aGlzKSkKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhlIG9iamVjdCBpcyBub3QgY2FsbGFibGUuIik7CgogICAgdmFyIG5vcCA9IGZ1bmN0aW9uKCkge307CiAgICB2YXIgX19tZXRob2QgPSB0aGlzLCBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwoKICAgIHZhciBib3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgYSA9IG1lcmdlKGFyZ3MsIGFyZ3VtZW50cyk7CiAgICAgIHZhciBjID0gdGhpcyBpbnN0YW5jZW9mIGJvdW5kID8gdGhpcyA6IGNvbnRleHQ7CiAgICAgIHJldHVybiBfX21ldGhvZC5hcHBseShjLCBhKTsKICAgIH07CgogICAgbm9wLnByb3RvdHlwZSAgID0gdGhpcy5wcm90b3R5cGU7CiAgICBib3VuZC5wcm90b3R5cGUgPSBuZXcgbm9wKCk7CgogICAgcmV0dXJuIGJvdW5kOwogIH0KCiAgZnVuY3Rpb24gYmluZEFzRXZlbnRMaXN0ZW5lcihjb250ZXh0KSB7CiAgICB2YXIgX19tZXRob2QgPSB0aGlzLCBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwogICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIHZhciBhID0gdXBkYXRlKFtldmVudCB8fCB3aW5kb3cuZXZlbnRdLCBhcmdzKTsKICAgICAgcmV0dXJuIF9fbWV0aG9kLmFwcGx5KGNvbnRleHQsIGEpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY3VycnkoKSB7CiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB0aGlzOwogICAgdmFyIF9fbWV0aG9kID0gdGhpcywgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTsKICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGEgPSBtZXJnZShhcmdzLCBhcmd1bWVudHMpOwogICAgICByZXR1cm4gX19tZXRob2QuYXBwbHkodGhpcywgYSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBkZWxheSh0aW1lb3V0KSB7CiAgICB2YXIgX19tZXRob2QgPSB0aGlzLCBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwogICAgdGltZW91dCA9IHRpbWVvdXQgKiAxMDAwOwogICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gX19tZXRob2QuYXBwbHkoX19tZXRob2QsIGFyZ3MpOwogICAgfSwgdGltZW91dCk7CiAgfQoKICBmdW5jdGlvbiBkZWZlcigpIHsKICAgIHZhciBhcmdzID0gdXBkYXRlKFswLjAxXSwgYXJndW1lbnRzKTsKICAgIHJldHVybiB0aGlzLmRlbGF5LmFwcGx5KHRoaXMsIGFyZ3MpOwogIH0KCiAgZnVuY3Rpb24gd3JhcCh3cmFwcGVyKSB7CiAgICB2YXIgX19tZXRob2QgPSB0aGlzOwogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICB2YXIgYSA9IHVwZGF0ZShbX19tZXRob2QuYmluZCh0aGlzKV0sIGFyZ3VtZW50cyk7CiAgICAgIHJldHVybiB3cmFwcGVyLmFwcGx5KHRoaXMsIGEpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gbWV0aG9kaXplKCkgewogICAgaWYgKHRoaXMuX21ldGhvZGl6ZWQpIHJldHVybiB0aGlzLl9tZXRob2RpemVkOwogICAgdmFyIF9fbWV0aG9kID0gdGhpczsKICAgIHJldHVybiB0aGlzLl9tZXRob2RpemVkID0gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBhID0gdXBkYXRlKFt0aGlzXSwgYXJndW1lbnRzKTsKICAgICAgcmV0dXJuIF9fbWV0aG9kLmFwcGx5KG51bGwsIGEpOwogICAgfTsKICB9CgogIHZhciBleHRlbnNpb25zID0gewogICAgYXJndW1lbnROYW1lczogICAgICAgYXJndW1lbnROYW1lcywKICAgIGJpbmRBc0V2ZW50TGlzdGVuZXI6IGJpbmRBc0V2ZW50TGlzdGVuZXIsCiAgICBjdXJyeTogICAgICAgICAgICAgICBjdXJyeSwKICAgIGRlbGF5OiAgICAgICAgICAgICAgIGRlbGF5LAogICAgZGVmZXI6ICAgICAgICAgICAgICAgZGVmZXIsCiAgICB3cmFwOiAgICAgICAgICAgICAgICB3cmFwLAogICAgbWV0aG9kaXplOiAgICAgICAgICAgbWV0aG9kaXplCiAgfTsKCiAgaWYgKCFGdW5jdGlvbi5wcm90b3R5cGUuYmluZCkKICAgIGV4dGVuc2lvbnMuYmluZCA9IGJpbmQ7CgogIHJldHVybiBleHRlbnNpb25zOwp9KSgpKTsKCgoKKGZ1bmN0aW9uKHByb3RvKSB7CgoKICBmdW5jdGlvbiB0b0lTT1N0cmluZygpIHsKICAgIHJldHVybiB0aGlzLmdldFVUQ0Z1bGxZZWFyKCkgKyAnLScgKwogICAgICAodGhpcy5nZXRVVENNb250aCgpICsgMSkudG9QYWRkZWRTdHJpbmcoMikgKyAnLScgKwogICAgICB0aGlzLmdldFVUQ0RhdGUoKS50b1BhZGRlZFN0cmluZygyKSArICdUJyArCiAgICAgIHRoaXMuZ2V0VVRDSG91cnMoKS50b1BhZGRlZFN0cmluZygyKSArICc6JyArCiAgICAgIHRoaXMuZ2V0VVRDTWludXRlcygpLnRvUGFkZGVkU3RyaW5nKDIpICsgJzonICsKICAgICAgdGhpcy5nZXRVVENTZWNvbmRzKCkudG9QYWRkZWRTdHJpbmcoMikgKyAnWic7CiAgfQoKCiAgZnVuY3Rpb24gdG9KU09OKCkgewogICAgcmV0dXJuIHRoaXMudG9JU09TdHJpbmcoKTsKICB9CgogIGlmICghcHJvdG8udG9JU09TdHJpbmcpIHByb3RvLnRvSVNPU3RyaW5nID0gdG9JU09TdHJpbmc7CiAgaWYgKCFwcm90by50b0pTT04pIHByb3RvLnRvSlNPTiA9IHRvSlNPTjsKCn0pKERhdGUucHJvdG90eXBlKTsKCgpSZWdFeHAucHJvdG90eXBlLm1hdGNoID0gUmVnRXhwLnByb3RvdHlwZS50ZXN0OwoKUmVnRXhwLmVzY2FwZSA9IGZ1bmN0aW9uKHN0cikgewogIHJldHVybiBTdHJpbmcoc3RyKS5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7Cn07CnZhciBQZXJpb2RpY2FsRXhlY3V0ZXIgPSBDbGFzcy5jcmVhdGUoewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKGNhbGxiYWNrLCBmcmVxdWVuY3kpIHsKICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjazsKICAgIHRoaXMuZnJlcXVlbmN5ID0gZnJlcXVlbmN5OwogICAgdGhpcy5jdXJyZW50bHlFeGVjdXRpbmcgPSBmYWxzZTsKCiAgICB0aGlzLnJlZ2lzdGVyQ2FsbGJhY2soKTsKICB9LAoKICByZWdpc3RlckNhbGxiYWNrOiBmdW5jdGlvbigpIHsKICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLm9uVGltZXJFdmVudC5iaW5kKHRoaXMpLCB0aGlzLmZyZXF1ZW5jeSAqIDEwMDApOwogIH0sCgogIGV4ZWN1dGU6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5jYWxsYmFjayh0aGlzKTsKICB9LAoKICBzdG9wOiBmdW5jdGlvbigpIHsKICAgIGlmICghdGhpcy50aW1lcikgcmV0dXJuOwogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgIHRoaXMudGltZXIgPSBudWxsOwogIH0sCgogIG9uVGltZXJFdmVudDogZnVuY3Rpb24oKSB7CiAgICBpZiAoIXRoaXMuY3VycmVudGx5RXhlY3V0aW5nKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5jdXJyZW50bHlFeGVjdXRpbmcgPSB0cnVlOwogICAgICAgIHRoaXMuZXhlY3V0ZSgpOwogICAgICAgIHRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0gZmFsc2U7CiAgICAgIH0gY2F0Y2goZSkgewogICAgICAgIHRoaXMuY3VycmVudGx5RXhlY3V0aW5nID0gZmFsc2U7CiAgICAgICAgdGhyb3cgZTsKICAgICAgfQogICAgfQogIH0KfSk7Ck9iamVjdC5leHRlbmQoU3RyaW5nLCB7CiAgaW50ZXJwcmV0OiBmdW5jdGlvbih2YWx1ZSkgewogICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IFN0cmluZyh2YWx1ZSk7CiAgfSwKICBzcGVjaWFsQ2hhcjogewogICAgJ1xiJzogJ1xcYicsCiAgICAnXHQnOiAnXFx0JywKICAgICdcbic6ICdcXG4nLAogICAgJ1xmJzogJ1xcZicsCiAgICAnXHInOiAnXFxyJywKICAgICdcXCc6ICdcXFxcJwogIH0KfSk7CgpPYmplY3QuZXh0ZW5kKFN0cmluZy5wcm90b3R5cGUsIChmdW5jdGlvbigpIHsKICB2YXIgTkFUSVZFX0pTT05fUEFSU0VfU1VQUE9SVCA9IHdpbmRvdy5KU09OICYmCiAgICB0eXBlb2YgSlNPTi5wYXJzZSA9PT0gJ2Z1bmN0aW9uJyAmJgogICAgSlNPTi5wYXJzZSgneyJ0ZXN0IjogdHJ1ZX0nKS50ZXN0OwoKICBmdW5jdGlvbiBwcmVwYXJlUmVwbGFjZW1lbnQocmVwbGFjZW1lbnQpIHsKICAgIGlmIChPYmplY3QuaXNGdW5jdGlvbihyZXBsYWNlbWVudCkpIHJldHVybiByZXBsYWNlbWVudDsKICAgIHZhciB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXBsYWNlbWVudCk7CiAgICByZXR1cm4gZnVuY3Rpb24obWF0Y2gpIHsgcmV0dXJuIHRlbXBsYXRlLmV2YWx1YXRlKG1hdGNoKSB9OwogIH0KCiAgZnVuY3Rpb24gaXNOb25FbXB0eVJlZ0V4cChyZWdleHApIHsKICAgIHJldHVybiByZWdleHAuc291cmNlICYmIHJlZ2V4cC5zb3VyY2UgIT09ICcoPzopJzsKICB9CgoKICBmdW5jdGlvbiBnc3ViKHBhdHRlcm4sIHJlcGxhY2VtZW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJycsIHNvdXJjZSA9IHRoaXMsIG1hdGNoOwogICAgcmVwbGFjZW1lbnQgPSBwcmVwYXJlUmVwbGFjZW1lbnQocmVwbGFjZW1lbnQpOwoKICAgIGlmIChPYmplY3QuaXNTdHJpbmcocGF0dGVybikpCiAgICAgIHBhdHRlcm4gPSBSZWdFeHAuZXNjYXBlKHBhdHRlcm4pOwoKICAgIGlmICghKHBhdHRlcm4ubGVuZ3RoIHx8IGlzTm9uRW1wdHlSZWdFeHAocGF0dGVybikpKSB7CiAgICAgIHJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnQoJycpOwogICAgICByZXR1cm4gcmVwbGFjZW1lbnQgKyBzb3VyY2Uuc3BsaXQoJycpLmpvaW4ocmVwbGFjZW1lbnQpICsgcmVwbGFjZW1lbnQ7CiAgICB9CgogICAgd2hpbGUgKHNvdXJjZS5sZW5ndGggPiAwKSB7CiAgICAgIG1hdGNoID0gc291cmNlLm1hdGNoKHBhdHRlcm4pCiAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFswXS5sZW5ndGggPiAwKSB7CiAgICAgICAgcmVzdWx0ICs9IHNvdXJjZS5zbGljZSgwLCBtYXRjaC5pbmRleCk7CiAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5pbnRlcnByZXQocmVwbGFjZW1lbnQobWF0Y2gpKTsKICAgICAgICBzb3VyY2UgID0gc291cmNlLnNsaWNlKG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHQgKz0gc291cmNlLCBzb3VyY2UgPSAnJzsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIHN1YihwYXR0ZXJuLCByZXBsYWNlbWVudCwgY291bnQpIHsKICAgIHJlcGxhY2VtZW50ID0gcHJlcGFyZVJlcGxhY2VtZW50KHJlcGxhY2VtZW50KTsKICAgIGNvdW50ID0gT2JqZWN0LmlzVW5kZWZpbmVkKGNvdW50KSA/IDEgOiBjb3VudDsKCiAgICByZXR1cm4gdGhpcy5nc3ViKHBhdHRlcm4sIGZ1bmN0aW9uKG1hdGNoKSB7CiAgICAgIGlmICgtLWNvdW50IDwgMCkgcmV0dXJuIG1hdGNoWzBdOwogICAgICByZXR1cm4gcmVwbGFjZW1lbnQobWF0Y2gpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBzY2FuKHBhdHRlcm4sIGl0ZXJhdG9yKSB7CiAgICB0aGlzLmdzdWIocGF0dGVybiwgaXRlcmF0b3IpOwogICAgcmV0dXJuIFN0cmluZyh0aGlzKTsKICB9CgogIGZ1bmN0aW9uIHRydW5jYXRlKGxlbmd0aCwgdHJ1bmNhdGlvbikgewogICAgbGVuZ3RoID0gbGVuZ3RoIHx8IDMwOwogICAgdHJ1bmNhdGlvbiA9IE9iamVjdC5pc1VuZGVmaW5lZCh0cnVuY2F0aW9uKSA/ICcuLi4nIDogdHJ1bmNhdGlvbjsKICAgIHJldHVybiB0aGlzLmxlbmd0aCA+IGxlbmd0aCA/CiAgICAgIHRoaXMuc2xpY2UoMCwgbGVuZ3RoIC0gdHJ1bmNhdGlvbi5sZW5ndGgpICsgdHJ1bmNhdGlvbiA6IFN0cmluZyh0aGlzKTsKICB9CgogIGZ1bmN0aW9uIHN0cmlwKCkgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxzKy8sICcnKS5yZXBsYWNlKC9ccyskLywgJycpOwogIH0KCiAgZnVuY3Rpb24gc3RyaXBUYWdzKCkgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvPFx3KyhccysoIlteIl0qInwnW14nXSonfFtePl0pKyk/Pnw8XC9cdys+L2dpLCAnJyk7CiAgfQoKICBmdW5jdGlvbiBzdHJpcFNjcmlwdHMoKSB7CiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKG5ldyBSZWdFeHAoUHJvdG90eXBlLlNjcmlwdEZyYWdtZW50LCAnaW1nJyksICcnKTsKICB9CgogIGZ1bmN0aW9uIGV4dHJhY3RTY3JpcHRzKCkgewogICAgdmFyIG1hdGNoQWxsID0gbmV3IFJlZ0V4cChQcm90b3R5cGUuU2NyaXB0RnJhZ21lbnQsICdpbWcnKSwKICAgICAgICBtYXRjaE9uZSA9IG5ldyBSZWdFeHAoUHJvdG90eXBlLlNjcmlwdEZyYWdtZW50LCAnaW0nKTsKICAgIHJldHVybiAodGhpcy5tYXRjaChtYXRjaEFsbCkgfHwgW10pLm1hcChmdW5jdGlvbihzY3JpcHRUYWcpIHsKICAgICAgcmV0dXJuIChzY3JpcHRUYWcubWF0Y2gobWF0Y2hPbmUpIHx8IFsnJywgJyddKVsxXTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gZXZhbFNjcmlwdHMoKSB7CiAgICByZXR1cm4gdGhpcy5leHRyYWN0U2NyaXB0cygpLm1hcChmdW5jdGlvbihzY3JpcHQpIHsgcmV0dXJuIGV2YWwoc2NyaXB0KTsgfSk7CiAgfQoKICBmdW5jdGlvbiBlc2NhcGVIVE1MKCkgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvJi9nLCcmYW1wOycpLnJlcGxhY2UoLzwvZywnJmx0OycpLnJlcGxhY2UoLz4vZywnJmd0OycpOwogIH0KCiAgZnVuY3Rpb24gdW5lc2NhcGVIVE1MKCkgewogICAgcmV0dXJuIHRoaXMuc3RyaXBUYWdzKCkucmVwbGFjZSgvJmx0Oy9nLCc8JykucmVwbGFjZSgvJmd0Oy9nLCc+JykucmVwbGFjZSgvJmFtcDsvZywnJicpOwogIH0KCgogIGZ1bmN0aW9uIHRvUXVlcnlQYXJhbXMoc2VwYXJhdG9yKSB7CiAgICB2YXIgbWF0Y2ggPSB0aGlzLnN0cmlwKCkubWF0Y2goLyhbXj8jXSopKCMuKik/JC8pOwogICAgaWYgKCFtYXRjaCkgcmV0dXJuIHsgfTsKCiAgICByZXR1cm4gbWF0Y2hbMV0uc3BsaXQoc2VwYXJhdG9yIHx8ICcmJykuaW5qZWN0KHsgfSwgZnVuY3Rpb24oaGFzaCwgcGFpcikgewogICAgICBpZiAoKHBhaXIgPSBwYWlyLnNwbGl0KCc9JykpWzBdKSB7CiAgICAgICAgdmFyIGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyLnNoaWZ0KCkpLAogICAgICAgICAgICB2YWx1ZSA9IHBhaXIubGVuZ3RoID4gMSA/IHBhaXIuam9pbignPScpIDogcGFpclswXTsKCiAgICAgICAgaWYgKHZhbHVlICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFsdWUgPSB2YWx1ZS5nc3ViKCcrJywgJyAnKTsKICAgICAgICAgIHZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTsKICAgICAgICB9CgogICAgICAgIGlmIChrZXkgaW4gaGFzaCkgewogICAgICAgICAgaWYgKCFPYmplY3QuaXNBcnJheShoYXNoW2tleV0pKSBoYXNoW2tleV0gPSBbaGFzaFtrZXldXTsKICAgICAgICAgIGhhc2hba2V5XS5wdXNoKHZhbHVlKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBoYXNoW2tleV0gPSB2YWx1ZTsKICAgICAgfQogICAgICByZXR1cm4gaGFzaDsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gdG9BcnJheSgpIHsKICAgIHJldHVybiB0aGlzLnNwbGl0KCcnKTsKICB9CgogIGZ1bmN0aW9uIHN1Y2MoKSB7CiAgICByZXR1cm4gdGhpcy5zbGljZSgwLCB0aGlzLmxlbmd0aCAtIDEpICsKICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmNoYXJDb2RlQXQodGhpcy5sZW5ndGggLSAxKSArIDEpOwogIH0KCiAgZnVuY3Rpb24gdGltZXMoY291bnQpIHsKICAgIHJldHVybiBjb3VudCA8IDEgPyAnJyA6IG5ldyBBcnJheShjb3VudCArIDEpLmpvaW4odGhpcyk7CiAgfQoKICBmdW5jdGlvbiBjYW1lbGl6ZSgpIHsKICAgIHJldHVybiB0aGlzLnJlcGxhY2UoLy0rKC4pPy9nLCBmdW5jdGlvbihtYXRjaCwgY2hyKSB7CiAgICAgIHJldHVybiBjaHIgPyBjaHIudG9VcHBlckNhc2UoKSA6ICcnOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBjYXBpdGFsaXplKCkgewogICAgcmV0dXJuIHRoaXMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnN1YnN0cmluZygxKS50b0xvd2VyQ2FzZSgpOwogIH0KCiAgZnVuY3Rpb24gdW5kZXJzY29yZSgpIHsKICAgIHJldHVybiB0aGlzLnJlcGxhY2UoLzo6L2csICcvJykKICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbQS1aXSspKFtBLVpdW2Etel0pL2csICckMV8kMicpCiAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oW2EtelxkXSkoW0EtWl0pL2csICckMV8kMicpCiAgICAgICAgICAgICAgIC5yZXBsYWNlKC8tL2csICdfJykKICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCk7CiAgfQoKICBmdW5jdGlvbiBkYXNoZXJpemUoKSB7CiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9fL2csICctJyk7CiAgfQoKICBmdW5jdGlvbiBpbnNwZWN0KHVzZURvdWJsZVF1b3RlcykgewogICAgdmFyIGVzY2FwZWRTdHJpbmcgPSB0aGlzLnJlcGxhY2UoL1tceDAwLVx4MWZcXF0vZywgZnVuY3Rpb24oY2hhcmFjdGVyKSB7CiAgICAgIGlmIChjaGFyYWN0ZXIgaW4gU3RyaW5nLnNwZWNpYWxDaGFyKSB7CiAgICAgICAgcmV0dXJuIFN0cmluZy5zcGVjaWFsQ2hhcltjaGFyYWN0ZXJdOwogICAgICB9CiAgICAgIHJldHVybiAnXFx1MDAnICsgY2hhcmFjdGVyLmNoYXJDb2RlQXQoKS50b1BhZGRlZFN0cmluZygyLCAxNik7CiAgICB9KTsKICAgIGlmICh1c2VEb3VibGVRdW90ZXMpIHJldHVybiAnIicgKyBlc2NhcGVkU3RyaW5nLnJlcGxhY2UoLyIvZywgJ1xcIicpICsgJyInOwogICAgcmV0dXJuICInIiArIGVzY2FwZWRTdHJpbmcucmVwbGFjZSgvJy9nLCAnXFxcJycpICsgIiciOwogIH0KCiAgZnVuY3Rpb24gdW5maWx0ZXJKU09OKGZpbHRlcikgewogICAgcmV0dXJuIHRoaXMucmVwbGFjZShmaWx0ZXIgfHwgUHJvdG90eXBlLkpTT05GaWx0ZXIsICckMScpOwogIH0KCiAgZnVuY3Rpb24gaXNKU09OKCkgewogICAgdmFyIHN0ciA9IHRoaXM7CiAgICBpZiAoc3RyLmJsYW5rKCkpIHJldHVybiBmYWxzZTsKICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9cXCg/OlsiXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2csICdAJyk7CiAgICBzdHIgPSBzdHIucmVwbGFjZSgvIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2csICddJyk7CiAgICBzdHIgPSBzdHIucmVwbGFjZSgvKD86Xnw6fCwpKD86XHMqXFspKy9nLCAnJyk7CiAgICByZXR1cm4gKC9eW1xdLDp7fVxzXSokLykudGVzdChzdHIpOwogIH0KCiAgZnVuY3Rpb24gZXZhbEpTT04oc2FuaXRpemUpIHsKICAgIHZhciBqc29uID0gdGhpcy51bmZpbHRlckpTT04oKSwKICAgICAgICBjeCA9IC9bXHUwMDAwXHUwMGFkXHUwNjAwLVx1MDYwNFx1MDcwZlx1MTdiNFx1MTdiNVx1MjAwYy1cdTIwMGZcdTIwMjgtXHUyMDJmXHUyMDYwLVx1MjA2Zlx1ZmVmZlx1ZmZmMC1cdWZmZmZdL2c7CiAgICBpZiAoY3gudGVzdChqc29uKSkgewogICAgICBqc29uID0ganNvbi5yZXBsYWNlKGN4LCBmdW5jdGlvbiAoYSkgewogICAgICAgIHJldHVybiAnXFx1JyArICgnMDAwMCcgKyBhLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCk7CiAgICAgIH0pOwogICAgfQogICAgdHJ5IHsKICAgICAgaWYgKCFzYW5pdGl6ZSB8fCBqc29uLmlzSlNPTigpKSByZXR1cm4gZXZhbCgnKCcgKyBqc29uICsgJyknKTsKICAgIH0gY2F0Y2ggKGUpIHsgfQogICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdCYWRseSBmb3JtZWQgSlNPTiBzdHJpbmc6ICcgKyB0aGlzLmluc3BlY3QoKSk7CiAgfQoKICBmdW5jdGlvbiBwYXJzZUpTT04oKSB7CiAgICB2YXIganNvbiA9IHRoaXMudW5maWx0ZXJKU09OKCk7CiAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKTsKICB9CgogIGZ1bmN0aW9uIGluY2x1ZGUocGF0dGVybikgewogICAgcmV0dXJuIHRoaXMuaW5kZXhPZihwYXR0ZXJuKSA+IC0xOwogIH0KCiAgZnVuY3Rpb24gc3RhcnRzV2l0aChwYXR0ZXJuLCBwb3NpdGlvbikgewogICAgcG9zaXRpb24gPSBPYmplY3QuaXNOdW1iZXIocG9zaXRpb24pID8gcG9zaXRpb24gOiAwOwogICAgcmV0dXJuIHRoaXMubGFzdEluZGV4T2YocGF0dGVybiwgcG9zaXRpb24pID09PSBwb3NpdGlvbjsKICB9CgogIGZ1bmN0aW9uIGVuZHNXaXRoKHBhdHRlcm4sIHBvc2l0aW9uKSB7CiAgICBwYXR0ZXJuID0gU3RyaW5nKHBhdHRlcm4pOwogICAgcG9zaXRpb24gPSBPYmplY3QuaXNOdW1iZXIocG9zaXRpb24pID8gcG9zaXRpb24gOiB0aGlzLmxlbmd0aDsKICAgIGlmIChwb3NpdGlvbiA8IDApIHBvc2l0aW9uID0gMDsKICAgIGlmIChwb3NpdGlvbiA+IHRoaXMubGVuZ3RoKSBwb3NpdGlvbiA9IHRoaXMubGVuZ3RoOwogICAgdmFyIGQgPSBwb3NpdGlvbiAtIHBhdHRlcm4ubGVuZ3RoOwogICAgcmV0dXJuIGQgPj0gMCAmJiB0aGlzLmluZGV4T2YocGF0dGVybiwgZCkgPT09IGQ7CiAgfQoKICBmdW5jdGlvbiBlbXB0eSgpIHsKICAgIHJldHVybiB0aGlzID09ICcnOwogIH0KCiAgZnVuY3Rpb24gYmxhbmsoKSB7CiAgICByZXR1cm4gL15ccyokLy50ZXN0KHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gaW50ZXJwb2xhdGUob2JqZWN0LCBwYXR0ZXJuKSB7CiAgICByZXR1cm4gbmV3IFRlbXBsYXRlKHRoaXMsIHBhdHRlcm4pLmV2YWx1YXRlKG9iamVjdCk7CiAgfQoKICByZXR1cm4gewogICAgZ3N1YjogICAgICAgICAgIGdzdWIsCiAgICBzdWI6ICAgICAgICAgICAgc3ViLAogICAgc2NhbjogICAgICAgICAgIHNjYW4sCiAgICB0cnVuY2F0ZTogICAgICAgdHJ1bmNhdGUsCiAgICBzdHJpcDogICAgICAgICAgU3RyaW5nLnByb3RvdHlwZS50cmltIHx8IHN0cmlwLAogICAgc3RyaXBUYWdzOiAgICAgIHN0cmlwVGFncywKICAgIHN0cmlwU2NyaXB0czogICBzdHJpcFNjcmlwdHMsCiAgICBleHRyYWN0U2NyaXB0czogZXh0cmFjdFNjcmlwdHMsCiAgICBldmFsU2NyaXB0czogICAgZXZhbFNjcmlwdHMsCiAgICBlc2NhcGVIVE1MOiAgICAgZXNjYXBlSFRNTCwKICAgIHVuZXNjYXBlSFRNTDogICB1bmVzY2FwZUhUTUwsCiAgICB0b1F1ZXJ5UGFyYW1zOiAgdG9RdWVyeVBhcmFtcywKICAgIHBhcnNlUXVlcnk6ICAgICB0b1F1ZXJ5UGFyYW1zLAogICAgdG9BcnJheTogICAgICAgIHRvQXJyYXksCiAgICBzdWNjOiAgICAgICAgICAgc3VjYywKICAgIHRpbWVzOiAgICAgICAgICB0aW1lcywKICAgIGNhbWVsaXplOiAgICAgICBjYW1lbGl6ZSwKICAgIGNhcGl0YWxpemU6ICAgICBjYXBpdGFsaXplLAogICAgdW5kZXJzY29yZTogICAgIHVuZGVyc2NvcmUsCiAgICBkYXNoZXJpemU6ICAgICAgZGFzaGVyaXplLAogICAgaW5zcGVjdDogICAgICAgIGluc3BlY3QsCiAgICB1bmZpbHRlckpTT046ICAgdW5maWx0ZXJKU09OLAogICAgaXNKU09OOiAgICAgICAgIGlzSlNPTiwKICAgIGV2YWxKU09OOiAgICAgICBOQVRJVkVfSlNPTl9QQVJTRV9TVVBQT1JUID8gcGFyc2VKU09OIDogZXZhbEpTT04sCiAgICBpbmNsdWRlOiAgICAgICAgaW5jbHVkZSwKICAgIHN0YXJ0c1dpdGg6ICAgICBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGggfHwgc3RhcnRzV2l0aCwKICAgIGVuZHNXaXRoOiAgICAgICBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoIHx8IGVuZHNXaXRoLAogICAgZW1wdHk6ICAgICAgICAgIGVtcHR5LAogICAgYmxhbms6ICAgICAgICAgIGJsYW5rLAogICAgaW50ZXJwb2xhdGU6ICAgIGludGVycG9sYXRlCiAgfTsKfSkoKSk7Cgp2YXIgVGVtcGxhdGUgPSBDbGFzcy5jcmVhdGUoewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKHRlbXBsYXRlLCBwYXR0ZXJuKSB7CiAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGUudG9TdHJpbmcoKTsKICAgIHRoaXMucGF0dGVybiA9IHBhdHRlcm4gfHwgVGVtcGxhdGUuUGF0dGVybjsKICB9LAoKICBldmFsdWF0ZTogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICBpZiAob2JqZWN0ICYmIE9iamVjdC5pc0Z1bmN0aW9uKG9iamVjdC50b1RlbXBsYXRlUmVwbGFjZW1lbnRzKSkKICAgICAgb2JqZWN0ID0gb2JqZWN0LnRvVGVtcGxhdGVSZXBsYWNlbWVudHMoKTsKCiAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZS5nc3ViKHRoaXMucGF0dGVybiwgZnVuY3Rpb24obWF0Y2gpIHsKICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4gKG1hdGNoWzFdICsgJycpOwoKICAgICAgdmFyIGJlZm9yZSA9IG1hdGNoWzFdIHx8ICcnOwogICAgICBpZiAoYmVmb3JlID09ICdcXCcpIHJldHVybiBtYXRjaFsyXTsKCiAgICAgIHZhciBjdHggPSBvYmplY3QsIGV4cHIgPSBtYXRjaFszXSwKICAgICAgICAgIHBhdHRlcm4gPSAvXihbXi5bXSt8XFsoKD86Lio/W15cXF0pPylcXSkoXC58XFt8JCkvOwoKICAgICAgbWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoZXhwcik7CiAgICAgIGlmIChtYXRjaCA9PSBudWxsKSByZXR1cm4gYmVmb3JlOwoKICAgICAgd2hpbGUgKG1hdGNoICE9IG51bGwpIHsKICAgICAgICB2YXIgY29tcCA9IG1hdGNoWzFdLnN0YXJ0c1dpdGgoJ1snKSA/IG1hdGNoWzJdLnJlcGxhY2UoL1xcXFxdL2csICddJykgOiBtYXRjaFsxXTsKICAgICAgICBjdHggPSBjdHhbY29tcF07CiAgICAgICAgaWYgKG51bGwgPT0gY3R4IHx8ICcnID09IG1hdGNoWzNdKSBicmVhazsKICAgICAgICBleHByID0gZXhwci5zdWJzdHJpbmcoJ1snID09IG1hdGNoWzNdID8gbWF0Y2hbMV0ubGVuZ3RoIDogbWF0Y2hbMF0ubGVuZ3RoKTsKICAgICAgICBtYXRjaCA9IHBhdHRlcm4uZXhlYyhleHByKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGJlZm9yZSArIFN0cmluZy5pbnRlcnByZXQoY3R4KTsKICAgIH0pOwogIH0KfSk7ClRlbXBsYXRlLlBhdHRlcm4gPSAvKF58LnxccnxcbikoI1x7KC4qPylcfSkvOwoKdmFyICRicmVhayA9IHsgfTsKCnZhciBFbnVtZXJhYmxlID0gKGZ1bmN0aW9uKCkgewogIGZ1bmN0aW9uIGVhY2goaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHRyeSB7CiAgICAgIHRoaXMuX2VhY2goaXRlcmF0b3IsIGNvbnRleHQpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBpZiAoZSAhPSAkYnJlYWspIHRocm93IGU7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9CgogIGZ1bmN0aW9uIGVhY2hTbGljZShudW1iZXIsIGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICB2YXIgaW5kZXggPSAtbnVtYmVyLCBzbGljZXMgPSBbXSwgYXJyYXkgPSB0aGlzLnRvQXJyYXkoKTsKICAgIGlmIChudW1iZXIgPCAxKSByZXR1cm4gYXJyYXk7CiAgICB3aGlsZSAoKGluZGV4ICs9IG51bWJlcikgPCBhcnJheS5sZW5ndGgpCiAgICAgIHNsaWNlcy5wdXNoKGFycmF5LnNsaWNlKGluZGV4LCBpbmRleCtudW1iZXIpKTsKICAgIHJldHVybiBzbGljZXMuY29sbGVjdChpdGVyYXRvciwgY29udGV4dCk7CiAgfQoKICBmdW5jdGlvbiBhbGwoaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgcmVzdWx0ID0gdHJ1ZTsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgcmVzdWx0ID0gcmVzdWx0ICYmICEhaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIHRoaXMpOwogICAgICBpZiAoIXJlc3VsdCkgdGhyb3cgJGJyZWFrOwogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgZnVuY3Rpb24gYW55KGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LOwogICAgdmFyIHJlc3VsdCA9IGZhbHNlOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICBpZiAocmVzdWx0ID0gISFpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgdGhpcykpCiAgICAgICAgdGhyb3cgJGJyZWFrOwogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgZnVuY3Rpb24gY29sbGVjdChpdGVyYXRvciwgY29udGV4dCkgewogICAgaXRlcmF0b3IgPSBpdGVyYXRvciB8fCBQcm90b3R5cGUuSzsKICAgIHZhciByZXN1bHRzID0gW107CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIHJlc3VsdHMucHVzaChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgdGhpcykpOwogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGZ1bmN0aW9uIGRldGVjdChpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHJlc3VsdDsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCB0aGlzKSkgewogICAgICAgIHJlc3VsdCA9IHZhbHVlOwogICAgICAgIHRocm93ICRicmVhazsKICAgICAgfQogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gcmVzdWx0OwogIH0KCiAgZnVuY3Rpb24gZmluZEFsbChpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCB0aGlzKSkKICAgICAgICByZXN1bHRzLnB1c2godmFsdWUpOwogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGZ1bmN0aW9uIGdyZXAoZmlsdGVyLCBpdGVyYXRvciwgY29udGV4dCkgewogICAgaXRlcmF0b3IgPSBpdGVyYXRvciB8fCBQcm90b3R5cGUuSzsKICAgIHZhciByZXN1bHRzID0gW107CgogICAgaWYgKE9iamVjdC5pc1N0cmluZyhmaWx0ZXIpKQogICAgICBmaWx0ZXIgPSBuZXcgUmVnRXhwKFJlZ0V4cC5lc2NhcGUoZmlsdGVyKSk7CgogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICBpZiAoZmlsdGVyLm1hdGNoKHZhbHVlKSkKICAgICAgICByZXN1bHRzLnB1c2goaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIHRoaXMpKTsKICAgIH0sIHRoaXMpOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBpbmNsdWRlKG9iamVjdCkgewogICAgaWYgKE9iamVjdC5pc0Z1bmN0aW9uKHRoaXMuaW5kZXhPZikgJiYgdGhpcy5pbmRleE9mKG9iamVjdCkgIT0gLTEpCiAgICAgIHJldHVybiB0cnVlOwoKICAgIHZhciBmb3VuZCA9IGZhbHNlOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PSBvYmplY3QpIHsKICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgdGhyb3cgJGJyZWFrOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBmb3VuZDsKICB9CgogIGZ1bmN0aW9uIGluR3JvdXBzT2YobnVtYmVyLCBmaWxsV2l0aCkgewogICAgZmlsbFdpdGggPSBPYmplY3QuaXNVbmRlZmluZWQoZmlsbFdpdGgpID8gbnVsbCA6IGZpbGxXaXRoOwogICAgcmV0dXJuIHRoaXMuZWFjaFNsaWNlKG51bWJlciwgZnVuY3Rpb24oc2xpY2UpIHsKICAgICAgd2hpbGUoc2xpY2UubGVuZ3RoIDwgbnVtYmVyKSBzbGljZS5wdXNoKGZpbGxXaXRoKTsKICAgICAgcmV0dXJuIHNsaWNlOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBpbmplY3QobWVtbywgaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgbWVtbyA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgbWVtbywgdmFsdWUsIGluZGV4LCB0aGlzKTsKICAgIH0sIHRoaXMpOwogICAgcmV0dXJuIG1lbW87CiAgfQoKICBmdW5jdGlvbiBpbnZva2UobWV0aG9kKSB7CiAgICB2YXIgYXJncyA9ICRBKGFyZ3VtZW50cykuc2xpY2UoMSk7CiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlW21ldGhvZF0uYXBwbHkodmFsdWUsIGFyZ3MpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBtYXgoaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgcmVzdWx0OwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICB2YWx1ZSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCB0aGlzKTsKICAgICAgaWYgKHJlc3VsdCA9PSBudWxsIHx8IHZhbHVlID49IHJlc3VsdCkKICAgICAgICByZXN1bHQgPSB2YWx1ZTsKICAgIH0sIHRoaXMpOwogICAgcmV0dXJuIHJlc3VsdDsKICB9CgogIGZ1bmN0aW9uIG1pbihpdGVyYXRvciwgY29udGV4dCkgewogICAgaXRlcmF0b3IgPSBpdGVyYXRvciB8fCBQcm90b3R5cGUuSzsKICAgIHZhciByZXN1bHQ7CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIHZhbHVlID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIHRoaXMpOwogICAgICBpZiAocmVzdWx0ID09IG51bGwgfHwgdmFsdWUgPCByZXN1bHQpCiAgICAgICAgcmVzdWx0ID0gdmFsdWU7CiAgICB9LCB0aGlzKTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQoKICBmdW5jdGlvbiBwYXJ0aXRpb24oaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgdHJ1ZXMgPSBbXSwgZmFsc2VzID0gW107CiAgICB0aGlzLmVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgdGhpcykgPwogICAgICAgIHRydWVzIDogZmFsc2VzKS5wdXNoKHZhbHVlKTsKICAgIH0sIHRoaXMpOwogICAgcmV0dXJuIFt0cnVlcywgZmFsc2VzXTsKICB9CgogIGZ1bmN0aW9uIHBsdWNrKHByb3BlcnR5KSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJlc3VsdHMucHVzaCh2YWx1ZVtwcm9wZXJ0eV0pOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGZ1bmN0aW9uIHJlamVjdChpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHRoaXMuZWFjaChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgaWYgKCFpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgdGhpcykpCiAgICAgICAgcmVzdWx0cy5wdXNoKHZhbHVlKTsKICAgIH0sIHRoaXMpOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBzb3J0QnkoaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCB0aGlzKQogICAgICB9OwogICAgfSwgdGhpcykuc29ydChmdW5jdGlvbihsZWZ0LCByaWdodCkgewogICAgICB2YXIgYSA9IGxlZnQuY3JpdGVyaWEsIGIgPSByaWdodC5jcml0ZXJpYTsKICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwOwogICAgfSkucGx1Y2soJ3ZhbHVlJyk7CiAgfQoKICBmdW5jdGlvbiB0b0FycmF5KCkgewogICAgcmV0dXJuIHRoaXMubWFwKCk7CiAgfQoKICBmdW5jdGlvbiB6aXAoKSB7CiAgICB2YXIgaXRlcmF0b3IgPSBQcm90b3R5cGUuSywgYXJncyA9ICRBKGFyZ3VtZW50cyk7CiAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24oYXJncy5sYXN0KCkpKQogICAgICBpdGVyYXRvciA9IGFyZ3MucG9wKCk7CgogICAgdmFyIGNvbGxlY3Rpb25zID0gW3RoaXNdLmNvbmNhdChhcmdzKS5tYXAoJEEpOwogICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkgewogICAgICByZXR1cm4gaXRlcmF0b3IoY29sbGVjdGlvbnMucGx1Y2soaW5kZXgpKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gc2l6ZSgpIHsKICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKS5sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBpbnNwZWN0KCkgewogICAgcmV0dXJuICcjPEVudW1lcmFibGU6JyArIHRoaXMudG9BcnJheSgpLmluc3BlY3QoKSArICc+JzsKICB9CgoKCgoKCgoKCiAgcmV0dXJuIHsKICAgIGVhY2g6ICAgICAgIGVhY2gsCiAgICBlYWNoU2xpY2U6ICBlYWNoU2xpY2UsCiAgICBhbGw6ICAgICAgICBhbGwsCiAgICBldmVyeTogICAgICBhbGwsCiAgICBhbnk6ICAgICAgICBhbnksCiAgICBzb21lOiAgICAgICBhbnksCiAgICBjb2xsZWN0OiAgICBjb2xsZWN0LAogICAgbWFwOiAgICAgICAgY29sbGVjdCwKICAgIGRldGVjdDogICAgIGRldGVjdCwKICAgIGZpbmRBbGw6ICAgIGZpbmRBbGwsCiAgICBzZWxlY3Q6ICAgICBmaW5kQWxsLAogICAgZmlsdGVyOiAgICAgZmluZEFsbCwKICAgIGdyZXA6ICAgICAgIGdyZXAsCiAgICBpbmNsdWRlOiAgICBpbmNsdWRlLAogICAgbWVtYmVyOiAgICAgaW5jbHVkZSwKICAgIGluR3JvdXBzT2Y6IGluR3JvdXBzT2YsCiAgICBpbmplY3Q6ICAgICBpbmplY3QsCiAgICBpbnZva2U6ICAgICBpbnZva2UsCiAgICBtYXg6ICAgICAgICBtYXgsCiAgICBtaW46ICAgICAgICBtaW4sCiAgICBwYXJ0aXRpb246ICBwYXJ0aXRpb24sCiAgICBwbHVjazogICAgICBwbHVjaywKICAgIHJlamVjdDogICAgIHJlamVjdCwKICAgIHNvcnRCeTogICAgIHNvcnRCeSwKICAgIHRvQXJyYXk6ICAgIHRvQXJyYXksCiAgICBlbnRyaWVzOiAgICB0b0FycmF5LAogICAgemlwOiAgICAgICAgemlwLAogICAgc2l6ZTogICAgICAgc2l6ZSwKICAgIGluc3BlY3Q6ICAgIGluc3BlY3QsCiAgICBmaW5kOiAgICAgICBkZXRlY3QKICB9Owp9KSgpOwoKZnVuY3Rpb24gJEEoaXRlcmFibGUpIHsKICBpZiAoIWl0ZXJhYmxlKSByZXR1cm4gW107CiAgaWYgKCd0b0FycmF5JyBpbiBPYmplY3QoaXRlcmFibGUpKSByZXR1cm4gaXRlcmFibGUudG9BcnJheSgpOwogIHZhciBsZW5ndGggPSBpdGVyYWJsZS5sZW5ndGggfHwgMCwgcmVzdWx0cyA9IG5ldyBBcnJheShsZW5ndGgpOwogIHdoaWxlIChsZW5ndGgtLSkgcmVzdWx0c1tsZW5ndGhdID0gaXRlcmFibGVbbGVuZ3RoXTsKICByZXR1cm4gcmVzdWx0czsKfQoKCmZ1bmN0aW9uICR3KHN0cmluZykgewogIGlmICghT2JqZWN0LmlzU3RyaW5nKHN0cmluZykpIHJldHVybiBbXTsKICBzdHJpbmcgPSBzdHJpbmcuc3RyaXAoKTsKICByZXR1cm4gc3RyaW5nID8gc3RyaW5nLnNwbGl0KC9ccysvKSA6IFtdOwp9CgpBcnJheS5mcm9tID0gJEE7CgoKKGZ1bmN0aW9uKCkgewogIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLAogICAgICBzbGljZSA9IGFycmF5UHJvdG8uc2xpY2UsCiAgICAgIF9lYWNoID0gYXJyYXlQcm90by5mb3JFYWNoOyAvLyB1c2UgbmF0aXZlIGJyb3dzZXIgSlMgMS42IGltcGxlbWVudGF0aW9uIGlmIGF2YWlsYWJsZQoKICBmdW5jdGlvbiBlYWNoKGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gdGhpcy5sZW5ndGggPj4+IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpZiAoaSBpbiB0aGlzKSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHRoaXNbaV0sIGksIHRoaXMpOwogICAgfQogIH0KICBpZiAoIV9lYWNoKSBfZWFjaCA9IGVhY2g7CgogIGZ1bmN0aW9uIGNsZWFyKCkgewogICAgdGhpcy5sZW5ndGggPSAwOwogICAgcmV0dXJuIHRoaXM7CiAgfQoKICBmdW5jdGlvbiBmaXJzdCgpIHsKICAgIHJldHVybiB0aGlzWzBdOwogIH0KCiAgZnVuY3Rpb24gbGFzdCgpIHsKICAgIHJldHVybiB0aGlzW3RoaXMubGVuZ3RoIC0gMV07CiAgfQoKICBmdW5jdGlvbiBjb21wYWN0KCkgewogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBmbGF0dGVuKCkgewogICAgcmV0dXJuIHRoaXMuaW5qZWN0KFtdLCBmdW5jdGlvbihhcnJheSwgdmFsdWUpIHsKICAgICAgaWYgKE9iamVjdC5pc0FycmF5KHZhbHVlKSkKICAgICAgICByZXR1cm4gYXJyYXkuY29uY2F0KHZhbHVlLmZsYXR0ZW4oKSk7CiAgICAgIGFycmF5LnB1c2godmFsdWUpOwogICAgICByZXR1cm4gYXJyYXk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHdpdGhvdXQoKSB7CiAgICB2YXIgdmFsdWVzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiAhdmFsdWVzLmluY2x1ZGUodmFsdWUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiByZXZlcnNlKGlubGluZSkgewogICAgcmV0dXJuIChpbmxpbmUgPT09IGZhbHNlID8gdGhpcy50b0FycmF5KCkgOiB0aGlzKS5fcmV2ZXJzZSgpOwogIH0KCiAgZnVuY3Rpb24gdW5pcShzb3J0ZWQpIHsKICAgIHJldHVybiB0aGlzLmluamVjdChbXSwgZnVuY3Rpb24oYXJyYXksIHZhbHVlLCBpbmRleCkgewogICAgICBpZiAoMCA9PSBpbmRleCB8fCAoc29ydGVkID8gYXJyYXkubGFzdCgpICE9IHZhbHVlIDogIWFycmF5LmluY2x1ZGUodmFsdWUpKSkKICAgICAgICBhcnJheS5wdXNoKHZhbHVlKTsKICAgICAgcmV0dXJuIGFycmF5OwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBpbnRlcnNlY3QoYXJyYXkpIHsKICAgIHJldHVybiB0aGlzLnVuaXEoKS5maW5kQWxsKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgcmV0dXJuIGFycmF5LmluZGV4T2YoaXRlbSkgIT09IC0xOwogICAgfSk7CiAgfQoKCiAgZnVuY3Rpb24gY2xvbmUoKSB7CiAgICByZXR1cm4gc2xpY2UuY2FsbCh0aGlzLCAwKTsKICB9CgogIGZ1bmN0aW9uIHNpemUoKSB7CiAgICByZXR1cm4gdGhpcy5sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBpbnNwZWN0KCkgewogICAgcmV0dXJuICdbJyArIHRoaXMubWFwKE9iamVjdC5pbnNwZWN0KS5qb2luKCcsICcpICsgJ10nOwogIH0KCiAgZnVuY3Rpb24gaW5kZXhPZihpdGVtLCBpKSB7CiAgICBpZiAodGhpcyA9PSBudWxsKSB0aHJvdyBuZXcgVHlwZUVycm9yKCk7CgogICAgdmFyIGFycmF5ID0gT2JqZWN0KHRoaXMpLCBsZW5ndGggPSBhcnJheS5sZW5ndGggPj4+IDA7CiAgICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gLTE7CgogICAgaSA9IE51bWJlcihpKTsKICAgIGlmIChpc05hTihpKSkgewogICAgICBpID0gMDsKICAgIH0gZWxzZSBpZiAoaSAhPT0gMCAmJiBpc0Zpbml0ZShpKSkgewogICAgICBpID0gKGkgPiAwID8gMSA6IC0xKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMoaSkpOwogICAgfQoKICAgIGlmIChpID4gbGVuZ3RoKSByZXR1cm4gLTE7CgogICAgdmFyIGsgPSBpID49IDAgPyBpIDogTWF0aC5tYXgobGVuZ3RoIC0gTWF0aC5hYnMoaSksIDApOwogICAgZm9yICg7IGsgPCBsZW5ndGg7IGsrKykKICAgICAgaWYgKGsgaW4gYXJyYXkgJiYgYXJyYXlba10gPT09IGl0ZW0pIHJldHVybiBrOwogICAgcmV0dXJuIC0xOwogIH0KCgogIGZ1bmN0aW9uIGxhc3RJbmRleE9mKGl0ZW0sIGkpIHsKICAgIGlmICh0aGlzID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoKTsKCiAgICB2YXIgYXJyYXkgPSBPYmplY3QodGhpcyksIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA+Pj4gMDsKICAgIGlmIChsZW5ndGggPT09IDApIHJldHVybiAtMTsKCiAgICBpZiAoIU9iamVjdC5pc1VuZGVmaW5lZChpKSkgewogICAgICBpID0gTnVtYmVyKGkpOwogICAgICBpZiAoaXNOYU4oaSkpIHsKICAgICAgICBpID0gMDsKICAgICAgfSBlbHNlIGlmIChpICE9PSAwICYmIGlzRmluaXRlKGkpKSB7CiAgICAgICAgaSA9IChpID4gMCA/IDEgOiAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKGkpKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaSA9IGxlbmd0aDsKICAgIH0KCiAgICB2YXIgayA9IGkgPj0gMCA/IE1hdGgubWluKGksIGxlbmd0aCAtIDEpIDoKICAgICBsZW5ndGggLSBNYXRoLmFicyhpKTsKCiAgICBmb3IgKDsgayA+PSAwOyBrLS0pCiAgICAgIGlmIChrIGluIGFycmF5ICYmIGFycmF5W2tdID09PSBpdGVtKSByZXR1cm4gazsKICAgIHJldHVybiAtMTsKICB9CgogIGZ1bmN0aW9uIGNvbmNhdChfKSB7CiAgICB2YXIgYXJyYXkgPSBbXSwgaXRlbXMgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMCksIGl0ZW0sIG4gPSAwOwogICAgaXRlbXMudW5zaGlmdCh0aGlzKTsKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpdGVtID0gaXRlbXNbaV07CiAgICAgIGlmIChPYmplY3QuaXNBcnJheShpdGVtKSAmJiAhKCdjYWxsZWUnIGluIGl0ZW0pKSB7CiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGFycmF5TGVuZ3RoID0gaXRlbS5sZW5ndGg7IGogPCBhcnJheUxlbmd0aDsgaisrKSB7CiAgICAgICAgICBpZiAoaiBpbiBpdGVtKSBhcnJheVtuXSA9IGl0ZW1bal07CiAgICAgICAgICBuKys7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGFycmF5W24rK10gPSBpdGVtOwogICAgICB9CiAgICB9CiAgICBhcnJheS5sZW5ndGggPSBuOwogICAgcmV0dXJuIGFycmF5OwogIH0KCgogIGZ1bmN0aW9uIHdyYXBOYXRpdmUobWV0aG9kKSB7CiAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIG1ldGhvZC5jYWxsKHRoaXMsIFByb3RvdHlwZS5LKTsKICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwogICAgICAgIGFyZ3MudW5zaGlmdChQcm90b3R5cGUuSyk7CiAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLCBhcmdzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgIH07CiAgfQoKCiAgZnVuY3Rpb24gbWFwKGl0ZXJhdG9yKSB7CiAgICBpZiAodGhpcyA9PSBudWxsKSB0aHJvdyBuZXcgVHlwZUVycm9yKCk7CiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yIHx8IFByb3RvdHlwZS5LOwoKICAgIHZhciBvYmplY3QgPSBPYmplY3QodGhpcyk7CiAgICB2YXIgcmVzdWx0cyA9IFtdLCBjb250ZXh0ID0gYXJndW1lbnRzWzFdLCBuID0gMDsKCiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aCA+Pj4gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChpIGluIG9iamVjdCkgewogICAgICAgIHJlc3VsdHNbbl0gPSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9iamVjdFtpXSwgaSwgb2JqZWN0KTsKICAgICAgfQogICAgICBuKys7CiAgICB9CiAgICByZXN1bHRzLmxlbmd0aCA9IG47CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGlmIChhcnJheVByb3RvLm1hcCkgewogICAgbWFwID0gd3JhcE5hdGl2ZShBcnJheS5wcm90b3R5cGUubWFwKTsKICB9CgogIGZ1bmN0aW9uIGZpbHRlcihpdGVyYXRvcikgewogICAgaWYgKHRoaXMgPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnVuY3Rpb24oaXRlcmF0b3IpKQogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7CgogICAgdmFyIG9iamVjdCA9IE9iamVjdCh0aGlzKTsKICAgIHZhciByZXN1bHRzID0gW10sIGNvbnRleHQgPSBhcmd1bWVudHNbMV0sIHZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoID4+PiAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGkgaW4gb2JqZWN0KSB7CiAgICAgICAgdmFsdWUgPSBvYmplY3RbaV07CiAgICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGksIG9iamVjdCkpIHsKICAgICAgICAgIHJlc3VsdHMucHVzaCh2YWx1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGlmIChhcnJheVByb3RvLmZpbHRlcikgewogICAgZmlsdGVyID0gQXJyYXkucHJvdG90eXBlLmZpbHRlcjsKICB9CgogIGZ1bmN0aW9uIHNvbWUoaXRlcmF0b3IpIHsKICAgIGlmICh0aGlzID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoKTsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50c1sxXTsKCiAgICB2YXIgb2JqZWN0ID0gT2JqZWN0KHRoaXMpOwogICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGggPj4+IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpZiAoaSBpbiBvYmplY3QgJiYgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmplY3RbaV0sIGksIG9iamVjdCkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGlmIChhcnJheVByb3RvLnNvbWUpIHsKICAgIHZhciBzb21lID0gd3JhcE5hdGl2ZShBcnJheS5wcm90b3R5cGUuc29tZSk7CiAgfQoKCiAgZnVuY3Rpb24gZXZlcnkoaXRlcmF0b3IpIHsKICAgIGlmICh0aGlzID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoKTsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50c1sxXTsKCiAgICB2YXIgb2JqZWN0ID0gT2JqZWN0KHRoaXMpOwogICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGggPj4+IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBpZiAoaSBpbiBvYmplY3QgJiYgIWl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqZWN0W2ldLCBpLCBvYmplY3QpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRydWU7CiAgfQoKICBpZiAoYXJyYXlQcm90by5ldmVyeSkgewogICAgdmFyIGV2ZXJ5ID0gd3JhcE5hdGl2ZShBcnJheS5wcm90b3R5cGUuZXZlcnkpOwogIH0KCiAgdmFyIF9yZWR1Y2UgPSBhcnJheVByb3RvLnJlZHVjZTsKICBmdW5jdGlvbiBpbmplY3QobWVtbywgaXRlcmF0b3IpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgUHJvdG90eXBlLks7CiAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50c1syXTsKICAgIHJldHVybiBfcmVkdWNlLmNhbGwodGhpcywgaXRlcmF0b3IuYmluZChjb250ZXh0KSwgbWVtbyk7CiAgfQoKICBpZiAoIWFycmF5UHJvdG8ucmVkdWNlKSB7CiAgICB2YXIgaW5qZWN0ID0gRW51bWVyYWJsZS5pbmplY3Q7CiAgfQoKICBPYmplY3QuZXh0ZW5kKGFycmF5UHJvdG8sIEVudW1lcmFibGUpOwoKICBpZiAoIWFycmF5UHJvdG8uX3JldmVyc2UpCiAgICBhcnJheVByb3RvLl9yZXZlcnNlID0gYXJyYXlQcm90by5yZXZlcnNlOwoKICBPYmplY3QuZXh0ZW5kKGFycmF5UHJvdG8sIHsKICAgIF9lYWNoOiAgICAgX2VhY2gsCgogICAgbWFwOiAgICAgICBtYXAsCiAgICBjb2xsZWN0OiAgIG1hcCwKICAgIHNlbGVjdDogICAgZmlsdGVyLAogICAgZmlsdGVyOiAgICBmaWx0ZXIsCiAgICBmaW5kQWxsOiAgIGZpbHRlciwKICAgIHNvbWU6ICAgICAgc29tZSwKICAgIGFueTogICAgICAgc29tZSwKICAgIGV2ZXJ5OiAgICAgZXZlcnksCiAgICBhbGw6ICAgICAgIGV2ZXJ5LAogICAgaW5qZWN0OiAgICBpbmplY3QsCgogICAgY2xlYXI6ICAgICBjbGVhciwKICAgIGZpcnN0OiAgICAgZmlyc3QsCiAgICBsYXN0OiAgICAgIGxhc3QsCiAgICBjb21wYWN0OiAgIGNvbXBhY3QsCiAgICBmbGF0dGVuOiAgIGZsYXR0ZW4sCiAgICB3aXRob3V0OiAgIHdpdGhvdXQsCiAgICByZXZlcnNlOiAgIHJldmVyc2UsCiAgICB1bmlxOiAgICAgIHVuaXEsCiAgICBpbnRlcnNlY3Q6IGludGVyc2VjdCwKICAgIGNsb25lOiAgICAgY2xvbmUsCiAgICB0b0FycmF5OiAgIGNsb25lLAogICAgc2l6ZTogICAgICBzaXplLAogICAgaW5zcGVjdDogICBpbnNwZWN0CiAgfSk7CgogIHZhciBDT05DQVRfQVJHVU1FTlRTX0JVR0dZID0gKGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIFtdLmNvbmNhdChhcmd1bWVudHMpWzBdWzBdICE9PSAxOwogIH0pKDEsMik7CgogIGlmIChDT05DQVRfQVJHVU1FTlRTX0JVR0dZKSBhcnJheVByb3RvLmNvbmNhdCA9IGNvbmNhdDsKCiAgaWYgKCFhcnJheVByb3RvLmluZGV4T2YpIGFycmF5UHJvdG8uaW5kZXhPZiA9IGluZGV4T2Y7CiAgaWYgKCFhcnJheVByb3RvLmxhc3RJbmRleE9mKSBhcnJheVByb3RvLmxhc3RJbmRleE9mID0gbGFzdEluZGV4T2Y7Cn0pKCk7CmZ1bmN0aW9uICRIKG9iamVjdCkgewogIHJldHVybiBuZXcgSGFzaChvYmplY3QpOwp9OwoKdmFyIEhhc2ggPSBDbGFzcy5jcmVhdGUoRW51bWVyYWJsZSwgKGZ1bmN0aW9uKCkgewogIGZ1bmN0aW9uIGluaXRpYWxpemUob2JqZWN0KSB7CiAgICB0aGlzLl9vYmplY3QgPSBPYmplY3QuaXNIYXNoKG9iamVjdCkgPyBvYmplY3QudG9PYmplY3QoKSA6IE9iamVjdC5jbG9uZShvYmplY3QpOwogIH0KCgogIGZ1bmN0aW9uIF9lYWNoKGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICB2YXIgaSA9IDA7CiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5fb2JqZWN0KSB7CiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX29iamVjdFtrZXldLCBwYWlyID0gW2tleSwgdmFsdWVdOwogICAgICBwYWlyLmtleSA9IGtleTsKICAgICAgcGFpci52YWx1ZSA9IHZhbHVlOwogICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHBhaXIsIGkpOwogICAgICBpKys7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkgewogICAgcmV0dXJuIHRoaXMuX29iamVjdFtrZXldID0gdmFsdWU7CiAgfQoKICBmdW5jdGlvbiBnZXQoa2V5KSB7CiAgICBpZiAodGhpcy5fb2JqZWN0W2tleV0gIT09IE9iamVjdC5wcm90b3R5cGVba2V5XSkKICAgICAgcmV0dXJuIHRoaXMuX29iamVjdFtrZXldOwogIH0KCiAgZnVuY3Rpb24gdW5zZXQoa2V5KSB7CiAgICB2YXIgdmFsdWUgPSB0aGlzLl9vYmplY3Rba2V5XTsKICAgIGRlbGV0ZSB0aGlzLl9vYmplY3Rba2V5XTsKICAgIHJldHVybiB2YWx1ZTsKICB9CgogIGZ1bmN0aW9uIHRvT2JqZWN0KCkgewogICAgcmV0dXJuIE9iamVjdC5jbG9uZSh0aGlzLl9vYmplY3QpOwogIH0KCgoKICBmdW5jdGlvbiBrZXlzKCkgewogICAgcmV0dXJuIHRoaXMucGx1Y2soJ2tleScpOwogIH0KCiAgZnVuY3Rpb24gdmFsdWVzKCkgewogICAgcmV0dXJuIHRoaXMucGx1Y2soJ3ZhbHVlJyk7CiAgfQoKICBmdW5jdGlvbiBpbmRleCh2YWx1ZSkgewogICAgdmFyIG1hdGNoID0gdGhpcy5kZXRlY3QoZnVuY3Rpb24ocGFpcikgewogICAgICByZXR1cm4gcGFpci52YWx1ZSA9PT0gdmFsdWU7CiAgICB9KTsKICAgIHJldHVybiBtYXRjaCAmJiBtYXRjaC5rZXk7CiAgfQoKICBmdW5jdGlvbiBtZXJnZShvYmplY3QpIHsKICAgIHJldHVybiB0aGlzLmNsb25lKCkudXBkYXRlKG9iamVjdCk7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGUob2JqZWN0KSB7CiAgICByZXR1cm4gbmV3IEhhc2gob2JqZWN0KS5pbmplY3QodGhpcywgZnVuY3Rpb24ocmVzdWx0LCBwYWlyKSB7CiAgICAgIHJlc3VsdC5zZXQocGFpci5rZXksIHBhaXIudmFsdWUpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB0b1F1ZXJ5UGFpcihrZXksIHZhbHVlKSB7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuIGtleTsKCiAgICB2YWx1ZSA9IFN0cmluZy5pbnRlcnByZXQodmFsdWUpOwoKICAgIHZhbHVlID0gdmFsdWUuZ3N1YigvKFxyKT9cbi8sICdcclxuJyk7CiAgICB2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7CiAgICB2YWx1ZSA9IHZhbHVlLmdzdWIoLyUyMC8sICcrJyk7CiAgICByZXR1cm4ga2V5ICsgJz0nICsgdmFsdWU7CiAgfQoKICBmdW5jdGlvbiB0b1F1ZXJ5U3RyaW5nKCkgewogICAgcmV0dXJuIHRoaXMuaW5qZWN0KFtdLCBmdW5jdGlvbihyZXN1bHRzLCBwYWlyKSB7CiAgICAgIHZhciBrZXkgPSBlbmNvZGVVUklDb21wb25lbnQocGFpci5rZXkpLCB2YWx1ZXMgPSBwYWlyLnZhbHVlOwoKICAgICAgaWYgKHZhbHVlcyAmJiB0eXBlb2YgdmFsdWVzID09ICdvYmplY3QnKSB7CiAgICAgICAgaWYgKE9iamVjdC5pc0FycmF5KHZhbHVlcykpIHsKICAgICAgICAgIHZhciBxdWVyeVZhbHVlcyA9IFtdOwogICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGgsIHZhbHVlOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaV07CiAgICAgICAgICAgIHF1ZXJ5VmFsdWVzLnB1c2godG9RdWVyeVBhaXIoa2V5LCB2YWx1ZSkpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHJlc3VsdHMuY29uY2F0KHF1ZXJ5VmFsdWVzKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSByZXN1bHRzLnB1c2godG9RdWVyeVBhaXIoa2V5LCB2YWx1ZXMpKTsKICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICB9KS5qb2luKCcmJyk7CiAgfQoKICBmdW5jdGlvbiBpbnNwZWN0KCkgewogICAgcmV0dXJuICcjPEhhc2g6eycgKyB0aGlzLm1hcChmdW5jdGlvbihwYWlyKSB7CiAgICAgIHJldHVybiBwYWlyLm1hcChPYmplY3QuaW5zcGVjdCkuam9pbignOiAnKTsKICAgIH0pLmpvaW4oJywgJykgKyAnfT4nOwogIH0KCiAgZnVuY3Rpb24gY2xvbmUoKSB7CiAgICByZXR1cm4gbmV3IEhhc2godGhpcyk7CiAgfQoKICByZXR1cm4gewogICAgaW5pdGlhbGl6ZTogICAgICAgICAgICAgaW5pdGlhbGl6ZSwKICAgIF9lYWNoOiAgICAgICAgICAgICAgICAgIF9lYWNoLAogICAgc2V0OiAgICAgICAgICAgICAgICAgICAgc2V0LAogICAgZ2V0OiAgICAgICAgICAgICAgICAgICAgZ2V0LAogICAgdW5zZXQ6ICAgICAgICAgICAgICAgICAgdW5zZXQsCiAgICB0b09iamVjdDogICAgICAgICAgICAgICB0b09iamVjdCwKICAgIHRvVGVtcGxhdGVSZXBsYWNlbWVudHM6IHRvT2JqZWN0LAogICAga2V5czogICAgICAgICAgICAgICAgICAga2V5cywKICAgIHZhbHVlczogICAgICAgICAgICAgICAgIHZhbHVlcywKICAgIGluZGV4OiAgICAgICAgICAgICAgICAgIGluZGV4LAogICAgbWVyZ2U6ICAgICAgICAgICAgICAgICAgbWVyZ2UsCiAgICB1cGRhdGU6ICAgICAgICAgICAgICAgICB1cGRhdGUsCiAgICB0b1F1ZXJ5U3RyaW5nOiAgICAgICAgICB0b1F1ZXJ5U3RyaW5nLAogICAgaW5zcGVjdDogICAgICAgICAgICAgICAgaW5zcGVjdCwKICAgIHRvSlNPTjogICAgICAgICAgICAgICAgIHRvT2JqZWN0LAogICAgY2xvbmU6ICAgICAgICAgICAgICAgICAgY2xvbmUKICB9Owp9KSgpKTsKCkhhc2guZnJvbSA9ICRIOwpPYmplY3QuZXh0ZW5kKE51bWJlci5wcm90b3R5cGUsIChmdW5jdGlvbigpIHsKICBmdW5jdGlvbiB0b0NvbG9yUGFydCgpIHsKICAgIHJldHVybiB0aGlzLnRvUGFkZGVkU3RyaW5nKDIsIDE2KTsKICB9CgogIGZ1bmN0aW9uIHN1Y2MoKSB7CiAgICByZXR1cm4gdGhpcyArIDE7CiAgfQoKICBmdW5jdGlvbiB0aW1lcyhpdGVyYXRvciwgY29udGV4dCkgewogICAgJFIoMCwgdGhpcywgdHJ1ZSkuZWFjaChpdGVyYXRvciwgY29udGV4dCk7CiAgICByZXR1cm4gdGhpczsKICB9CgogIGZ1bmN0aW9uIHRvUGFkZGVkU3RyaW5nKGxlbmd0aCwgcmFkaXgpIHsKICAgIHZhciBzdHJpbmcgPSB0aGlzLnRvU3RyaW5nKHJhZGl4IHx8IDEwKTsKICAgIHJldHVybiAnMCcudGltZXMobGVuZ3RoIC0gc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7CiAgfQoKICBmdW5jdGlvbiBhYnMoKSB7CiAgICByZXR1cm4gTWF0aC5hYnModGhpcyk7CiAgfQoKICBmdW5jdGlvbiByb3VuZCgpIHsKICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMpOwogIH0KCiAgZnVuY3Rpb24gY2VpbCgpIHsKICAgIHJldHVybiBNYXRoLmNlaWwodGhpcyk7CiAgfQoKICBmdW5jdGlvbiBmbG9vcigpIHsKICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMpOwogIH0KCiAgcmV0dXJuIHsKICAgIHRvQ29sb3JQYXJ0OiAgICB0b0NvbG9yUGFydCwKICAgIHN1Y2M6ICAgICAgICAgICBzdWNjLAogICAgdGltZXM6ICAgICAgICAgIHRpbWVzLAogICAgdG9QYWRkZWRTdHJpbmc6IHRvUGFkZGVkU3RyaW5nLAogICAgYWJzOiAgICAgICAgICAgIGFicywKICAgIHJvdW5kOiAgICAgICAgICByb3VuZCwKICAgIGNlaWw6ICAgICAgICAgICBjZWlsLAogICAgZmxvb3I6ICAgICAgICAgIGZsb29yCiAgfTsKfSkoKSk7CgpmdW5jdGlvbiAkUihzdGFydCwgZW5kLCBleGNsdXNpdmUpIHsKICByZXR1cm4gbmV3IE9iamVjdFJhbmdlKHN0YXJ0LCBlbmQsIGV4Y2x1c2l2ZSk7Cn0KCnZhciBPYmplY3RSYW5nZSA9IENsYXNzLmNyZWF0ZShFbnVtZXJhYmxlLCAoZnVuY3Rpb24oKSB7CiAgZnVuY3Rpb24gaW5pdGlhbGl6ZShzdGFydCwgZW5kLCBleGNsdXNpdmUpIHsKICAgIHRoaXMuc3RhcnQgPSBzdGFydDsKICAgIHRoaXMuZW5kID0gZW5kOwogICAgdGhpcy5leGNsdXNpdmUgPSBleGNsdXNpdmU7CiAgfQoKICBmdW5jdGlvbiBfZWFjaChpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHZhbHVlID0gdGhpcy5zdGFydCwgaTsKICAgIGZvciAoaSA9IDA7IHRoaXMuaW5jbHVkZSh2YWx1ZSk7IGkrKykgewogICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpKTsKICAgICAgdmFsdWUgPSB2YWx1ZS5zdWNjKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpbmNsdWRlKHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPCB0aGlzLnN0YXJ0KQogICAgICByZXR1cm4gZmFsc2U7CiAgICBpZiAodGhpcy5leGNsdXNpdmUpCiAgICAgIHJldHVybiB2YWx1ZSA8IHRoaXMuZW5kOwogICAgcmV0dXJuIHZhbHVlIDw9IHRoaXMuZW5kOwogIH0KCiAgcmV0dXJuIHsKICAgIGluaXRpYWxpemU6IGluaXRpYWxpemUsCiAgICBfZWFjaDogICAgICBfZWFjaCwKICAgIGluY2x1ZGU6ICAgIGluY2x1ZGUKICB9Owp9KSgpKTsKCgoKdmFyIEFic3RyYWN0ID0geyB9OwoKCnZhciBUcnkgPSB7CiAgdGhlc2U6IGZ1bmN0aW9uKCkgewogICAgdmFyIHJldHVyblZhbHVlOwoKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGxhbWJkYSA9IGFyZ3VtZW50c1tpXTsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm5WYWx1ZSA9IGxhbWJkYSgpOwogICAgICAgIGJyZWFrOwogICAgICB9IGNhdGNoIChlKSB7IH0KICAgIH0KCiAgICByZXR1cm4gcmV0dXJuVmFsdWU7CiAgfQp9OwoKdmFyIEFqYXggPSB7CiAgZ2V0VHJhbnNwb3J0OiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBUcnkudGhlc2UoCiAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKX0sCiAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTXN4bWwyLlhNTEhUVFAnKX0sCiAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgnTWljcm9zb2Z0LlhNTEhUVFAnKX0KICAgICkgfHwgZmFsc2U7CiAgfSwKCiAgYWN0aXZlUmVxdWVzdENvdW50OiAwCn07CgpBamF4LlJlc3BvbmRlcnMgPSB7CiAgcmVzcG9uZGVyczogW10sCgogIF9lYWNoOiBmdW5jdGlvbihpdGVyYXRvciwgY29udGV4dCkgewogICAgdGhpcy5yZXNwb25kZXJzLl9lYWNoKGl0ZXJhdG9yLCBjb250ZXh0KTsKICB9LAoKICByZWdpc3RlcjogZnVuY3Rpb24ocmVzcG9uZGVyKSB7CiAgICBpZiAoIXRoaXMuaW5jbHVkZShyZXNwb25kZXIpKQogICAgICB0aGlzLnJlc3BvbmRlcnMucHVzaChyZXNwb25kZXIpOwogIH0sCgogIHVucmVnaXN0ZXI6IGZ1bmN0aW9uKHJlc3BvbmRlcikgewogICAgdGhpcy5yZXNwb25kZXJzID0gdGhpcy5yZXNwb25kZXJzLndpdGhvdXQocmVzcG9uZGVyKTsKICB9LAoKICBkaXNwYXRjaDogZnVuY3Rpb24oY2FsbGJhY2ssIHJlcXVlc3QsIHRyYW5zcG9ydCwganNvbikgewogICAgdGhpcy5lYWNoKGZ1bmN0aW9uKHJlc3BvbmRlcikgewogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24ocmVzcG9uZGVyW2NhbGxiYWNrXSkpIHsKICAgICAgICB0cnkgewogICAgICAgICAgcmVzcG9uZGVyW2NhbGxiYWNrXS5hcHBseShyZXNwb25kZXIsIFtyZXF1ZXN0LCB0cmFuc3BvcnQsIGpzb25dKTsKICAgICAgICB9IGNhdGNoIChlKSB7IH0KICAgICAgfQogICAgfSk7CiAgfQp9OwoKT2JqZWN0LmV4dGVuZChBamF4LlJlc3BvbmRlcnMsIEVudW1lcmFibGUpOwoKQWpheC5SZXNwb25kZXJzLnJlZ2lzdGVyKHsKICBvbkNyZWF0ZTogICBmdW5jdGlvbigpIHsgQWpheC5hY3RpdmVSZXF1ZXN0Q291bnQrKyB9LAogIG9uQ29tcGxldGU6IGZ1bmN0aW9uKCkgeyBBamF4LmFjdGl2ZVJlcXVlc3RDb3VudC0tIH0KfSk7CkFqYXguQmFzZSA9IENsYXNzLmNyZWF0ZSh7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykgewogICAgdGhpcy5vcHRpb25zID0gewogICAgICBtZXRob2Q6ICAgICAgICdwb3N0JywKICAgICAgYXN5bmNocm9ub3VzOiB0cnVlLAogICAgICBjb250ZW50VHlwZTogICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLAogICAgICBlbmNvZGluZzogICAgICdVVEYtOCcsCiAgICAgIHBhcmFtZXRlcnM6ICAgJycsCiAgICAgIGV2YWxKU09OOiAgICAgdHJ1ZSwKICAgICAgZXZhbEpTOiAgICAgICB0cnVlCiAgICB9OwogICAgT2JqZWN0LmV4dGVuZCh0aGlzLm9wdGlvbnMsIG9wdGlvbnMgfHwgeyB9KTsKCiAgICB0aGlzLm9wdGlvbnMubWV0aG9kID0gdGhpcy5vcHRpb25zLm1ldGhvZC50b0xvd2VyQ2FzZSgpOwoKICAgIGlmIChPYmplY3QuaXNIYXNoKHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzKSkKICAgICAgdGhpcy5vcHRpb25zLnBhcmFtZXRlcnMgPSB0aGlzLm9wdGlvbnMucGFyYW1ldGVycy50b09iamVjdCgpOwogIH0KfSk7CkFqYXguUmVxdWVzdCA9IENsYXNzLmNyZWF0ZShBamF4LkJhc2UsIHsKICBfY29tcGxldGU6IGZhbHNlLAoKICBpbml0aWFsaXplOiBmdW5jdGlvbigkc3VwZXIsIHVybCwgb3B0aW9ucykgewogICAgJHN1cGVyKG9wdGlvbnMpOwogICAgdGhpcy50cmFuc3BvcnQgPSBBamF4LmdldFRyYW5zcG9ydCgpOwogICAgdGhpcy5yZXF1ZXN0KHVybCk7CiAgfSwKCiAgcmVxdWVzdDogZnVuY3Rpb24odXJsKSB7CiAgICB0aGlzLnVybCA9IHVybDsKICAgIHRoaXMubWV0aG9kID0gdGhpcy5vcHRpb25zLm1ldGhvZDsKICAgIHZhciBwYXJhbXMgPSBPYmplY3QuaXNTdHJpbmcodGhpcy5vcHRpb25zLnBhcmFtZXRlcnMpID8KICAgICAgICAgIHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzIDoKICAgICAgICAgIE9iamVjdC50b1F1ZXJ5U3RyaW5nKHRoaXMub3B0aW9ucy5wYXJhbWV0ZXJzKTsKCiAgICBpZiAoIVsnZ2V0JywgJ3Bvc3QnXS5pbmNsdWRlKHRoaXMubWV0aG9kKSkgewogICAgICBwYXJhbXMgKz0gKHBhcmFtcyA/ICcmJyA6ICcnKSArICJfbWV0aG9kPSIgKyB0aGlzLm1ldGhvZDsKICAgICAgdGhpcy5tZXRob2QgPSAncG9zdCc7CiAgICB9CgogICAgaWYgKHBhcmFtcyAmJiB0aGlzLm1ldGhvZCA9PT0gJ2dldCcpIHsKICAgICAgdGhpcy51cmwgKz0gKHRoaXMudXJsLmluY2x1ZGUoJz8nKSA/ICcmJyA6ICc/JykgKyBwYXJhbXM7CiAgICB9CgogICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1zLnRvUXVlcnlQYXJhbXMoKTsKCiAgICB0cnkgewogICAgICB2YXIgcmVzcG9uc2UgPSBuZXcgQWpheC5SZXNwb25zZSh0aGlzKTsKICAgICAgaWYgKHRoaXMub3B0aW9ucy5vbkNyZWF0ZSkgdGhpcy5vcHRpb25zLm9uQ3JlYXRlKHJlc3BvbnNlKTsKICAgICAgQWpheC5SZXNwb25kZXJzLmRpc3BhdGNoKCdvbkNyZWF0ZScsIHRoaXMsIHJlc3BvbnNlKTsKCiAgICAgIHRoaXMudHJhbnNwb3J0Lm9wZW4odGhpcy5tZXRob2QudG9VcHBlckNhc2UoKSwgdGhpcy51cmwsCiAgICAgICAgdGhpcy5vcHRpb25zLmFzeW5jaHJvbm91cyk7CgogICAgICBpZiAodGhpcy5vcHRpb25zLmFzeW5jaHJvbm91cykgdGhpcy5yZXNwb25kVG9SZWFkeVN0YXRlLmJpbmQodGhpcykuZGVmZXIoMSk7CgogICAgICB0aGlzLnRyYW5zcG9ydC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLm9uU3RhdGVDaGFuZ2UuYmluZCh0aGlzKTsKICAgICAgdGhpcy5zZXRSZXF1ZXN0SGVhZGVycygpOwoKICAgICAgdGhpcy5ib2R5ID0gdGhpcy5tZXRob2QgPT0gJ3Bvc3QnID8gKHRoaXMub3B0aW9ucy5wb3N0Qm9keSB8fCBwYXJhbXMpIDogbnVsbDsKICAgICAgdGhpcy50cmFuc3BvcnQuc2VuZCh0aGlzLmJvZHkpOwoKICAgICAgLyogRm9yY2UgRmlyZWZveCB0byBoYW5kbGUgcmVhZHkgc3RhdGUgNCBmb3Igc3luY2hyb25vdXMgcmVxdWVzdHMgKi8KICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYXN5bmNocm9ub3VzICYmIHRoaXMudHJhbnNwb3J0Lm92ZXJyaWRlTWltZVR5cGUpCiAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKCk7CgogICAgfQogICAgY2F0Y2ggKGUpIHsKICAgICAgdGhpcy5kaXNwYXRjaEV4Y2VwdGlvbihlKTsKICAgIH0KICB9LAoKICBvblN0YXRlQ2hhbmdlOiBmdW5jdGlvbigpIHsKICAgIHZhciByZWFkeVN0YXRlID0gdGhpcy50cmFuc3BvcnQucmVhZHlTdGF0ZTsKICAgIGlmIChyZWFkeVN0YXRlID4gMSAmJiAhKChyZWFkeVN0YXRlID09IDQpICYmIHRoaXMuX2NvbXBsZXRlKSkKICAgICAgdGhpcy5yZXNwb25kVG9SZWFkeVN0YXRlKHRoaXMudHJhbnNwb3J0LnJlYWR5U3RhdGUpOwogIH0sCgogIHNldFJlcXVlc3RIZWFkZXJzOiBmdW5jdGlvbigpIHsKICAgIHZhciBoZWFkZXJzID0gewogICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsCiAgICAgICdYLVByb3RvdHlwZS1WZXJzaW9uJzogUHJvdG90eXBlLlZlcnNpb24sCiAgICAgICdBY2NlcHQnOiAndGV4dC9qYXZhc2NyaXB0LCB0ZXh0L2h0bWwsIGFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwsICovKicKICAgIH07CgogICAgaWYgKHRoaXMubWV0aG9kID09ICdwb3N0JykgewogICAgICBoZWFkZXJzWydDb250ZW50LXR5cGUnXSA9IHRoaXMub3B0aW9ucy5jb250ZW50VHlwZSArCiAgICAgICAgKHRoaXMub3B0aW9ucy5lbmNvZGluZyA/ICc7IGNoYXJzZXQ9JyArIHRoaXMub3B0aW9ucy5lbmNvZGluZyA6ICcnKTsKCiAgICAgIC8qIEZvcmNlICJDb25uZWN0aW9uOiBjbG9zZSIgZm9yIG9sZGVyIE1vemlsbGEgYnJvd3NlcnMgdG8gd29yawogICAgICAgKiBhcm91bmQgYSBidWcgd2hlcmUgWE1MSHR0cFJlcXVlc3Qgc2VuZHMgYW4gaW5jb3JyZWN0CiAgICAgICAqIENvbnRlbnQtbGVuZ3RoIGhlYWRlci4gU2VlIE1vemlsbGEgQnVnemlsbGEgIzI0NjY1MS4KICAgICAgICovCiAgICAgIGlmICh0aGlzLnRyYW5zcG9ydC5vdmVycmlkZU1pbWVUeXBlICYmCiAgICAgICAgICAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvR2Vja29cLyhcZHs0fSkvKSB8fCBbMCwyMDA1XSlbMV0gPCAyMDA1KQogICAgICAgICAgICBoZWFkZXJzWydDb25uZWN0aW9uJ10gPSAnY2xvc2UnOwogICAgfQoKICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnJlcXVlc3RIZWFkZXJzID09ICdvYmplY3QnKSB7CiAgICAgIHZhciBleHRyYXMgPSB0aGlzLm9wdGlvbnMucmVxdWVzdEhlYWRlcnM7CgogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24oZXh0cmFzLnB1c2gpKQogICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBleHRyYXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpICs9IDIpCiAgICAgICAgICBoZWFkZXJzW2V4dHJhc1tpXV0gPSBleHRyYXNbaSsxXTsKICAgICAgZWxzZQogICAgICAgICRIKGV4dHJhcykuZWFjaChmdW5jdGlvbihwYWlyKSB7IGhlYWRlcnNbcGFpci5rZXldID0gcGFpci52YWx1ZSB9KTsKICAgIH0KCiAgICBmb3IgKHZhciBuYW1lIGluIGhlYWRlcnMpCiAgICAgIGlmIChoZWFkZXJzW25hbWVdICE9IG51bGwpCiAgICAgICAgdGhpcy50cmFuc3BvcnQuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCBoZWFkZXJzW25hbWVdKTsKICB9LAoKICBzdWNjZXNzOiBmdW5jdGlvbigpIHsKICAgIHZhciBzdGF0dXMgPSB0aGlzLmdldFN0YXR1cygpOwogICAgcmV0dXJuICFzdGF0dXMgfHwgKHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwKSB8fCBzdGF0dXMgPT0gMzA0OwogIH0sCgogIGdldFN0YXR1czogZnVuY3Rpb24oKSB7CiAgICB0cnkgewogICAgICBpZiAodGhpcy50cmFuc3BvcnQuc3RhdHVzID09PSAxMjIzKSByZXR1cm4gMjA0OwogICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuc3RhdHVzIHx8IDA7CiAgICB9IGNhdGNoIChlKSB7IHJldHVybiAwIH0KICB9LAoKICByZXNwb25kVG9SZWFkeVN0YXRlOiBmdW5jdGlvbihyZWFkeVN0YXRlKSB7CiAgICB2YXIgc3RhdGUgPSBBamF4LlJlcXVlc3QuRXZlbnRzW3JlYWR5U3RhdGVdLCByZXNwb25zZSA9IG5ldyBBamF4LlJlc3BvbnNlKHRoaXMpOwoKICAgIGlmIChzdGF0ZSA9PSAnQ29tcGxldGUnKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5fY29tcGxldGUgPSB0cnVlOwogICAgICAgICh0aGlzLm9wdGlvbnNbJ29uJyArIHJlc3BvbnNlLnN0YXR1c10KICAgICAgICAgfHwgdGhpcy5vcHRpb25zWydvbicgKyAodGhpcy5zdWNjZXNzKCkgPyAnU3VjY2VzcycgOiAnRmFpbHVyZScpXQogICAgICAgICB8fCBQcm90b3R5cGUuZW1wdHlGdW5jdGlvbikocmVzcG9uc2UsIHJlc3BvbnNlLmhlYWRlckpTT04pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhpcy5kaXNwYXRjaEV4Y2VwdGlvbihlKTsKICAgICAgfQoKICAgICAgdmFyIGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuZ2V0SGVhZGVyKCdDb250ZW50LXR5cGUnKTsKICAgICAgaWYgKHRoaXMub3B0aW9ucy5ldmFsSlMgPT0gJ2ZvcmNlJwogICAgICAgICAgfHwgKHRoaXMub3B0aW9ucy5ldmFsSlMgJiYgdGhpcy5pc1NhbWVPcmlnaW4oKSAmJiBjb250ZW50VHlwZQogICAgICAgICAgJiYgY29udGVudFR5cGUubWF0Y2goL15ccyoodGV4dHxhcHBsaWNhdGlvbilcLyh4LSk/KGphdmF8ZWNtYSlzY3JpcHQoOy4qKT9ccyokL2kpKSkKICAgICAgICB0aGlzLmV2YWxSZXNwb25zZSgpOwogICAgfQoKICAgIHRyeSB7CiAgICAgICh0aGlzLm9wdGlvbnNbJ29uJyArIHN0YXRlXSB8fCBQcm90b3R5cGUuZW1wdHlGdW5jdGlvbikocmVzcG9uc2UsIHJlc3BvbnNlLmhlYWRlckpTT04pOwogICAgICBBamF4LlJlc3BvbmRlcnMuZGlzcGF0Y2goJ29uJyArIHN0YXRlLCB0aGlzLCByZXNwb25zZSwgcmVzcG9uc2UuaGVhZGVySlNPTik7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuZGlzcGF0Y2hFeGNlcHRpb24oZSk7CiAgICB9CgogICAgaWYgKHN0YXRlID09ICdDb21wbGV0ZScpIHsKICAgICAgdGhpcy50cmFuc3BvcnQub25yZWFkeXN0YXRlY2hhbmdlID0gUHJvdG90eXBlLmVtcHR5RnVuY3Rpb247CiAgICB9CiAgfSwKCiAgaXNTYW1lT3JpZ2luOiBmdW5jdGlvbigpIHsKICAgIHZhciBtID0gdGhpcy51cmwubWF0Y2goL15ccypodHRwcz86XC9cL1teXC9dKi8pOwogICAgcmV0dXJuICFtIHx8IChtWzBdID09ICcje3Byb3RvY29sfS8vI3tkb21haW59I3twb3J0fScuaW50ZXJwb2xhdGUoewogICAgICBwcm90b2NvbDogbG9jYXRpb24ucHJvdG9jb2wsCiAgICAgIGRvbWFpbjogZG9jdW1lbnQuZG9tYWluLAogICAgICBwb3J0OiBsb2NhdGlvbi5wb3J0ID8gJzonICsgbG9jYXRpb24ucG9ydCA6ICcnCiAgICB9KSk7CiAgfSwKCiAgZ2V0SGVhZGVyOiBmdW5jdGlvbihuYW1lKSB7CiAgICB0cnkgewogICAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuZ2V0UmVzcG9uc2VIZWFkZXIobmFtZSkgfHwgbnVsbDsKICAgIH0gY2F0Y2ggKGUpIHsgcmV0dXJuIG51bGw7IH0KICB9LAoKICBldmFsUmVzcG9uc2U6IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIGV2YWwoKHRoaXMudHJhbnNwb3J0LnJlc3BvbnNlVGV4dCB8fCAnJykudW5maWx0ZXJKU09OKCkpOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLmRpc3BhdGNoRXhjZXB0aW9uKGUpOwogICAgfQogIH0sCgogIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHsKICAgICh0aGlzLm9wdGlvbnMub25FeGNlcHRpb24gfHwgUHJvdG90eXBlLmVtcHR5RnVuY3Rpb24pKHRoaXMsIGV4Y2VwdGlvbik7CiAgICBBamF4LlJlc3BvbmRlcnMuZGlzcGF0Y2goJ29uRXhjZXB0aW9uJywgdGhpcywgZXhjZXB0aW9uKTsKICB9Cn0pOwoKQWpheC5SZXF1ZXN0LkV2ZW50cyA9CiAgWydVbmluaXRpYWxpemVkJywgJ0xvYWRpbmcnLCAnTG9hZGVkJywgJ0ludGVyYWN0aXZlJywgJ0NvbXBsZXRlJ107CgoKCgoKCgoKQWpheC5SZXNwb25zZSA9IENsYXNzLmNyZWF0ZSh7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ocmVxdWVzdCl7CiAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0OwogICAgdmFyIHRyYW5zcG9ydCAgPSB0aGlzLnRyYW5zcG9ydCAgPSByZXF1ZXN0LnRyYW5zcG9ydCwKICAgICAgICByZWFkeVN0YXRlID0gdGhpcy5yZWFkeVN0YXRlID0gdHJhbnNwb3J0LnJlYWR5U3RhdGU7CgogICAgaWYgKChyZWFkeVN0YXRlID4gMiAmJiAhUHJvdG90eXBlLkJyb3dzZXIuSUUpIHx8IHJlYWR5U3RhdGUgPT0gNCkgewogICAgICB0aGlzLnN0YXR1cyAgICAgICA9IHRoaXMuZ2V0U3RhdHVzKCk7CiAgICAgIHRoaXMuc3RhdHVzVGV4dCAgID0gdGhpcy5nZXRTdGF0dXNUZXh0KCk7CiAgICAgIHRoaXMucmVzcG9uc2VUZXh0ID0gU3RyaW5nLmludGVycHJldCh0cmFuc3BvcnQucmVzcG9uc2VUZXh0KTsKICAgICAgdGhpcy5oZWFkZXJKU09OICAgPSB0aGlzLl9nZXRIZWFkZXJKU09OKCk7CiAgICB9CgogICAgaWYgKHJlYWR5U3RhdGUgPT0gNCkgewogICAgICB2YXIgeG1sID0gdHJhbnNwb3J0LnJlc3BvbnNlWE1MOwogICAgICB0aGlzLnJlc3BvbnNlWE1MICA9IE9iamVjdC5pc1VuZGVmaW5lZCh4bWwpID8gbnVsbCA6IHhtbDsKICAgICAgdGhpcy5yZXNwb25zZUpTT04gPSB0aGlzLl9nZXRSZXNwb25zZUpTT04oKTsKICAgIH0KICB9LAoKICBzdGF0dXM6ICAgICAgMCwKCiAgc3RhdHVzVGV4dDogJycsCgogIGdldFN0YXR1czogQWpheC5SZXF1ZXN0LnByb3RvdHlwZS5nZXRTdGF0dXMsCgogIGdldFN0YXR1c1RleHQ6IGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LnN0YXR1c1RleHQgfHwgJyc7CiAgICB9IGNhdGNoIChlKSB7IHJldHVybiAnJyB9CiAgfSwKCiAgZ2V0SGVhZGVyOiBBamF4LlJlcXVlc3QucHJvdG90eXBlLmdldEhlYWRlciwKCiAgZ2V0QWxsSGVhZGVyczogZnVuY3Rpb24oKSB7CiAgICB0cnkgewogICAgICByZXR1cm4gdGhpcy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTsKICAgIH0gY2F0Y2ggKGUpIHsgcmV0dXJuIG51bGwgfQogIH0sCgogIGdldFJlc3BvbnNlSGVhZGVyOiBmdW5jdGlvbihuYW1lKSB7CiAgICByZXR1cm4gdGhpcy50cmFuc3BvcnQuZ2V0UmVzcG9uc2VIZWFkZXIobmFtZSk7CiAgfSwKCiAgZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTsKICB9LAoKICBfZ2V0SGVhZGVySlNPTjogZnVuY3Rpb24oKSB7CiAgICB2YXIganNvbiA9IHRoaXMuZ2V0SGVhZGVyKCdYLUpTT04nKTsKICAgIGlmICghanNvbikgcmV0dXJuIG51bGw7CgogICAgdHJ5IHsKICAgICAganNvbiA9IGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoanNvbikpOwogICAgfSBjYXRjaChlKSB7CiAgICB9CgogICAgdHJ5IHsKICAgICAgcmV0dXJuIGpzb24uZXZhbEpTT04odGhpcy5yZXF1ZXN0Lm9wdGlvbnMuc2FuaXRpemVKU09OIHx8CiAgICAgICAgIXRoaXMucmVxdWVzdC5pc1NhbWVPcmlnaW4oKSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMucmVxdWVzdC5kaXNwYXRjaEV4Y2VwdGlvbihlKTsKICAgIH0KICB9LAoKICBfZ2V0UmVzcG9uc2VKU09OOiBmdW5jdGlvbigpIHsKICAgIHZhciBvcHRpb25zID0gdGhpcy5yZXF1ZXN0Lm9wdGlvbnM7CiAgICBpZiAoIW9wdGlvbnMuZXZhbEpTT04gfHwgKG9wdGlvbnMuZXZhbEpTT04gIT0gJ2ZvcmNlJyAmJgogICAgICAhKHRoaXMuZ2V0SGVhZGVyKCdDb250ZW50LXR5cGUnKSB8fCAnJykuaW5jbHVkZSgnYXBwbGljYXRpb24vanNvbicpKSB8fAogICAgICAgIHRoaXMucmVzcG9uc2VUZXh0LmJsYW5rKCkpCiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgIHRyeSB7CiAgICAgIHJldHVybiB0aGlzLnJlc3BvbnNlVGV4dC5ldmFsSlNPTihvcHRpb25zLnNhbml0aXplSlNPTiB8fAogICAgICAgICF0aGlzLnJlcXVlc3QuaXNTYW1lT3JpZ2luKCkpOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLnJlcXVlc3QuZGlzcGF0Y2hFeGNlcHRpb24oZSk7CiAgICB9CiAgfQp9KTsKCkFqYXguVXBkYXRlciA9IENsYXNzLmNyZWF0ZShBamF4LlJlcXVlc3QsIHsKICBpbml0aWFsaXplOiBmdW5jdGlvbigkc3VwZXIsIGNvbnRhaW5lciwgdXJsLCBvcHRpb25zKSB7CiAgICB0aGlzLmNvbnRhaW5lciA9IHsKICAgICAgc3VjY2VzczogKGNvbnRhaW5lci5zdWNjZXNzIHx8IGNvbnRhaW5lciksCiAgICAgIGZhaWx1cmU6IChjb250YWluZXIuZmFpbHVyZSB8fCAoY29udGFpbmVyLnN1Y2Nlc3MgPyBudWxsIDogY29udGFpbmVyKSkKICAgIH07CgogICAgb3B0aW9ucyA9IE9iamVjdC5jbG9uZShvcHRpb25zKTsKICAgIHZhciBvbkNvbXBsZXRlID0gb3B0aW9ucy5vbkNvbXBsZXRlOwogICAgb3B0aW9ucy5vbkNvbXBsZXRlID0gKGZ1bmN0aW9uKHJlc3BvbnNlLCBqc29uKSB7CiAgICAgIHRoaXMudXBkYXRlQ29udGVudChyZXNwb25zZS5yZXNwb25zZVRleHQpOwogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24ob25Db21wbGV0ZSkpIG9uQ29tcGxldGUocmVzcG9uc2UsIGpzb24pOwogICAgfSkuYmluZCh0aGlzKTsKCiAgICAkc3VwZXIodXJsLCBvcHRpb25zKTsKICB9LAoKICB1cGRhdGVDb250ZW50OiBmdW5jdGlvbihyZXNwb25zZVRleHQpIHsKICAgIHZhciByZWNlaXZlciA9IHRoaXMuY29udGFpbmVyW3RoaXMuc3VjY2VzcygpID8gJ3N1Y2Nlc3MnIDogJ2ZhaWx1cmUnXSwKICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zOwoKICAgIGlmICghb3B0aW9ucy5ldmFsU2NyaXB0cykgcmVzcG9uc2VUZXh0ID0gcmVzcG9uc2VUZXh0LnN0cmlwU2NyaXB0cygpOwoKICAgIGlmIChyZWNlaXZlciA9ICQocmVjZWl2ZXIpKSB7CiAgICAgIGlmIChvcHRpb25zLmluc2VydGlvbikgewogICAgICAgIGlmIChPYmplY3QuaXNTdHJpbmcob3B0aW9ucy5pbnNlcnRpb24pKSB7CiAgICAgICAgICB2YXIgaW5zZXJ0aW9uID0geyB9OyBpbnNlcnRpb25bb3B0aW9ucy5pbnNlcnRpb25dID0gcmVzcG9uc2VUZXh0OwogICAgICAgICAgcmVjZWl2ZXIuaW5zZXJ0KGluc2VydGlvbik7CiAgICAgICAgfQogICAgICAgIGVsc2Ugb3B0aW9ucy5pbnNlcnRpb24ocmVjZWl2ZXIsIHJlc3BvbnNlVGV4dCk7CiAgICAgIH0KICAgICAgZWxzZSByZWNlaXZlci51cGRhdGUocmVzcG9uc2VUZXh0KTsKICAgIH0KICB9Cn0pOwoKQWpheC5QZXJpb2RpY2FsVXBkYXRlciA9IENsYXNzLmNyZWF0ZShBamF4LkJhc2UsIHsKICBpbml0aWFsaXplOiBmdW5jdGlvbigkc3VwZXIsIGNvbnRhaW5lciwgdXJsLCBvcHRpb25zKSB7CiAgICAkc3VwZXIob3B0aW9ucyk7CiAgICB0aGlzLm9uQ29tcGxldGUgPSB0aGlzLm9wdGlvbnMub25Db21wbGV0ZTsKCiAgICB0aGlzLmZyZXF1ZW5jeSA9ICh0aGlzLm9wdGlvbnMuZnJlcXVlbmN5IHx8IDIpOwogICAgdGhpcy5kZWNheSA9ICh0aGlzLm9wdGlvbnMuZGVjYXkgfHwgMSk7CgogICAgdGhpcy51cGRhdGVyID0geyB9OwogICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7CiAgICB0aGlzLnVybCA9IHVybDsKCiAgICB0aGlzLnN0YXJ0KCk7CiAgfSwKCiAgc3RhcnQ6IGZ1bmN0aW9uKCkgewogICAgdGhpcy5vcHRpb25zLm9uQ29tcGxldGUgPSB0aGlzLnVwZGF0ZUNvbXBsZXRlLmJpbmQodGhpcyk7CiAgICB0aGlzLm9uVGltZXJFdmVudCgpOwogIH0sCgogIHN0b3A6IGZ1bmN0aW9uKCkgewogICAgdGhpcy51cGRhdGVyLm9wdGlvbnMub25Db21wbGV0ZSA9IHVuZGVmaW5lZDsKICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsKICAgICh0aGlzLm9uQ29tcGxldGUgfHwgUHJvdG90eXBlLmVtcHR5RnVuY3Rpb24pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfSwKCiAgdXBkYXRlQ29tcGxldGU6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICBpZiAodGhpcy5vcHRpb25zLmRlY2F5KSB7CiAgICAgIHRoaXMuZGVjYXkgPSAocmVzcG9uc2UucmVzcG9uc2VUZXh0ID09IHRoaXMubGFzdFRleHQgPwogICAgICAgIHRoaXMuZGVjYXkgKiB0aGlzLm9wdGlvbnMuZGVjYXkgOiAxKTsKCiAgICAgIHRoaXMubGFzdFRleHQgPSByZXNwb25zZS5yZXNwb25zZVRleHQ7CiAgICB9CiAgICB0aGlzLnRpbWVyID0gdGhpcy5vblRpbWVyRXZlbnQuYmluZCh0aGlzKS5kZWxheSh0aGlzLmRlY2F5ICogdGhpcy5mcmVxdWVuY3kpOwogIH0sCgogIG9uVGltZXJFdmVudDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLnVwZGF0ZXIgPSBuZXcgQWpheC5VcGRhdGVyKHRoaXMuY29udGFpbmVyLCB0aGlzLnVybCwgdGhpcy5vcHRpb25zKTsKICB9Cn0pOwoKKGZ1bmN0aW9uKEdMT0JBTCkgewoKICB2YXIgVU5ERUZJTkVEOwogIHZhciBTTElDRSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTsKCiAgdmFyIERJViA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKCiAgZnVuY3Rpb24gJChlbGVtZW50KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIGVsZW1lbnRzID0gW10sIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykKICAgICAgICBlbGVtZW50cy5wdXNoKCQoYXJndW1lbnRzW2ldKSk7CiAgICAgIHJldHVybiBlbGVtZW50czsKICAgIH0KCiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKGVsZW1lbnQpKQogICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudCk7CiAgICByZXR1cm4gRWxlbWVudC5leHRlbmQoZWxlbWVudCk7CiAgfQoKICBHTE9CQUwuJCA9ICQ7CgoKICBpZiAoIUdMT0JBTC5Ob2RlKSBHTE9CQUwuTm9kZSA9IHt9OwoKICBpZiAoIUdMT0JBTC5Ob2RlLkVMRU1FTlRfTk9ERSkgewogICAgT2JqZWN0LmV4dGVuZChHTE9CQUwuTm9kZSwgewogICAgICBFTEVNRU5UX05PREU6ICAgICAgICAgICAgICAgIDEsCiAgICAgIEFUVFJJQlVURV9OT0RFOiAgICAgICAgICAgICAgMiwKICAgICAgVEVYVF9OT0RFOiAgICAgICAgICAgICAgICAgICAzLAogICAgICBDREFUQV9TRUNUSU9OX05PREU6ICAgICAgICAgIDQsCiAgICAgIEVOVElUWV9SRUZFUkVOQ0VfTk9ERTogICAgICAgNSwKICAgICAgRU5USVRZX05PREU6ICAgICAgICAgICAgICAgICA2LAogICAgICBQUk9DRVNTSU5HX0lOU1RSVUNUSU9OX05PREU6IDcsCiAgICAgIENPTU1FTlRfTk9ERTogICAgICAgICAgICAgICAgOCwKICAgICAgRE9DVU1FTlRfTk9ERTogICAgICAgICAgICAgICA5LAogICAgICBET0NVTUVOVF9UWVBFX05PREU6ICAgICAgICAgMTAsCiAgICAgIERPQ1VNRU5UX0ZSQUdNRU5UX05PREU6ICAgICAxMSwKICAgICAgTk9UQVRJT05fTk9ERTogICAgICAgICAgICAgIDEyCiAgICB9KTsKICB9CgogIHZhciBFTEVNRU5UX0NBQ0hFID0ge307CgogIGZ1bmN0aW9uIHNob3VsZFVzZUNyZWF0aW9uQ2FjaGUodGFnTmFtZSwgYXR0cmlidXRlcykgewogICAgaWYgKHRhZ05hbWUgPT09ICdzZWxlY3QnKSByZXR1cm4gZmFsc2U7CiAgICBpZiAoJ3R5cGUnIGluIGF0dHJpYnV0ZXMpIHJldHVybiBmYWxzZTsKICAgIHJldHVybiB0cnVlOwogIH0KCiAgdmFyIEhBU19FWFRFTkRFRF9DUkVBVEVfRUxFTUVOVF9TWU5UQVggPSAoZnVuY3Rpb24oKXsKICAgIHRyeSB7CiAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJzxpbnB1dCBuYW1lPSJ4Ij4nKTsKICAgICAgcmV0dXJuIGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyAmJiBlbC5uYW1lID09PSAneCc7CiAgICB9CiAgICBjYXRjaChlcnIpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0pKCk7CgoKICB2YXIgb2xkRWxlbWVudCA9IEdMT0JBTC5FbGVtZW50OwogIGZ1bmN0aW9uIEVsZW1lbnQodGFnTmFtZSwgYXR0cmlidXRlcykgewogICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMgfHwge307CiAgICB0YWdOYW1lID0gdGFnTmFtZS50b0xvd2VyQ2FzZSgpOwoKICAgIGlmIChIQVNfRVhURU5ERURfQ1JFQVRFX0VMRU1FTlRfU1lOVEFYICYmIGF0dHJpYnV0ZXMubmFtZSkgewogICAgICB0YWdOYW1lID0gJzwnICsgdGFnTmFtZSArICcgbmFtZT0iJyArIGF0dHJpYnV0ZXMubmFtZSArICciPic7CiAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzLm5hbWU7CiAgICAgIHJldHVybiBFbGVtZW50LndyaXRlQXR0cmlidXRlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSksIGF0dHJpYnV0ZXMpOwogICAgfQoKICAgIGlmICghRUxFTUVOVF9DQUNIRVt0YWdOYW1lXSkKICAgICAgRUxFTUVOVF9DQUNIRVt0YWdOYW1lXSA9IEVsZW1lbnQuZXh0ZW5kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSkpOwoKICAgIHZhciBub2RlID0gc2hvdWxkVXNlQ3JlYXRpb25DYWNoZSh0YWdOYW1lLCBhdHRyaWJ1dGVzKSA/CiAgICAgRUxFTUVOVF9DQUNIRVt0YWdOYW1lXS5jbG9uZU5vZGUoZmFsc2UpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTsKCiAgICByZXR1cm4gRWxlbWVudC53cml0ZUF0dHJpYnV0ZShub2RlLCBhdHRyaWJ1dGVzKTsKICB9CgogIEdMT0JBTC5FbGVtZW50ID0gRWxlbWVudDsKCiAgT2JqZWN0LmV4dGVuZChHTE9CQUwuRWxlbWVudCwgb2xkRWxlbWVudCB8fCB7fSk7CiAgaWYgKG9sZEVsZW1lbnQpIEdMT0JBTC5FbGVtZW50LnByb3RvdHlwZSA9IG9sZEVsZW1lbnQucHJvdG90eXBlOwoKICBFbGVtZW50Lk1ldGhvZHMgPSB7IEJ5VGFnOiB7fSwgU2ltdWxhdGVkOiB7fSB9OwoKICB2YXIgbWV0aG9kcyA9IHt9OwoKICB2YXIgSU5TUEVDVF9BVFRSSUJVVEVTID0geyBpZDogJ2lkJywgY2xhc3NOYW1lOiAnY2xhc3MnIH07CiAgZnVuY3Rpb24gaW5zcGVjdChlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciByZXN1bHQgPSAnPCcgKyBlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKTsKCiAgICB2YXIgYXR0cmlidXRlLCB2YWx1ZTsKICAgIGZvciAodmFyIHByb3BlcnR5IGluIElOU1BFQ1RfQVRUUklCVVRFUykgewogICAgICBhdHRyaWJ1dGUgPSBJTlNQRUNUX0FUVFJJQlVURVNbcHJvcGVydHldOwogICAgICB2YWx1ZSA9IChlbGVtZW50W3Byb3BlcnR5XSB8fCAnJykudG9TdHJpbmcoKTsKICAgICAgaWYgKHZhbHVlKSByZXN1bHQgKz0gJyAnICsgYXR0cmlidXRlICsgJz0nICsgdmFsdWUuaW5zcGVjdCh0cnVlKTsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0ICsgJz4nOwogIH0KCiAgbWV0aG9kcy5pbnNwZWN0ID0gaW5zcGVjdDsKCgogIGZ1bmN0aW9uIHZpc2libGUoZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCkuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnOwogIH0KCiAgZnVuY3Rpb24gdG9nZ2xlKGVsZW1lbnQsIGJvb2wpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKE9iamVjdC5pc1VuZGVmaW5lZChib29sKSkKICAgICAgYm9vbCA9ICFFbGVtZW50LnZpc2libGUoZWxlbWVudCk7CiAgICBFbGVtZW50W2Jvb2wgPyAnc2hvdycgOiAnaGlkZSddKGVsZW1lbnQpOwoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gaGlkZShlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gc2hvdyhlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQoKCiAgT2JqZWN0LmV4dGVuZChtZXRob2RzLCB7CiAgICB2aXNpYmxlOiB2aXNpYmxlLAogICAgdG9nZ2xlOiAgdG9nZ2xlLAogICAgaGlkZTogICAgaGlkZSwKICAgIHNob3c6ICAgIHNob3cKICB9KTsKCgogIGZ1bmN0aW9uIHJlbW92ZShlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgdmFyIFNFTEVDVF9FTEVNRU5UX0lOTkVSSFRNTF9CVUdHWSA9IChmdW5jdGlvbigpewogICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksCiAgICAgICAgaXNCdWdneSA9IHRydWU7CiAgICBlbC5pbm5lckhUTUwgPSAiPG9wdGlvbiB2YWx1ZT1cInRlc3RcIj50ZXN0PC9vcHRpb24+IjsKICAgIGlmIChlbC5vcHRpb25zICYmIGVsLm9wdGlvbnNbMF0pIHsKICAgICAgaXNCdWdneSA9IGVsLm9wdGlvbnNbMF0ubm9kZU5hbWUudG9VcHBlckNhc2UoKSAhPT0gIk9QVElPTiI7CiAgICB9CiAgICBlbCA9IG51bGw7CiAgICByZXR1cm4gaXNCdWdneTsKICB9KSgpOwoKICB2YXIgVEFCTEVfRUxFTUVOVF9JTk5FUkhUTUxfQlVHR1kgPSAoZnVuY3Rpb24oKXsKICAgIHRyeSB7CiAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgIGlmIChlbCAmJiBlbC50Qm9kaWVzKSB7CiAgICAgICAgZWwuaW5uZXJIVE1MID0gIjx0Ym9keT48dHI+PHRkPnRlc3Q8L3RkPjwvdHI+PC90Ym9keT4iOwogICAgICAgIHZhciBpc0J1Z2d5ID0gdHlwZW9mIGVsLnRCb2RpZXNbMF0gPT0gInVuZGVmaW5lZCI7CiAgICAgICAgZWwgPSBudWxsOwogICAgICAgIHJldHVybiBpc0J1Z2d5OwogICAgICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0pKCk7CgogIHZhciBMSU5LX0VMRU1FTlRfSU5ORVJIVE1MX0JVR0dZID0gKGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIGVsLmlubmVySFRNTCA9ICI8bGluayAvPiI7CiAgICAgIHZhciBpc0J1Z2d5ID0gKGVsLmNoaWxkTm9kZXMubGVuZ3RoID09PSAwKTsKICAgICAgZWwgPSBudWxsOwogICAgICByZXR1cm4gaXNCdWdneTsKICAgIH0gY2F0Y2goZSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9KSgpOwoKICB2YXIgQU5ZX0lOTkVSSFRNTF9CVUdHWSA9IFNFTEVDVF9FTEVNRU5UX0lOTkVSSFRNTF9CVUdHWSB8fAogICBUQUJMRV9FTEVNRU5UX0lOTkVSSFRNTF9CVUdHWSB8fCBMSU5LX0VMRU1FTlRfSU5ORVJIVE1MX0JVR0dZOwoKICB2YXIgU0NSSVBUX0VMRU1FTlRfUkVKRUNUU19URVhUTk9ERV9BUFBFTkRJTkcgPSAoZnVuY3Rpb24gKCkgewogICAgdmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSwKICAgICAgICBpc0J1Z2d5ID0gZmFsc2U7CiAgICB0cnkgewogICAgICBzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKSk7CiAgICAgIGlzQnVnZ3kgPSAhcy5maXJzdENoaWxkIHx8CiAgICAgICAgcy5maXJzdENoaWxkICYmIHMuZmlyc3RDaGlsZC5ub2RlVHlwZSAhPT0gMzsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgaXNCdWdneSA9IHRydWU7CiAgICB9CiAgICBzID0gbnVsbDsKICAgIHJldHVybiBpc0J1Z2d5OwogIH0pKCk7CgogIGZ1bmN0aW9uIHVwZGF0ZShlbGVtZW50LCBjb250ZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICB2YXIgZGVzY2VuZGFudHMgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyksCiAgICAgaSA9IGRlc2NlbmRhbnRzLmxlbmd0aDsKICAgIHdoaWxlIChpLS0pIHB1cmdlRWxlbWVudChkZXNjZW5kYW50c1tpXSk7CgogICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC50b0VsZW1lbnQpCiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnRvRWxlbWVudCgpOwoKICAgIGlmIChPYmplY3QuaXNFbGVtZW50KGNvbnRlbnQpKQogICAgICByZXR1cm4gZWxlbWVudC51cGRhdGUoKS5pbnNlcnQoY29udGVudCk7CgoKICAgIGNvbnRlbnQgPSBPYmplY3QudG9IVE1MKGNvbnRlbnQpOwogICAgdmFyIHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKTsKCiAgICBpZiAodGFnTmFtZSA9PT0gJ1NDUklQVCcgJiYgU0NSSVBUX0VMRU1FTlRfUkVKRUNUU19URVhUTk9ERV9BUFBFTkRJTkcpIHsKICAgICAgZWxlbWVudC50ZXh0ID0gY29udGVudDsKICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICB9CgogICAgaWYgKEFOWV9JTk5FUkhUTUxfQlVHR1kpIHsKICAgICAgaWYgKHRhZ05hbWUgaW4gSU5TRVJUSU9OX1RSQU5TTEFUSU9OUy50YWdzKSB7CiAgICAgICAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkKICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTsKCiAgICAgICAgdmFyIG5vZGVzID0gZ2V0Q29udGVudEZyb21Bbm9ueW1vdXNFbGVtZW50KHRhZ05hbWUsIGNvbnRlbnQuc3RyaXBTY3JpcHRzKCkpOwogICAgICAgIGZvciAodmFyIGkgPSAwLCBub2RlOyBub2RlID0gbm9kZXNbaV07IGkrKykKICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobm9kZSk7CgogICAgICB9IGVsc2UgaWYgKExJTktfRUxFTUVOVF9JTk5FUkhUTUxfQlVHR1kgJiYgT2JqZWN0LmlzU3RyaW5nKGNvbnRlbnQpICYmIGNvbnRlbnQuaW5kZXhPZignPGxpbmsnKSA+IC0xKSB7CiAgICAgICAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkKICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTsKCiAgICAgICAgdmFyIG5vZGVzID0gZ2V0Q29udGVudEZyb21Bbm9ueW1vdXNFbGVtZW50KHRhZ05hbWUsCiAgICAgICAgIGNvbnRlbnQuc3RyaXBTY3JpcHRzKCksIHRydWUpOwoKICAgICAgICBmb3IgKHZhciBpID0gMCwgbm9kZTsgbm9kZSA9IG5vZGVzW2ldOyBpKyspCiAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG5vZGUpOwogICAgICB9IGVsc2UgewogICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudC5zdHJpcFNjcmlwdHMoKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50LnN0cmlwU2NyaXB0cygpOwogICAgfQoKICAgIGNvbnRlbnQuZXZhbFNjcmlwdHMuYmluZChjb250ZW50KS5kZWZlcigpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQoKICBmdW5jdGlvbiByZXBsYWNlKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgIGlmIChjb250ZW50ICYmIGNvbnRlbnQudG9FbGVtZW50KSB7CiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnRvRWxlbWVudCgpOwogICAgfSBlbHNlIGlmICghT2JqZWN0LmlzRWxlbWVudChjb250ZW50KSkgewogICAgICBjb250ZW50ID0gT2JqZWN0LnRvSFRNTChjb250ZW50KTsKICAgICAgdmFyIHJhbmdlID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7CiAgICAgIHJhbmdlLnNlbGVjdE5vZGUoZWxlbWVudCk7CiAgICAgIGNvbnRlbnQuZXZhbFNjcmlwdHMuYmluZChjb250ZW50KS5kZWZlcigpOwogICAgICBjb250ZW50ID0gcmFuZ2UuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGNvbnRlbnQuc3RyaXBTY3JpcHRzKCkpOwogICAgfQoKICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoY29udGVudCwgZWxlbWVudCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9CgogIHZhciBJTlNFUlRJT05fVFJBTlNMQVRJT05TID0gewogICAgYmVmb3JlOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7CiAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgZWxlbWVudCk7CiAgICB9LAogICAgdG9wOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7CiAgICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGVsZW1lbnQuZmlyc3RDaGlsZCk7CiAgICB9LAogICAgYm90dG9tOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7CiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICB9LAogICAgYWZ0ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5vZGUpIHsKICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBlbGVtZW50Lm5leHRTaWJsaW5nKTsKICAgIH0sCgogICAgdGFnczogewogICAgICBUQUJMRTogIFsnPHRhYmxlPicsICAgICAgICAgICAgICAgICc8L3RhYmxlPicsICAgICAgICAgICAgICAgICAgIDFdLAogICAgICBUQk9EWTogIFsnPHRhYmxlPjx0Ym9keT4nLCAgICAgICAgICc8L3Rib2R5PjwvdGFibGU+JywgICAgICAgICAgIDJdLAogICAgICBUUjogICAgIFsnPHRhYmxlPjx0Ym9keT48dHI+JywgICAgICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nLCAgICAgIDNdLAogICAgICBURDogICAgIFsnPHRhYmxlPjx0Ym9keT48dHI+PHRkPicsICc8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPicsIDRdLAogICAgICBTRUxFQ1Q6IFsnPHNlbGVjdD4nLCAgICAgICAgICAgICAgICc8L3NlbGVjdD4nLCAgICAgICAgICAgICAgICAgIDFdCiAgICB9CiAgfTsKCiAgdmFyIHRhZ3MgPSBJTlNFUlRJT05fVFJBTlNMQVRJT05TLnRhZ3M7CgogIE9iamVjdC5leHRlbmQodGFncywgewogICAgVEhFQUQ6IHRhZ3MuVEJPRFksCiAgICBURk9PVDogdGFncy5UQk9EWSwKICAgIFRIOiAgICB0YWdzLlRECiAgfSk7CgogIGZ1bmN0aW9uIHJlcGxhY2VfSUUoZWxlbWVudCwgY29udGVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBpZiAoY29udGVudCAmJiBjb250ZW50LnRvRWxlbWVudCkKICAgICAgY29udGVudCA9IGNvbnRlbnQudG9FbGVtZW50KCk7CiAgICBpZiAoT2JqZWN0LmlzRWxlbWVudChjb250ZW50KSkgewogICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGNvbnRlbnQsIGVsZW1lbnQpOwogICAgICByZXR1cm4gZWxlbWVudDsKICAgIH0KCiAgICBjb250ZW50ID0gT2JqZWN0LnRvSFRNTChjb250ZW50KTsKICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGUsIHRhZ05hbWUgPSBwYXJlbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwoKICAgIGlmICh0YWdOYW1lIGluIElOU0VSVElPTl9UUkFOU0xBVElPTlMudGFncykgewogICAgICB2YXIgbmV4dFNpYmxpbmcgPSBFbGVtZW50Lm5leHQoZWxlbWVudCk7CiAgICAgIHZhciBmcmFnbWVudHMgPSBnZXRDb250ZW50RnJvbUFub255bW91c0VsZW1lbnQoCiAgICAgICB0YWdOYW1lLCBjb250ZW50LnN0cmlwU2NyaXB0cygpKTsKCiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTsKCiAgICAgIHZhciBpdGVyYXRvcjsKICAgICAgaWYgKG5leHRTaWJsaW5nKQogICAgICAgIGl0ZXJhdG9yID0gZnVuY3Rpb24obm9kZSkgeyBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIG5leHRTaWJsaW5nKSB9OwogICAgICBlbHNlCiAgICAgICAgaXRlcmF0b3IgPSBmdW5jdGlvbihub2RlKSB7IHBhcmVudC5hcHBlbmRDaGlsZChub2RlKTsgfQoKICAgICAgZnJhZ21lbnRzLmVhY2goaXRlcmF0b3IpOwogICAgfSBlbHNlIHsKICAgICAgZWxlbWVudC5vdXRlckhUTUwgPSBjb250ZW50LnN0cmlwU2NyaXB0cygpOwogICAgfQoKICAgIGNvbnRlbnQuZXZhbFNjcmlwdHMuYmluZChjb250ZW50KS5kZWZlcigpOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQoKICBpZiAoJ291dGVySFRNTCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KQogICAgcmVwbGFjZSA9IHJlcGxhY2VfSUU7CgogIGZ1bmN0aW9uIGlzQ29udGVudChjb250ZW50KSB7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKGNvbnRlbnQpIHx8IGNvbnRlbnQgPT09IG51bGwpIHJldHVybiBmYWxzZTsKCiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKGNvbnRlbnQpIHx8IE9iamVjdC5pc051bWJlcihjb250ZW50KSkgcmV0dXJuIHRydWU7CiAgICBpZiAoT2JqZWN0LmlzRWxlbWVudChjb250ZW50KSkgcmV0dXJuIHRydWU7CiAgICBpZiAoY29udGVudC50b0VsZW1lbnQgfHwgY29udGVudC50b0hUTUwpIHJldHVybiB0cnVlOwoKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIGluc2VydENvbnRlbnRBdChlbGVtZW50LCBjb250ZW50LCBwb3NpdGlvbikgewogICAgcG9zaXRpb24gICA9IHBvc2l0aW9uLnRvTG93ZXJDYXNlKCk7CiAgICB2YXIgbWV0aG9kID0gSU5TRVJUSU9OX1RSQU5TTEFUSU9OU1twb3NpdGlvbl07CgogICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC50b0VsZW1lbnQpIGNvbnRlbnQgPSBjb250ZW50LnRvRWxlbWVudCgpOwogICAgaWYgKE9iamVjdC5pc0VsZW1lbnQoY29udGVudCkpIHsKICAgICAgbWV0aG9kKGVsZW1lbnQsIGNvbnRlbnQpOwogICAgICByZXR1cm4gZWxlbWVudDsKICAgIH0KCiAgICBjb250ZW50ID0gT2JqZWN0LnRvSFRNTChjb250ZW50KTsKICAgIHZhciB0YWdOYW1lID0gKChwb3NpdGlvbiA9PT0gJ2JlZm9yZScgfHwgcG9zaXRpb24gPT09ICdhZnRlcicpID8KICAgICBlbGVtZW50LnBhcmVudE5vZGUgOiBlbGVtZW50KS50YWdOYW1lLnRvVXBwZXJDYXNlKCk7CgogICAgdmFyIGNoaWxkTm9kZXMgPSBnZXRDb250ZW50RnJvbUFub255bW91c0VsZW1lbnQodGFnTmFtZSwgY29udGVudC5zdHJpcFNjcmlwdHMoKSk7CgogICAgaWYgKHBvc2l0aW9uID09PSAndG9wJyB8fCBwb3NpdGlvbiA9PT0gJ2FmdGVyJykgY2hpbGROb2Rlcy5yZXZlcnNlKCk7CgogICAgZm9yICh2YXIgaSA9IDAsIG5vZGU7IG5vZGUgPSBjaGlsZE5vZGVzW2ldOyBpKyspCiAgICAgIG1ldGhvZChlbGVtZW50LCBub2RlKTsKCiAgICBjb250ZW50LmV2YWxTY3JpcHRzLmJpbmQoY29udGVudCkuZGVmZXIoKTsKICB9CgogIGZ1bmN0aW9uIGluc2VydChlbGVtZW50LCBpbnNlcnRpb25zKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICBpZiAoaXNDb250ZW50KGluc2VydGlvbnMpKQogICAgICBpbnNlcnRpb25zID0geyBib3R0b206IGluc2VydGlvbnMgfTsKCiAgICBmb3IgKHZhciBwb3NpdGlvbiBpbiBpbnNlcnRpb25zKQogICAgICBpbnNlcnRDb250ZW50QXQoZWxlbWVudCwgaW5zZXJ0aW9uc1twb3NpdGlvbl0sIHBvc2l0aW9uKTsKCiAgICByZXR1cm4gZWxlbWVudDsKICB9CgogIGZ1bmN0aW9uIHdyYXAoZWxlbWVudCwgd3JhcHBlciwgYXR0cmlidXRlcykgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CgogICAgaWYgKE9iamVjdC5pc0VsZW1lbnQod3JhcHBlcikpIHsKICAgICAgJCh3cmFwcGVyKS53cml0ZUF0dHJpYnV0ZShhdHRyaWJ1dGVzIHx8IHt9KTsKICAgIH0gZWxzZSBpZiAoT2JqZWN0LmlzU3RyaW5nKHdyYXBwZXIpKSB7CiAgICAgIHdyYXBwZXIgPSBuZXcgRWxlbWVudCh3cmFwcGVyLCBhdHRyaWJ1dGVzKTsKICAgIH0gZWxzZSB7CiAgICAgIHdyYXBwZXIgPSBuZXcgRWxlbWVudCgnZGl2Jywgd3JhcHBlcik7CiAgICB9CgogICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkKICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBlbGVtZW50KTsKCiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpOwoKICAgIHJldHVybiB3cmFwcGVyOwogIH0KCiAgZnVuY3Rpb24gY2xlYW5XaGl0ZXNwYWNlKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIG5vZGUgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7CgogICAgd2hpbGUgKG5vZGUpIHsKICAgICAgdmFyIG5leHROb2RlID0gbm9kZS5uZXh0U2libGluZzsKICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFICYmICEvXFMvLnRlc3Qobm9kZS5ub2RlVmFsdWUpKQogICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQobm9kZSk7CiAgICAgIG5vZGUgPSBuZXh0Tm9kZTsKICAgIH0KICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gZW1wdHkoZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCkuaW5uZXJIVE1MLmJsYW5rKCk7CiAgfQoKICBmdW5jdGlvbiBnZXRDb250ZW50RnJvbUFub255bW91c0VsZW1lbnQodGFnTmFtZSwgaHRtbCwgZm9yY2UpIHsKICAgIHZhciB0ID0gSU5TRVJUSU9OX1RSQU5TTEFUSU9OUy50YWdzW3RhZ05hbWVdLCBkaXYgPSBESVY7CgogICAgdmFyIHdvcmthcm91bmQgPSAhIXQ7CiAgICBpZiAoIXdvcmthcm91bmQgJiYgZm9yY2UpIHsKICAgICAgd29ya2Fyb3VuZCA9IHRydWU7CiAgICAgIHQgPSBbJycsICcnLCAwXTsKICAgIH0KCiAgICBpZiAod29ya2Fyb3VuZCkgewogICAgICBkaXYuaW5uZXJIVE1MID0gJyYjMTYwOycgKyB0WzBdICsgaHRtbCArIHRbMV07CiAgICAgIGRpdi5yZW1vdmVDaGlsZChkaXYuZmlyc3RDaGlsZCk7CiAgICAgIGZvciAodmFyIGkgPSB0WzJdOyBpLS07ICkKICAgICAgICBkaXYgPSBkaXYuZmlyc3RDaGlsZDsKICAgIH0gZWxzZSB7CiAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sOwogICAgfQoKICAgIHJldHVybiAkQShkaXYuY2hpbGROb2Rlcyk7CiAgfQoKICBmdW5jdGlvbiBjbG9uZShlbGVtZW50LCBkZWVwKSB7CiAgICBpZiAoIShlbGVtZW50ID0gJChlbGVtZW50KSkpIHJldHVybjsKICAgIHZhciBjbG9uZSA9IGVsZW1lbnQuY2xvbmVOb2RlKGRlZXApOwogICAgaWYgKCFIQVNfVU5JUVVFX0lEX1BST1BFUlRZKSB7CiAgICAgIGNsb25lLl9wcm90b3R5cGVVSUQgPSBVTkRFRklORUQ7CiAgICAgIGlmIChkZWVwKSB7CiAgICAgICAgdmFyIGRlc2NlbmRhbnRzID0gRWxlbWVudC5zZWxlY3QoY2xvbmUsICcqJyksCiAgICAgICAgIGkgPSBkZXNjZW5kYW50cy5sZW5ndGg7CiAgICAgICAgd2hpbGUgKGktLSkKICAgICAgICAgIGRlc2NlbmRhbnRzW2ldLl9wcm90b3R5cGVVSUQgPSBVTkRFRklORUQ7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBFbGVtZW50LmV4dGVuZChjbG9uZSk7CiAgfQoKICBmdW5jdGlvbiBwdXJnZUVsZW1lbnQoZWxlbWVudCkgewogICAgdmFyIHVpZCA9IGdldFVuaXF1ZUVsZW1lbnRJRChlbGVtZW50KTsKICAgIGlmICh1aWQpIHsKICAgICAgRWxlbWVudC5zdG9wT2JzZXJ2aW5nKGVsZW1lbnQpOwogICAgICBpZiAoIUhBU19VTklRVUVfSURfUFJPUEVSVFkpCiAgICAgICAgZWxlbWVudC5fcHJvdG90eXBlVUlEID0gVU5ERUZJTkVEOwogICAgICBkZWxldGUgRWxlbWVudC5TdG9yYWdlW3VpZF07CiAgICB9CiAgfQoKICBmdW5jdGlvbiBwdXJnZUNvbGxlY3Rpb24oZWxlbWVudHMpIHsKICAgIHZhciBpID0gZWxlbWVudHMubGVuZ3RoOwogICAgd2hpbGUgKGktLSkKICAgICAgcHVyZ2VFbGVtZW50KGVsZW1lbnRzW2ldKTsKICB9CgogIGZ1bmN0aW9uIHB1cmdlQ29sbGVjdGlvbl9JRShlbGVtZW50cykgewogICAgdmFyIGkgPSBlbGVtZW50cy5sZW5ndGgsIGVsZW1lbnQsIHVpZDsKICAgIHdoaWxlIChpLS0pIHsKICAgICAgZWxlbWVudCA9IGVsZW1lbnRzW2ldOwogICAgICB1aWQgPSBnZXRVbmlxdWVFbGVtZW50SUQoZWxlbWVudCk7CiAgICAgIGRlbGV0ZSBFbGVtZW50LlN0b3JhZ2VbdWlkXTsKICAgICAgZGVsZXRlIEV2ZW50LmNhY2hlW3VpZF07CiAgICB9CiAgfQoKICBpZiAoSEFTX1VOSVFVRV9JRF9QUk9QRVJUWSkgewogICAgcHVyZ2VDb2xsZWN0aW9uID0gcHVyZ2VDb2xsZWN0aW9uX0lFOwogIH0KCgogIGZ1bmN0aW9uIHB1cmdlKGVsZW1lbnQpIHsKICAgIGlmICghKGVsZW1lbnQgPSAkKGVsZW1lbnQpKSkgcmV0dXJuOwogICAgcHVyZ2VFbGVtZW50KGVsZW1lbnQpOwoKICAgIHZhciBkZXNjZW5kYW50cyA9IGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSwKICAgICBpID0gZGVzY2VuZGFudHMubGVuZ3RoOwoKICAgIHdoaWxlIChpLS0pIHB1cmdlRWxlbWVudChkZXNjZW5kYW50c1tpXSk7CgogICAgcmV0dXJuIG51bGw7CiAgfQoKICBPYmplY3QuZXh0ZW5kKG1ldGhvZHMsIHsKICAgIHJlbW92ZTogIHJlbW92ZSwKICAgIHVwZGF0ZTogIHVwZGF0ZSwKICAgIHJlcGxhY2U6IHJlcGxhY2UsCiAgICBpbnNlcnQ6ICBpbnNlcnQsCiAgICB3cmFwOiAgICB3cmFwLAogICAgY2xlYW5XaGl0ZXNwYWNlOiBjbGVhbldoaXRlc3BhY2UsCiAgICBlbXB0eTogICBlbXB0eSwKICAgIGNsb25lOiAgIGNsb25lLAogICAgcHVyZ2U6ICAgcHVyZ2UKICB9KTsKCgoKICBmdW5jdGlvbiByZWN1cnNpdmVseUNvbGxlY3QoZWxlbWVudCwgcHJvcGVydHksIG1heGltdW1MZW5ndGgpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgbWF4aW11bUxlbmd0aCA9IG1heGltdW1MZW5ndGggfHwgLTE7CiAgICB2YXIgZWxlbWVudHMgPSBbXTsKCiAgICB3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnRbcHJvcGVydHldKSB7CiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkKICAgICAgICBlbGVtZW50cy5wdXNoKEVsZW1lbnQuZXh0ZW5kKGVsZW1lbnQpKTsKCiAgICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IG1heGltdW1MZW5ndGgpIGJyZWFrOwogICAgfQoKICAgIHJldHVybiBlbGVtZW50czsKICB9CgoKICBmdW5jdGlvbiBhbmNlc3RvcnMoZWxlbWVudCkgewogICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Q29sbGVjdChlbGVtZW50LCAncGFyZW50Tm9kZScpOwogIH0KCiAgZnVuY3Rpb24gZGVzY2VuZGFudHMoZWxlbWVudCkgewogICAgcmV0dXJuIEVsZW1lbnQuc2VsZWN0KGVsZW1lbnQsICcqJyk7CiAgfQoKICBmdW5jdGlvbiBmaXJzdERlc2NlbmRhbnQoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCkuZmlyc3RDaGlsZDsKICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKQogICAgICBlbGVtZW50ID0gZWxlbWVudC5uZXh0U2libGluZzsKCiAgICByZXR1cm4gJChlbGVtZW50KTsKICB9CgogIGZ1bmN0aW9uIGltbWVkaWF0ZURlc2NlbmRhbnRzKGVsZW1lbnQpIHsKICAgIHZhciByZXN1bHRzID0gW10sIGNoaWxkID0gJChlbGVtZW50KS5maXJzdENoaWxkOwoKICAgIHdoaWxlIChjaGlsZCkgewogICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKQogICAgICAgIHJlc3VsdHMucHVzaChFbGVtZW50LmV4dGVuZChjaGlsZCkpOwoKICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZzsKICAgIH0KCiAgICByZXR1cm4gcmVzdWx0czsKICB9CgogIGZ1bmN0aW9uIHByZXZpb3VzU2libGluZ3MoZWxlbWVudCkgewogICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Q29sbGVjdChlbGVtZW50LCAncHJldmlvdXNTaWJsaW5nJyk7CiAgfQoKICBmdW5jdGlvbiBuZXh0U2libGluZ3MoZWxlbWVudCkgewogICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Q29sbGVjdChlbGVtZW50LCAnbmV4dFNpYmxpbmcnKTsKICB9CgogIGZ1bmN0aW9uIHNpYmxpbmdzKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIHByZXZpb3VzID0gcHJldmlvdXNTaWJsaW5ncyhlbGVtZW50KSwKICAgICBuZXh0ID0gbmV4dFNpYmxpbmdzKGVsZW1lbnQpOwogICAgcmV0dXJuIHByZXZpb3VzLnJldmVyc2UoKS5jb25jYXQobmV4dCk7CiAgfQoKICBmdW5jdGlvbiBtYXRjaChlbGVtZW50LCBzZWxlY3RvcikgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CgogICAgaWYgKE9iamVjdC5pc1N0cmluZyhzZWxlY3RvcikpCiAgICAgIHJldHVybiBQcm90b3R5cGUuU2VsZWN0b3IubWF0Y2goZWxlbWVudCwgc2VsZWN0b3IpOwoKICAgIHJldHVybiBzZWxlY3Rvci5tYXRjaChlbGVtZW50KTsKICB9CgoKICBmdW5jdGlvbiBfcmVjdXJzaXZlbHlGaW5kKGVsZW1lbnQsIHByb3BlcnR5LCBleHByZXNzaW9uLCBpbmRleCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCksIGV4cHJlc3Npb24gPSBleHByZXNzaW9uIHx8IDAsIGluZGV4ID0gaW5kZXggfHwgMDsKICAgIGlmIChPYmplY3QuaXNOdW1iZXIoZXhwcmVzc2lvbikpIHsKICAgICAgaW5kZXggPSBleHByZXNzaW9uLCBleHByZXNzaW9uID0gbnVsbDsKICAgIH0KCiAgICB3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnRbcHJvcGVydHldKSB7CiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSAxKSBjb250aW51ZTsKICAgICAgaWYgKGV4cHJlc3Npb24gJiYgIVByb3RvdHlwZS5TZWxlY3Rvci5tYXRjaChlbGVtZW50LCBleHByZXNzaW9uKSkKICAgICAgICBjb250aW51ZTsKICAgICAgaWYgKC0taW5kZXggPj0gMCkgY29udGludWU7CgogICAgICByZXR1cm4gRWxlbWVudC5leHRlbmQoZWxlbWVudCk7CiAgICB9CiAgfQoKCiAgZnVuY3Rpb24gdXAoZWxlbWVudCwgZXhwcmVzc2lvbiwgaW5kZXgpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSByZXR1cm4gJChlbGVtZW50LnBhcmVudE5vZGUpOwogICAgcmV0dXJuIF9yZWN1cnNpdmVseUZpbmQoZWxlbWVudCwgJ3BhcmVudE5vZGUnLCBleHByZXNzaW9uLCBpbmRleCk7CiAgfQoKICBmdW5jdGlvbiBkb3duKGVsZW1lbnQsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGZpcnN0RGVzY2VuZGFudChlbGVtZW50KTsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpLCBleHByZXNzaW9uID0gZXhwcmVzc2lvbiB8fCAwLCBpbmRleCA9IGluZGV4IHx8IDA7CgogICAgaWYgKE9iamVjdC5pc051bWJlcihleHByZXNzaW9uKSkKICAgICAgaW5kZXggPSBleHByZXNzaW9uLCBleHByZXNzaW9uID0gJyonOwoKICAgIHZhciBub2RlID0gUHJvdG90eXBlLlNlbGVjdG9yLnNlbGVjdChleHByZXNzaW9uLCBlbGVtZW50KVtpbmRleF07CiAgICByZXR1cm4gRWxlbWVudC5leHRlbmQobm9kZSk7CiAgfQoKICBmdW5jdGlvbiBwcmV2aW91cyhlbGVtZW50LCBleHByZXNzaW9uLCBpbmRleCkgewogICAgcmV0dXJuIF9yZWN1cnNpdmVseUZpbmQoZWxlbWVudCwgJ3ByZXZpb3VzU2libGluZycsIGV4cHJlc3Npb24sIGluZGV4KTsKICB9CgogIGZ1bmN0aW9uIG5leHQoZWxlbWVudCwgZXhwcmVzc2lvbiwgaW5kZXgpIHsKICAgIHJldHVybiBfcmVjdXJzaXZlbHlGaW5kKGVsZW1lbnQsICduZXh0U2libGluZycsIGV4cHJlc3Npb24sIGluZGV4KTsKICB9CgogIGZ1bmN0aW9uIHNlbGVjdChlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBleHByZXNzaW9ucyA9IFNMSUNFLmNhbGwoYXJndW1lbnRzLCAxKS5qb2luKCcsICcpOwogICAgcmV0dXJuIFByb3RvdHlwZS5TZWxlY3Rvci5zZWxlY3QoZXhwcmVzc2lvbnMsIGVsZW1lbnQpOwogIH0KCiAgZnVuY3Rpb24gYWRqYWNlbnQoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgZXhwcmVzc2lvbnMgPSBTTElDRS5jYWxsKGFyZ3VtZW50cywgMSkuam9pbignLCAnKTsKICAgIHZhciBzaWJsaW5ncyA9IEVsZW1lbnQuc2libGluZ3MoZWxlbWVudCksIHJlc3VsdHMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwLCBzaWJsaW5nOyBzaWJsaW5nID0gc2libGluZ3NbaV07IGkrKykgewogICAgICBpZiAoUHJvdG90eXBlLlNlbGVjdG9yLm1hdGNoKHNpYmxpbmcsIGV4cHJlc3Npb25zKSkKICAgICAgICByZXN1bHRzLnB1c2goc2libGluZyk7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBkZXNjZW5kYW50T2ZfRE9NKGVsZW1lbnQsIGFuY2VzdG9yKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KSwgYW5jZXN0b3IgPSAkKGFuY2VzdG9yKTsKICAgIHdoaWxlIChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKQogICAgICBpZiAoZWxlbWVudCA9PT0gYW5jZXN0b3IpIHJldHVybiB0cnVlOwogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gZGVzY2VuZGFudE9mX2NvbnRhaW5zKGVsZW1lbnQsIGFuY2VzdG9yKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KSwgYW5jZXN0b3IgPSAkKGFuY2VzdG9yKTsKICAgIGlmICghYW5jZXN0b3IuY29udGFpbnMpIHJldHVybiBkZXNjZW5kYW50T2ZfRE9NKGVsZW1lbnQsIGFuY2VzdG9yKTsKICAgIHJldHVybiBhbmNlc3Rvci5jb250YWlucyhlbGVtZW50KSAmJiBhbmNlc3RvciAhPT0gZWxlbWVudDsKICB9CgogIGZ1bmN0aW9uIGRlc2NlbmRhbnRPZl9jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlbGVtZW50LCBhbmNlc3RvcikgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCksIGFuY2VzdG9yID0gJChhbmNlc3Rvcik7CiAgICByZXR1cm4gKGVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYW5jZXN0b3IpICYgOCkgPT09IDg7CiAgfQoKICB2YXIgZGVzY2VuZGFudE9mOwogIGlmIChESVYuY29tcGFyZURvY3VtZW50UG9zaXRpb24pIHsKICAgIGRlc2NlbmRhbnRPZiA9IGRlc2NlbmRhbnRPZl9jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjsKICB9IGVsc2UgaWYgKERJVi5jb250YWlucykgewogICAgZGVzY2VuZGFudE9mID0gZGVzY2VuZGFudE9mX2NvbnRhaW5zOwogIH0gZWxzZSB7CiAgICBkZXNjZW5kYW50T2YgPSBkZXNjZW5kYW50T2ZfRE9NOwogIH0KCgogIE9iamVjdC5leHRlbmQobWV0aG9kcywgewogICAgcmVjdXJzaXZlbHlDb2xsZWN0OiAgIHJlY3Vyc2l2ZWx5Q29sbGVjdCwKICAgIGFuY2VzdG9yczogICAgICAgICAgICBhbmNlc3RvcnMsCiAgICBkZXNjZW5kYW50czogICAgICAgICAgZGVzY2VuZGFudHMsCiAgICBmaXJzdERlc2NlbmRhbnQ6ICAgICAgZmlyc3REZXNjZW5kYW50LAogICAgaW1tZWRpYXRlRGVzY2VuZGFudHM6IGltbWVkaWF0ZURlc2NlbmRhbnRzLAogICAgcHJldmlvdXNTaWJsaW5nczogICAgIHByZXZpb3VzU2libGluZ3MsCiAgICBuZXh0U2libGluZ3M6ICAgICAgICAgbmV4dFNpYmxpbmdzLAogICAgc2libGluZ3M6ICAgICAgICAgICAgIHNpYmxpbmdzLAogICAgbWF0Y2g6ICAgICAgICAgICAgICAgIG1hdGNoLAogICAgdXA6ICAgICAgICAgICAgICAgICAgIHVwLAogICAgZG93bjogICAgICAgICAgICAgICAgIGRvd24sCiAgICBwcmV2aW91czogICAgICAgICAgICAgcHJldmlvdXMsCiAgICBuZXh0OiAgICAgICAgICAgICAgICAgbmV4dCwKICAgIHNlbGVjdDogICAgICAgICAgICAgICBzZWxlY3QsCiAgICBhZGphY2VudDogICAgICAgICAgICAgYWRqYWNlbnQsCiAgICBkZXNjZW5kYW50T2Y6ICAgICAgICAgZGVzY2VuZGFudE9mLAoKICAgIGdldEVsZW1lbnRzQnlTZWxlY3Rvcjogc2VsZWN0LAoKICAgIGNoaWxkRWxlbWVudHM6ICAgICAgICAgaW1tZWRpYXRlRGVzY2VuZGFudHMKICB9KTsKCgogIHZhciBpZENvdW50ZXIgPSAxOwogIGZ1bmN0aW9uIGlkZW50aWZ5KGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGlkID0gRWxlbWVudC5yZWFkQXR0cmlidXRlKGVsZW1lbnQsICdpZCcpOwogICAgaWYgKGlkKSByZXR1cm4gaWQ7CgogICAgZG8geyBpZCA9ICdhbm9ueW1vdXNfZWxlbWVudF8nICsgaWRDb3VudGVyKysgfSB3aGlsZSAoJChpZCkpOwoKICAgIEVsZW1lbnQud3JpdGVBdHRyaWJ1dGUoZWxlbWVudCwgJ2lkJywgaWQpOwogICAgcmV0dXJuIGlkOwogIH0KCgogIGZ1bmN0aW9uIHJlYWRBdHRyaWJ1dGUoZWxlbWVudCwgbmFtZSkgewogICAgcmV0dXJuICQoZWxlbWVudCkuZ2V0QXR0cmlidXRlKG5hbWUpOwogIH0KCiAgZnVuY3Rpb24gcmVhZEF0dHJpYnV0ZV9JRShlbGVtZW50LCBuYW1lKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICB2YXIgdGFibGUgPSBBVFRSSUJVVEVfVFJBTlNMQVRJT05TLnJlYWQ7CiAgICBpZiAodGFibGUudmFsdWVzW25hbWVdKQogICAgICByZXR1cm4gdGFibGUudmFsdWVzW25hbWVdKGVsZW1lbnQsIG5hbWUpOwoKICAgIGlmICh0YWJsZS5uYW1lc1tuYW1lXSkgbmFtZSA9IHRhYmxlLm5hbWVzW25hbWVdOwoKICAgIGlmIChuYW1lLmluY2x1ZGUoJzonKSkgewogICAgICBpZiAoIWVsZW1lbnQuYXR0cmlidXRlcyB8fCAhZWxlbWVudC5hdHRyaWJ1dGVzW25hbWVdKSByZXR1cm4gbnVsbDsKICAgICAgcmV0dXJuIGVsZW1lbnQuYXR0cmlidXRlc1tuYW1lXS52YWx1ZTsKICAgIH0KCiAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7CiAgfQoKICBmdW5jdGlvbiByZWFkQXR0cmlidXRlX09wZXJhKGVsZW1lbnQsIG5hbWUpIHsKICAgIGlmIChuYW1lID09PSAndGl0bGUnKSByZXR1cm4gZWxlbWVudC50aXRsZTsKICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTsKICB9CgogIHZhciBQUk9CTEVNQVRJQ19BVFRSSUJVVEVfUkVBRElORyA9IChmdW5jdGlvbigpIHsKICAgIERJVi5zZXRBdHRyaWJ1dGUoJ29uY2xpY2snLCBbXSk7CiAgICB2YXIgdmFsdWUgPSBESVYuZ2V0QXR0cmlidXRlKCdvbmNsaWNrJyk7CiAgICB2YXIgaXNGdW5jdGlvbiA9IE9iamVjdC5pc0FycmF5KHZhbHVlKTsKICAgIERJVi5yZW1vdmVBdHRyaWJ1dGUoJ29uY2xpY2snKTsKICAgIHJldHVybiBpc0Z1bmN0aW9uOwogIH0pKCk7CgogIGlmIChQUk9CTEVNQVRJQ19BVFRSSUJVVEVfUkVBRElORykgewogICAgcmVhZEF0dHJpYnV0ZSA9IHJlYWRBdHRyaWJ1dGVfSUU7CiAgfSBlbHNlIGlmIChQcm90b3R5cGUuQnJvd3Nlci5PcGVyYSkgewogICAgcmVhZEF0dHJpYnV0ZSA9IHJlYWRBdHRyaWJ1dGVfT3BlcmE7CiAgfQoKCiAgZnVuY3Rpb24gd3JpdGVBdHRyaWJ1dGUoZWxlbWVudCwgbmFtZSwgdmFsdWUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGF0dHJpYnV0ZXMgPSB7fSwgdGFibGUgPSBBVFRSSUJVVEVfVFJBTlNMQVRJT05TLndyaXRlOwoKICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHsKICAgICAgYXR0cmlidXRlcyA9IG5hbWU7CiAgICB9IGVsc2UgewogICAgICBhdHRyaWJ1dGVzW25hbWVdID0gT2JqZWN0LmlzVW5kZWZpbmVkKHZhbHVlKSA/IHRydWUgOiB2YWx1ZTsKICAgIH0KCiAgICBmb3IgKHZhciBhdHRyIGluIGF0dHJpYnV0ZXMpIHsKICAgICAgbmFtZSA9IHRhYmxlLm5hbWVzW2F0dHJdIHx8IGF0dHI7CiAgICAgIHZhbHVlID0gYXR0cmlidXRlc1thdHRyXTsKICAgICAgaWYgKHRhYmxlLnZhbHVlc1thdHRyXSkKICAgICAgICBuYW1lID0gdGFibGUudmFsdWVzW2F0dHJdKGVsZW1lbnQsIHZhbHVlKSB8fCBuYW1lOwogICAgICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsKQogICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpOwogICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gdHJ1ZSkKICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCBuYW1lKTsKICAgICAgZWxzZSBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7CiAgICB9CgogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQoKICB2YXIgUFJPQkxFTUFUSUNfSEFTX0FUVFJJQlVURV9XSVRIX0NIRUNLQk9YRVMgPSAoZnVuY3Rpb24gKCkgewogICAgaWYgKCFIQVNfRVhURU5ERURfQ1JFQVRFX0VMRU1FTlRfU1lOVEFYKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHZhciBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJzxpbnB1dCB0eXBlPSJjaGVja2JveCI+Jyk7CiAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZTsKICAgIHZhciBub2RlID0gY2hlY2tib3guZ2V0QXR0cmlidXRlTm9kZSgnY2hlY2tlZCcpOwogICAgcmV0dXJuICFub2RlIHx8ICFub2RlLnNwZWNpZmllZDsKICB9KSgpOwoKICBmdW5jdGlvbiBoYXNBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICBhdHRyaWJ1dGUgPSBBVFRSSUJVVEVfVFJBTlNMQVRJT05TLmhhc1thdHRyaWJ1dGVdIHx8IGF0dHJpYnV0ZTsKICAgIHZhciBub2RlID0gJChlbGVtZW50KS5nZXRBdHRyaWJ1dGVOb2RlKGF0dHJpYnV0ZSk7CiAgICByZXR1cm4gISEobm9kZSAmJiBub2RlLnNwZWNpZmllZCk7CiAgfQoKICBmdW5jdGlvbiBoYXNBdHRyaWJ1dGVfSUUoZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICBpZiAoYXR0cmlidXRlID09PSAnY2hlY2tlZCcpIHsKICAgICAgcmV0dXJuIGVsZW1lbnQuY2hlY2tlZDsKICAgIH0KICAgIHJldHVybiBoYXNBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlKTsKICB9CgogIEdMT0JBTC5FbGVtZW50Lk1ldGhvZHMuU2ltdWxhdGVkLmhhc0F0dHJpYnV0ZSA9CiAgIFBST0JMRU1BVElDX0hBU19BVFRSSUJVVEVfV0lUSF9DSEVDS0JPWEVTID8KICAgaGFzQXR0cmlidXRlX0lFIDogaGFzQXR0cmlidXRlOwoKICBmdW5jdGlvbiBjbGFzc05hbWVzKGVsZW1lbnQpIHsKICAgIHJldHVybiBuZXcgRWxlbWVudC5DbGFzc05hbWVzKGVsZW1lbnQpOwogIH0KCiAgdmFyIHJlZ0V4cENhY2hlID0ge307CiAgZnVuY3Rpb24gZ2V0UmVnRXhwRm9yQ2xhc3NOYW1lKGNsYXNzTmFtZSkgewogICAgaWYgKHJlZ0V4cENhY2hlW2NsYXNzTmFtZV0pIHJldHVybiByZWdFeHBDYWNoZVtjbGFzc05hbWVdOwoKICAgIHZhciByZSA9IG5ldyBSZWdFeHAoIihefFxccyspIiArIGNsYXNzTmFtZSArICIoXFxzK3wkKSIpOwogICAgcmVnRXhwQ2FjaGVbY2xhc3NOYW1lXSA9IHJlOwogICAgcmV0dXJuIHJlOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3NOYW1lKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1cm47CgogICAgdmFyIGVsZW1lbnRDbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZTsKCiAgICBpZiAoZWxlbWVudENsYXNzTmFtZS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTsKICAgIGlmIChlbGVtZW50Q2xhc3NOYW1lID09PSBjbGFzc05hbWUpIHJldHVybiB0cnVlOwoKICAgIHJldHVybiBnZXRSZWdFeHBGb3JDbGFzc05hbWUoY2xhc3NOYW1lKS50ZXN0KGVsZW1lbnRDbGFzc05hbWUpOwogIH0KCiAgZnVuY3Rpb24gYWRkQ2xhc3NOYW1lKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1cm47CgogICAgaWYgKCFoYXNDbGFzc05hbWUoZWxlbWVudCwgY2xhc3NOYW1lKSkKICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gKGVsZW1lbnQuY2xhc3NOYW1lID8gJyAnIDogJycpICsgY2xhc3NOYW1lOwoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3NOYW1lKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1cm47CgogICAgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKAogICAgIGdldFJlZ0V4cEZvckNsYXNzTmFtZShjbGFzc05hbWUpLCAnICcpLnN0cmlwKCk7CgogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfQoKICBmdW5jdGlvbiB0b2dnbGVDbGFzc05hbWUoZWxlbWVudCwgY2xhc3NOYW1lLCBib29sKSB7CiAgICBpZiAoIShlbGVtZW50ID0gJChlbGVtZW50KSkpIHJldHVybjsKCiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKGJvb2wpKQogICAgICBib29sID0gIWhhc0NsYXNzTmFtZShlbGVtZW50LCBjbGFzc05hbWUpOwoKICAgIHZhciBtZXRob2QgPSBFbGVtZW50W2Jvb2wgPyAnYWRkQ2xhc3NOYW1lJyA6ICdyZW1vdmVDbGFzc05hbWUnXTsKICAgIHJldHVybiBtZXRob2QoZWxlbWVudCwgY2xhc3NOYW1lKTsKICB9CgogIHZhciBBVFRSSUJVVEVfVFJBTlNMQVRJT05TID0ge307CgogIHZhciBjbGFzc1Byb3AgPSAnY2xhc3NOYW1lJywgZm9yUHJvcCA9ICdmb3InOwoKICBESVYuc2V0QXR0cmlidXRlKGNsYXNzUHJvcCwgJ3gnKTsKICBpZiAoRElWLmNsYXNzTmFtZSAhPT0gJ3gnKSB7CiAgICBESVYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd4Jyk7CiAgICBpZiAoRElWLmNsYXNzTmFtZSA9PT0gJ3gnKQogICAgICBjbGFzc1Byb3AgPSAnY2xhc3MnOwogIH0KCiAgdmFyIExBQkVMID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTsKICBMQUJFTC5zZXRBdHRyaWJ1dGUoZm9yUHJvcCwgJ3gnKTsKICBpZiAoTEFCRUwuaHRtbEZvciAhPT0gJ3gnKSB7CiAgICBMQUJFTC5zZXRBdHRyaWJ1dGUoJ2h0bWxGb3InLCAneCcpOwogICAgaWYgKExBQkVMLmh0bWxGb3IgPT09ICd4JykKICAgICAgZm9yUHJvcCA9ICdodG1sRm9yJzsKICB9CiAgTEFCRUwgPSBudWxsOwoKICBmdW5jdGlvbiBfZ2V0QXR0cihlbGVtZW50LCBhdHRyaWJ1dGUpIHsKICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpOwogIH0KCiAgZnVuY3Rpb24gX2dldEF0dHIyKGVsZW1lbnQsIGF0dHJpYnV0ZSkgewogICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgMik7CiAgfQoKICBmdW5jdGlvbiBfZ2V0QXR0ck5vZGUoZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICB2YXIgbm9kZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTm9kZShhdHRyaWJ1dGUpOwogICAgcmV0dXJuIG5vZGUgPyBub2RlLnZhbHVlIDogJyc7CiAgfQoKICBmdW5jdGlvbiBfZ2V0RmxhZyhlbGVtZW50LCBhdHRyaWJ1dGUpIHsKICAgIHJldHVybiAkKGVsZW1lbnQpLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGUpID8gYXR0cmlidXRlIDogbnVsbDsKICB9CgogIERJVi5vbmNsaWNrID0gUHJvdG90eXBlLmVtcHR5RnVuY3Rpb247CiAgdmFyIG9uY2xpY2tWYWx1ZSA9IERJVi5nZXRBdHRyaWJ1dGUoJ29uY2xpY2snKTsKCiAgdmFyIF9nZXRFdjsKCiAgaWYgKFN0cmluZyhvbmNsaWNrVmFsdWUpLmluZGV4T2YoJ3snKSA+IC0xKSB7CiAgICBfZ2V0RXYgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1dGUpIHsKICAgICAgdmFyIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTsKICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIG51bGw7CiAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTsKICAgICAgdmFsdWUgPSB2YWx1ZS5zcGxpdCgneycpWzFdOwogICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCd9JylbMF07CiAgICAgIHJldHVybiB2YWx1ZS5zdHJpcCgpOwogICAgfTsKICB9CiAgZWxzZSBpZiAob25jbGlja1ZhbHVlID09PSAnJykgewogICAgX2dldEV2ID0gZnVuY3Rpb24oZWxlbWVudCwgYXR0cmlidXRlKSB7CiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7CiAgICAgIGlmICghdmFsdWUpIHJldHVybiBudWxsOwogICAgICByZXR1cm4gdmFsdWUuc3RyaXAoKTsKICAgIH07CiAgfQoKICBBVFRSSUJVVEVfVFJBTlNMQVRJT05TLnJlYWQgPSB7CiAgICBuYW1lczogewogICAgICAnY2xhc3MnOiAgICAgY2xhc3NQcm9wLAogICAgICAnY2xhc3NOYW1lJzogY2xhc3NQcm9wLAogICAgICAnZm9yJzogICAgICAgZm9yUHJvcCwKICAgICAgJ2h0bWxGb3InOiAgIGZvclByb3AKICAgIH0sCgogICAgdmFsdWVzOiB7CiAgICAgIHN0eWxlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGVsZW1lbnQuc3R5bGUuY3NzVGV4dC50b0xvd2VyQ2FzZSgpOwogICAgICB9LAogICAgICB0aXRsZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBlbGVtZW50LnRpdGxlOwogICAgICB9CiAgICB9CiAgfTsKCiAgQVRUUklCVVRFX1RSQU5TTEFUSU9OUy53cml0ZSA9IHsKICAgIG5hbWVzOiB7CiAgICAgIGNsYXNzTmFtZTogICAnY2xhc3MnLAogICAgICBodG1sRm9yOiAgICAgJ2ZvcicsCiAgICAgIGNlbGxwYWRkaW5nOiAnY2VsbFBhZGRpbmcnLAogICAgICBjZWxsc3BhY2luZzogJ2NlbGxTcGFjaW5nJwogICAgfSwKCiAgICB2YWx1ZXM6IHsKICAgICAgY2hlY2tlZDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHsKICAgICAgICBlbGVtZW50LmNoZWNrZWQgPSAhIXZhbHVlOwogICAgICB9LAoKICAgICAgc3R5bGU6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7CiAgICAgICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gdmFsdWUgPyB2YWx1ZSA6ICcnOwogICAgICB9CiAgICB9CiAgfTsKCiAgQVRUUklCVVRFX1RSQU5TTEFUSU9OUy5oYXMgPSB7IG5hbWVzOiB7fSB9OwoKICBPYmplY3QuZXh0ZW5kKEFUVFJJQlVURV9UUkFOU0xBVElPTlMud3JpdGUubmFtZXMsCiAgIEFUVFJJQlVURV9UUkFOU0xBVElPTlMucmVhZC5uYW1lcyk7CgogIHZhciBDQU1FTF9DQVNFRF9BVFRSSUJVVEVfTkFNRVMgPSAkdygnY29sU3BhbiByb3dTcGFuIHZBbGlnbiBkYXRlVGltZSAnICsKICAgJ2FjY2Vzc0tleSB0YWJJbmRleCBlbmNUeXBlIG1heExlbmd0aCByZWFkT25seSBsb25nRGVzYyBmcmFtZUJvcmRlcicpOwoKICBmb3IgKHZhciBpID0gMCwgYXR0cjsgYXR0ciA9IENBTUVMX0NBU0VEX0FUVFJJQlVURV9OQU1FU1tpXTsgaSsrKSB7CiAgICBBVFRSSUJVVEVfVFJBTlNMQVRJT05TLndyaXRlLm5hbWVzW2F0dHIudG9Mb3dlckNhc2UoKV0gPSBhdHRyOwogICAgQVRUUklCVVRFX1RSQU5TTEFUSU9OUy5oYXMubmFtZXNbYXR0ci50b0xvd2VyQ2FzZSgpXSAgID0gYXR0cjsKICB9CgogIE9iamVjdC5leHRlbmQoQVRUUklCVVRFX1RSQU5TTEFUSU9OUy5yZWFkLnZhbHVlcywgewogICAgaHJlZjogICAgICAgIF9nZXRBdHRyMiwKICAgIHNyYzogICAgICAgICBfZ2V0QXR0cjIsCiAgICB0eXBlOiAgICAgICAgX2dldEF0dHIsCiAgICBhY3Rpb246ICAgICAgX2dldEF0dHJOb2RlLAogICAgZGlzYWJsZWQ6ICAgIF9nZXRGbGFnLAogICAgY2hlY2tlZDogICAgIF9nZXRGbGFnLAogICAgcmVhZG9ubHk6ICAgIF9nZXRGbGFnLAogICAgbXVsdGlwbGU6ICAgIF9nZXRGbGFnLAogICAgb25sb2FkOiAgICAgIF9nZXRFdiwKICAgIG9udW5sb2FkOiAgICBfZ2V0RXYsCiAgICBvbmNsaWNrOiAgICAgX2dldEV2LAogICAgb25kYmxjbGljazogIF9nZXRFdiwKICAgIG9ubW91c2Vkb3duOiBfZ2V0RXYsCiAgICBvbm1vdXNldXA6ICAgX2dldEV2LAogICAgb25tb3VzZW92ZXI6IF9nZXRFdiwKICAgIG9ubW91c2Vtb3ZlOiBfZ2V0RXYsCiAgICBvbm1vdXNlb3V0OiAgX2dldEV2LAogICAgb25mb2N1czogICAgIF9nZXRFdiwKICAgIG9uYmx1cjogICAgICBfZ2V0RXYsCiAgICBvbmtleXByZXNzOiAgX2dldEV2LAogICAgb25rZXlkb3duOiAgIF9nZXRFdiwKICAgIG9ua2V5dXA6ICAgICBfZ2V0RXYsCiAgICBvbnN1Ym1pdDogICAgX2dldEV2LAogICAgb25yZXNldDogICAgIF9nZXRFdiwKICAgIG9uc2VsZWN0OiAgICBfZ2V0RXYsCiAgICBvbmNoYW5nZTogICAgX2dldEV2CiAgfSk7CgoKICBPYmplY3QuZXh0ZW5kKG1ldGhvZHMsIHsKICAgIGlkZW50aWZ5OiAgICAgICAgaWRlbnRpZnksCiAgICByZWFkQXR0cmlidXRlOiAgIHJlYWRBdHRyaWJ1dGUsCiAgICB3cml0ZUF0dHJpYnV0ZTogIHdyaXRlQXR0cmlidXRlLAogICAgY2xhc3NOYW1lczogICAgICBjbGFzc05hbWVzLAogICAgaGFzQ2xhc3NOYW1lOiAgICBoYXNDbGFzc05hbWUsCiAgICBhZGRDbGFzc05hbWU6ICAgIGFkZENsYXNzTmFtZSwKICAgIHJlbW92ZUNsYXNzTmFtZTogcmVtb3ZlQ2xhc3NOYW1lLAogICAgdG9nZ2xlQ2xhc3NOYW1lOiB0b2dnbGVDbGFzc05hbWUKICB9KTsKCgogIGZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlTmFtZShzdHlsZSkgewogICAgaWYgKHN0eWxlID09PSAnZmxvYXQnIHx8IHN0eWxlID09PSAnc3R5bGVGbG9hdCcpCiAgICAgIHJldHVybiAnY3NzRmxvYXQnOwogICAgcmV0dXJuIHN0eWxlLmNhbWVsaXplKCk7CiAgfQoKICBmdW5jdGlvbiBub3JtYWxpemVTdHlsZU5hbWVfSUUoc3R5bGUpIHsKICAgIGlmIChzdHlsZSA9PT0gJ2Zsb2F0JyB8fCBzdHlsZSA9PT0gJ2Nzc0Zsb2F0JykKICAgICAgcmV0dXJuICdzdHlsZUZsb2F0JzsKICAgIHJldHVybiBzdHlsZS5jYW1lbGl6ZSgpOwogIH0KCiAgZnVuY3Rpb24gc2V0U3R5bGUoZWxlbWVudCwgc3R5bGVzKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBlbGVtZW50U3R5bGUgPSBlbGVtZW50LnN0eWxlLCBtYXRjaDsKCiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKHN0eWxlcykpIHsKICAgICAgZWxlbWVudFN0eWxlLmNzc1RleHQgKz0gJzsnICsgc3R5bGVzOwogICAgICBpZiAoc3R5bGVzLmluY2x1ZGUoJ29wYWNpdHknKSkgewogICAgICAgIHZhciBvcGFjaXR5ID0gc3R5bGVzLm1hdGNoKC9vcGFjaXR5OlxzKihcZD9cLj9cZCopLylbMV07CiAgICAgICAgRWxlbWVudC5zZXRPcGFjaXR5KGVsZW1lbnQsIG9wYWNpdHkpOwogICAgICB9CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfQoKICAgIGZvciAodmFyIHByb3BlcnR5IGluIHN0eWxlcykgewogICAgICBpZiAocHJvcGVydHkgPT09ICdvcGFjaXR5JykgewogICAgICAgIEVsZW1lbnQuc2V0T3BhY2l0eShlbGVtZW50LCBzdHlsZXNbcHJvcGVydHldKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdmFsdWUgPSBzdHlsZXNbcHJvcGVydHldOwogICAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ2Zsb2F0JyB8fCBwcm9wZXJ0eSA9PT0gJ2Nzc0Zsb2F0JykgewogICAgICAgICAgcHJvcGVydHkgPSBPYmplY3QuaXNVbmRlZmluZWQoZWxlbWVudFN0eWxlLnN0eWxlRmxvYXQpID8KICAgICAgICAgICAnY3NzRmxvYXQnIDogJ3N0eWxlRmxvYXQnOwogICAgICAgIH0KICAgICAgICBlbGVtZW50U3R5bGVbcHJvcGVydHldID0gdmFsdWU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZWxlbWVudDsKICB9CgoKICBmdW5jdGlvbiBnZXRTdHlsZShlbGVtZW50LCBzdHlsZSkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICBzdHlsZSA9IG5vcm1hbGl6ZVN0eWxlTmFtZShzdHlsZSk7CgogICAgdmFyIHZhbHVlID0gZWxlbWVudC5zdHlsZVtzdHlsZV07CiAgICBpZiAoIXZhbHVlIHx8IHZhbHVlID09PSAnYXV0bycpIHsKICAgICAgdmFyIGNzcyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7CiAgICAgIHZhbHVlID0gY3NzID8gY3NzW3N0eWxlXSA6IG51bGw7CiAgICB9CgogICAgaWYgKHN0eWxlID09PSAnb3BhY2l0eScpIHJldHVybiB2YWx1ZSA/IHBhcnNlRmxvYXQodmFsdWUpIDogMS4wOwogICAgcmV0dXJuIHZhbHVlID09PSAnYXV0bycgPyBudWxsIDogdmFsdWU7CiAgfQoKICBmdW5jdGlvbiBnZXRTdHlsZV9PcGVyYShlbGVtZW50LCBzdHlsZSkgewogICAgc3dpdGNoIChzdHlsZSkgewogICAgICBjYXNlICdoZWlnaHQnOiBjYXNlICd3aWR0aCc6CiAgICAgICAgaWYgKCFFbGVtZW50LnZpc2libGUoZWxlbWVudCkpIHJldHVybiBudWxsOwoKICAgICAgICB2YXIgZGltID0gcGFyc2VJbnQoZ2V0U3R5bGUoZWxlbWVudCwgc3R5bGUpLCAxMCk7CgogICAgICAgIGlmIChkaW0gIT09IGVsZW1lbnRbJ29mZnNldCcgKyBzdHlsZS5jYXBpdGFsaXplKCldKQogICAgICAgICAgcmV0dXJuIGRpbSArICdweCc7CgogICAgICAgIHJldHVybiBFbGVtZW50Lm1lYXN1cmUoZWxlbWVudCwgc3R5bGUpOwoKICAgICAgZGVmYXVsdDogcmV0dXJuIGdldFN0eWxlKGVsZW1lbnQsIHN0eWxlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdldFN0eWxlX0lFKGVsZW1lbnQsIHN0eWxlKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHN0eWxlID0gbm9ybWFsaXplU3R5bGVOYW1lX0lFKHN0eWxlKTsKCiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlXTsKICAgIGlmICghdmFsdWUgJiYgZWxlbWVudC5jdXJyZW50U3R5bGUpIHsKICAgICAgdmFsdWUgPSBlbGVtZW50LmN1cnJlbnRTdHlsZVtzdHlsZV07CiAgICB9CgogICAgaWYgKHN0eWxlID09PSAnb3BhY2l0eScgJiYgIVNUQU5EQVJEX0NTU19PUEFDSVRZX1NVUFBPUlRFRCkKICAgICAgcmV0dXJuIGdldE9wYWNpdHlfSUUoZWxlbWVudCk7CgogICAgaWYgKHZhbHVlID09PSAnYXV0bycpIHsKICAgICAgaWYgKChzdHlsZSA9PT0gJ3dpZHRoJyB8fCBzdHlsZSA9PT0gJ2hlaWdodCcpICYmIEVsZW1lbnQudmlzaWJsZShlbGVtZW50KSkKICAgICAgICByZXR1cm4gRWxlbWVudC5tZWFzdXJlKGVsZW1lbnQsIHN0eWxlKSArICdweCc7CiAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIHJldHVybiB2YWx1ZTsKICB9CgogIGZ1bmN0aW9uIHN0cmlwQWxwaGFGcm9tRmlsdGVyX0lFKGZpbHRlcikgewogICAgcmV0dXJuIChmaWx0ZXIgfHwgJycpLnJlcGxhY2UoL2FscGhhXChbXlwpXSpcKS9naSwgJycpOwogIH0KCiAgZnVuY3Rpb24gaGFzTGF5b3V0X0lFKGVsZW1lbnQpIHsKICAgIGlmICghZWxlbWVudC5jdXJyZW50U3R5bGUgfHwgIWVsZW1lbnQuY3VycmVudFN0eWxlLmhhc0xheW91dCkKICAgICAgZWxlbWVudC5zdHlsZS56b29tID0gMTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgdmFyIFNUQU5EQVJEX0NTU19PUEFDSVRZX1NVUFBPUlRFRCA9IChmdW5jdGlvbigpIHsKICAgIERJVi5zdHlsZS5jc3NUZXh0ID0gIm9wYWNpdHk6LjU1IjsKICAgIHJldHVybiAvXjAuNTUvLnRlc3QoRElWLnN0eWxlLm9wYWNpdHkpOwogIH0pKCk7CgogIGZ1bmN0aW9uIHNldE9wYWNpdHkoZWxlbWVudCwgdmFsdWUpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgaWYgKHZhbHVlID09IDEgfHwgdmFsdWUgPT09ICcnKSB2YWx1ZSA9ICcnOwogICAgZWxzZSBpZiAodmFsdWUgPCAwLjAwMDAxKSB2YWx1ZSA9IDA7CiAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSB2YWx1ZTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gc2V0T3BhY2l0eV9JRShlbGVtZW50LCB2YWx1ZSkgewogICAgaWYgKFNUQU5EQVJEX0NTU19PUEFDSVRZX1NVUFBPUlRFRCkKICAgICAgcmV0dXJuIHNldE9wYWNpdHkoZWxlbWVudCwgdmFsdWUpOwoKICAgIGVsZW1lbnQgPSBoYXNMYXlvdXRfSUUoJChlbGVtZW50KSk7CiAgICB2YXIgZmlsdGVyID0gRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAnZmlsdGVyJyksCiAgICAgc3R5bGUgPSBlbGVtZW50LnN0eWxlOwoKICAgIGlmICh2YWx1ZSA9PSAxIHx8IHZhbHVlID09PSAnJykgewogICAgICBmaWx0ZXIgPSBzdHJpcEFscGhhRnJvbUZpbHRlcl9JRShmaWx0ZXIpOwogICAgICBpZiAoZmlsdGVyKSBzdHlsZS5maWx0ZXIgPSBmaWx0ZXI7CiAgICAgIGVsc2Ugc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdmaWx0ZXInKTsKICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICB9CgogICAgaWYgKHZhbHVlIDwgMC4wMDAwMSkgdmFsdWUgPSAwOwoKICAgIHN0eWxlLmZpbHRlciA9IHN0cmlwQWxwaGFGcm9tRmlsdGVyX0lFKGZpbHRlcikgKwogICAgICdhbHBoYShvcGFjaXR5PScgKyAodmFsdWUgKiAxMDApICsgJyknOwoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCgogIGZ1bmN0aW9uIGdldE9wYWNpdHkoZWxlbWVudCkgewogICAgcmV0dXJuIEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ29wYWNpdHknKTsKICB9CgogIGZ1bmN0aW9uIGdldE9wYWNpdHlfSUUoZWxlbWVudCkgewogICAgaWYgKFNUQU5EQVJEX0NTU19PUEFDSVRZX1NVUFBPUlRFRCkKICAgICAgcmV0dXJuIGdldE9wYWNpdHkoZWxlbWVudCk7CgogICAgdmFyIGZpbHRlciA9IEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ2ZpbHRlcicpOwogICAgaWYgKGZpbHRlci5sZW5ndGggPT09IDApIHJldHVybiAxLjA7CiAgICB2YXIgbWF0Y2ggPSAoZmlsdGVyIHx8ICcnKS5tYXRjaCgvYWxwaGFcKG9wYWNpdHk9KC4qKVwpLyk7CiAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHJldHVybiBwYXJzZUZsb2F0KG1hdGNoWzFdKSAvIDEwMDsKICAgIHJldHVybiAxLjA7CiAgfQoKCiAgT2JqZWN0LmV4dGVuZChtZXRob2RzLCB7CiAgICBzZXRTdHlsZTogICBzZXRTdHlsZSwKICAgIGdldFN0eWxlOiAgIGdldFN0eWxlLAogICAgc2V0T3BhY2l0eTogc2V0T3BhY2l0eSwKICAgIGdldE9wYWNpdHk6IGdldE9wYWNpdHkKICB9KTsKCiAgaWYgKCdzdHlsZUZsb2F0JyBpbiBESVYuc3R5bGUpIHsKICAgIG1ldGhvZHMuZ2V0U3R5bGUgPSBnZXRTdHlsZV9JRTsKICAgIG1ldGhvZHMuc2V0T3BhY2l0eSA9IHNldE9wYWNpdHlfSUU7CiAgICBtZXRob2RzLmdldE9wYWNpdHkgPSBnZXRPcGFjaXR5X0lFOwogIH0KCiAgdmFyIFVJRCA9IDA7CgogIEdMT0JBTC5FbGVtZW50LlN0b3JhZ2UgPSB7IFVJRDogMSB9OwoKICBmdW5jdGlvbiBnZXRVbmlxdWVFbGVtZW50SUQoZWxlbWVudCkgewogICAgaWYgKGVsZW1lbnQgPT09IHdpbmRvdykgcmV0dXJuIDA7CgogICAgaWYgKHR5cGVvZiBlbGVtZW50Ll9wcm90b3R5cGVVSUQgPT09ICd1bmRlZmluZWQnKQogICAgICBlbGVtZW50Ll9wcm90b3R5cGVVSUQgPSBFbGVtZW50LlN0b3JhZ2UuVUlEKys7CiAgICByZXR1cm4gZWxlbWVudC5fcHJvdG90eXBlVUlEOwogIH0KCiAgZnVuY3Rpb24gZ2V0VW5pcXVlRWxlbWVudElEX0lFKGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50ID09PSB3aW5kb3cpIHJldHVybiAwOwogICAgaWYgKGVsZW1lbnQgPT0gZG9jdW1lbnQpIHJldHVybiAxOwogICAgcmV0dXJuIGVsZW1lbnQudW5pcXVlSUQ7CiAgfQoKICB2YXIgSEFTX1VOSVFVRV9JRF9QUk9QRVJUWSA9ICgndW5pcXVlSUQnIGluIERJVik7CiAgaWYgKEhBU19VTklRVUVfSURfUFJPUEVSVFkpCiAgICBnZXRVbmlxdWVFbGVtZW50SUQgPSBnZXRVbmlxdWVFbGVtZW50SURfSUU7CgogIGZ1bmN0aW9uIGdldFN0b3JhZ2UoZWxlbWVudCkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1cm47CgogICAgdmFyIHVpZCA9IGdldFVuaXF1ZUVsZW1lbnRJRChlbGVtZW50KTsKCiAgICBpZiAoIUVsZW1lbnQuU3RvcmFnZVt1aWRdKQogICAgICBFbGVtZW50LlN0b3JhZ2VbdWlkXSA9ICRIKCk7CgogICAgcmV0dXJuIEVsZW1lbnQuU3RvcmFnZVt1aWRdOwogIH0KCiAgZnVuY3Rpb24gc3RvcmUoZWxlbWVudCwga2V5LCB2YWx1ZSkgewogICAgaWYgKCEoZWxlbWVudCA9ICQoZWxlbWVudCkpKSByZXR1cm47CiAgICB2YXIgc3RvcmFnZSA9IGdldFN0b3JhZ2UoZWxlbWVudCk7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgewogICAgICBzdG9yYWdlLnVwZGF0ZShrZXkpOwogICAgfSBlbHNlIHsKICAgICAgc3RvcmFnZS5zZXQoa2V5LCB2YWx1ZSk7CiAgICB9CiAgICByZXR1cm4gZWxlbWVudDsKICB9CgogIGZ1bmN0aW9uIHJldHJpZXZlKGVsZW1lbnQsIGtleSwgZGVmYXVsdFZhbHVlKSB7CiAgICBpZiAoIShlbGVtZW50ID0gJChlbGVtZW50KSkpIHJldHVybjsKICAgIHZhciBzdG9yYWdlID0gZ2V0U3RvcmFnZShlbGVtZW50KSwgdmFsdWUgPSBzdG9yYWdlLmdldChrZXkpOwoKICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQodmFsdWUpKSB7CiAgICAgIHN0b3JhZ2Uuc2V0KGtleSwgZGVmYXVsdFZhbHVlKTsKICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7CiAgICB9CgogICAgcmV0dXJuIHZhbHVlOwogIH0KCgogIE9iamVjdC5leHRlbmQobWV0aG9kcywgewogICAgZ2V0U3RvcmFnZTogZ2V0U3RvcmFnZSwKICAgIHN0b3JlOiAgICAgIHN0b3JlLAogICAgcmV0cmlldmU6ICAgcmV0cmlldmUKICB9KTsKCgogIHZhciBNZXRob2RzID0ge30sIEJ5VGFnID0gRWxlbWVudC5NZXRob2RzLkJ5VGFnLAogICBGID0gUHJvdG90eXBlLkJyb3dzZXJGZWF0dXJlczsKCiAgaWYgKCFGLkVsZW1lbnRFeHRlbnNpb25zICYmICgnX19wcm90b19fJyBpbiBESVYpKSB7CiAgICBHTE9CQUwuSFRNTEVsZW1lbnQgPSB7fTsKICAgIEdMT0JBTC5IVE1MRWxlbWVudC5wcm90b3R5cGUgPSBESVZbJ19fcHJvdG9fXyddOwogICAgRi5FbGVtZW50RXh0ZW5zaW9ucyA9IHRydWU7CiAgfQoKICBmdW5jdGlvbiBjaGVja0VsZW1lbnRQcm90b3R5cGVEZWZpY2llbmN5KHRhZ05hbWUpIHsKICAgIGlmICh0eXBlb2Ygd2luZG93LkVsZW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7CiAgICBpZiAoIUhBU19FWFRFTkRFRF9DUkVBVEVfRUxFTUVOVF9TWU5UQVgpIHJldHVybiBmYWxzZTsKICAgIHZhciBwcm90byA9IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZTsKICAgIGlmIChwcm90bykgewogICAgICB2YXIgaWQgPSAnXycgKyAoTWF0aC5yYW5kb20oKSArICcnKS5zbGljZSgyKSwKICAgICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTsKICAgICAgcHJvdG9baWRdID0gJ3gnOwogICAgICB2YXIgaXNCdWdneSA9IChlbFtpZF0gIT09ICd4Jyk7CiAgICAgIGRlbGV0ZSBwcm90b1tpZF07CiAgICAgIGVsID0gbnVsbDsKICAgICAgcmV0dXJuIGlzQnVnZ3k7CiAgICB9CgogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgdmFyIEhUTUxPQkpFQ1RFTEVNRU5UX1BST1RPVFlQRV9CVUdHWSA9CiAgIGNoZWNrRWxlbWVudFByb3RvdHlwZURlZmljaWVuY3koJ29iamVjdCcpOwoKICBmdW5jdGlvbiBleHRlbmRFbGVtZW50V2l0aChlbGVtZW50LCBtZXRob2RzKSB7CiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBtZXRob2RzKSB7CiAgICAgIHZhciB2YWx1ZSA9IG1ldGhvZHNbcHJvcGVydHldOwogICAgICBpZiAoT2JqZWN0LmlzRnVuY3Rpb24odmFsdWUpICYmICEocHJvcGVydHkgaW4gZWxlbWVudCkpCiAgICAgICAgZWxlbWVudFtwcm9wZXJ0eV0gPSB2YWx1ZS5tZXRob2RpemUoKTsKICAgIH0KICB9CgogIHZhciBFWFRFTkRFRCA9IHt9OwogIGZ1bmN0aW9uIGVsZW1lbnRJc0V4dGVuZGVkKGVsZW1lbnQpIHsKICAgIHZhciB1aWQgPSBnZXRVbmlxdWVFbGVtZW50SUQoZWxlbWVudCk7CiAgICByZXR1cm4gKHVpZCBpbiBFWFRFTkRFRCk7CiAgfQoKICBmdW5jdGlvbiBleHRlbmQoZWxlbWVudCkgewogICAgaWYgKCFlbGVtZW50IHx8IGVsZW1lbnRJc0V4dGVuZGVkKGVsZW1lbnQpKSByZXR1cm4gZWxlbWVudDsKICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSB8fCBlbGVtZW50ID09IHdpbmRvdykKICAgICAgcmV0dXJuIGVsZW1lbnQ7CgogICAgdmFyIG1ldGhvZHMgPSBPYmplY3QuY2xvbmUoTWV0aG9kcyksCiAgICAgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpOwoKICAgIGlmIChCeVRhZ1t0YWdOYW1lXSkgT2JqZWN0LmV4dGVuZChtZXRob2RzLCBCeVRhZ1t0YWdOYW1lXSk7CgogICAgZXh0ZW5kRWxlbWVudFdpdGgoZWxlbWVudCwgbWV0aG9kcyk7CiAgICBFWFRFTkRFRFtnZXRVbmlxdWVFbGVtZW50SUQoZWxlbWVudCldID0gdHJ1ZTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gZXh0ZW5kX0lFOChlbGVtZW50KSB7CiAgICBpZiAoIWVsZW1lbnQgfHwgZWxlbWVudElzRXh0ZW5kZWQoZWxlbWVudCkpIHJldHVybiBlbGVtZW50OwoKICAgIHZhciB0ID0gZWxlbWVudC50YWdOYW1lOwogICAgaWYgKHQgJiYgKC9eKD86b2JqZWN0fGFwcGxldHxlbWJlZCkkL2kudGVzdCh0KSkpIHsKICAgICAgZXh0ZW5kRWxlbWVudFdpdGgoZWxlbWVudCwgRWxlbWVudC5NZXRob2RzKTsKICAgICAgZXh0ZW5kRWxlbWVudFdpdGgoZWxlbWVudCwgRWxlbWVudC5NZXRob2RzLlNpbXVsYXRlZCk7CiAgICAgIGV4dGVuZEVsZW1lbnRXaXRoKGVsZW1lbnQsIEVsZW1lbnQuTWV0aG9kcy5CeVRhZ1t0LnRvVXBwZXJDYXNlKCldKTsKICAgIH0KCiAgICByZXR1cm4gZWxlbWVudDsKICB9CgogIGlmIChGLlNwZWNpZmljRWxlbWVudEV4dGVuc2lvbnMpIHsKICAgIGV4dGVuZCA9IEhUTUxPQkpFQ1RFTEVNRU5UX1BST1RPVFlQRV9CVUdHWSA/IGV4dGVuZF9JRTggOiBQcm90b3R5cGUuSzsKICB9CgogIGZ1bmN0aW9uIGFkZE1ldGhvZHNUb1RhZ05hbWUodGFnTmFtZSwgbWV0aG9kcykgewogICAgdGFnTmFtZSA9IHRhZ05hbWUudG9VcHBlckNhc2UoKTsKICAgIGlmICghQnlUYWdbdGFnTmFtZV0pIEJ5VGFnW3RhZ05hbWVdID0ge307CiAgICBPYmplY3QuZXh0ZW5kKEJ5VGFnW3RhZ05hbWVdLCBtZXRob2RzKTsKICB9CgogIGZ1bmN0aW9uIG1lcmdlTWV0aG9kcyhkZXN0aW5hdGlvbiwgbWV0aG9kcywgb25seUlmQWJzZW50KSB7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKG9ubHlJZkFic2VudCkpIG9ubHlJZkFic2VudCA9IGZhbHNlOwogICAgZm9yICh2YXIgcHJvcGVydHkgaW4gbWV0aG9kcykgewogICAgICB2YXIgdmFsdWUgPSBtZXRob2RzW3Byb3BlcnR5XTsKICAgICAgaWYgKCFPYmplY3QuaXNGdW5jdGlvbih2YWx1ZSkpIGNvbnRpbnVlOwogICAgICBpZiAoIW9ubHlJZkFic2VudCB8fCAhKHByb3BlcnR5IGluIGRlc3RpbmF0aW9uKSkKICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSB2YWx1ZS5tZXRob2RpemUoKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGZpbmRET01DbGFzcyh0YWdOYW1lKSB7CiAgICB2YXIga2xhc3M7CiAgICB2YXIgdHJhbnMgPSB7CiAgICAgICJPUFRHUk9VUCI6ICJPcHRHcm91cCIsICJURVhUQVJFQSI6ICJUZXh0QXJlYSIsICJQIjogIlBhcmFncmFwaCIsCiAgICAgICJGSUVMRFNFVCI6ICJGaWVsZFNldCIsICJVTCI6ICJVTGlzdCIsICJPTCI6ICJPTGlzdCIsICJETCI6ICJETGlzdCIsCiAgICAgICJESVIiOiAiRGlyZWN0b3J5IiwgIkgxIjogIkhlYWRpbmciLCAiSDIiOiAiSGVhZGluZyIsICJIMyI6ICJIZWFkaW5nIiwKICAgICAgIkg0IjogIkhlYWRpbmciLCAiSDUiOiAiSGVhZGluZyIsICJINiI6ICJIZWFkaW5nIiwgIlEiOiAiUXVvdGUiLAogICAgICAiSU5TIjogIk1vZCIsICJERUwiOiAiTW9kIiwgIkEiOiAiQW5jaG9yIiwgIklNRyI6ICJJbWFnZSIsICJDQVBUSU9OIjoKICAgICAgIlRhYmxlQ2FwdGlvbiIsICJDT0wiOiAiVGFibGVDb2wiLCAiQ09MR1JPVVAiOiAiVGFibGVDb2wiLCAiVEhFQUQiOgogICAgICAiVGFibGVTZWN0aW9uIiwgIlRGT09UIjogIlRhYmxlU2VjdGlvbiIsICJUQk9EWSI6ICJUYWJsZVNlY3Rpb24iLCAiVFIiOgogICAgICAiVGFibGVSb3ciLCAiVEgiOiAiVGFibGVDZWxsIiwgIlREIjogIlRhYmxlQ2VsbCIsICJGUkFNRVNFVCI6CiAgICAgICJGcmFtZVNldCIsICJJRlJBTUUiOiAiSUZyYW1lIgogICAgfTsKICAgIGlmICh0cmFuc1t0YWdOYW1lXSkga2xhc3MgPSAnSFRNTCcgKyB0cmFuc1t0YWdOYW1lXSArICdFbGVtZW50JzsKICAgIGlmICh3aW5kb3dba2xhc3NdKSByZXR1cm4gd2luZG93W2tsYXNzXTsKICAgIGtsYXNzID0gJ0hUTUwnICsgdGFnTmFtZSArICdFbGVtZW50JzsKICAgIGlmICh3aW5kb3dba2xhc3NdKSByZXR1cm4gd2luZG93W2tsYXNzXTsKICAgIGtsYXNzID0gJ0hUTUwnICsgdGFnTmFtZS5jYXBpdGFsaXplKCkgKyAnRWxlbWVudCc7CiAgICBpZiAod2luZG93W2tsYXNzXSkgcmV0dXJuIHdpbmRvd1trbGFzc107CgogICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpLAogICAgIHByb3RvID0gZWxlbWVudFsnX19wcm90b19fJ10gfHwgZWxlbWVudC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7CgogICAgZWxlbWVudCA9IG51bGw7CiAgICByZXR1cm4gcHJvdG87CiAgfQoKICBmdW5jdGlvbiBhZGRNZXRob2RzKG1ldGhvZHMpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSBhZGRGb3JtTWV0aG9kcygpOwoKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7CiAgICAgIHZhciB0YWdOYW1lID0gbWV0aG9kczsKICAgICAgbWV0aG9kcyA9IGFyZ3VtZW50c1sxXTsKICAgIH0KCiAgICBpZiAoIXRhZ05hbWUpIHsKICAgICAgT2JqZWN0LmV4dGVuZChFbGVtZW50Lk1ldGhvZHMsIG1ldGhvZHMgfHwge30pOwogICAgfSBlbHNlIHsKICAgICAgaWYgKE9iamVjdC5pc0FycmF5KHRhZ05hbWUpKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHRhZzsgdGFnID0gdGFnTmFtZVtpXTsgaSsrKQogICAgICAgICAgYWRkTWV0aG9kc1RvVGFnTmFtZSh0YWcsIG1ldGhvZHMpOwogICAgICB9IGVsc2UgewogICAgICAgIGFkZE1ldGhvZHNUb1RhZ05hbWUodGFnTmFtZSwgbWV0aG9kcyk7CiAgICAgIH0KICAgIH0KCiAgICB2YXIgRUxFTUVOVF9QUk9UT1RZUEUgPSB3aW5kb3cuSFRNTEVsZW1lbnQgPyBIVE1MRWxlbWVudC5wcm90b3R5cGUgOgogICAgIEVsZW1lbnQucHJvdG90eXBlOwoKICAgIGlmIChGLkVsZW1lbnRFeHRlbnNpb25zKSB7CiAgICAgIG1lcmdlTWV0aG9kcyhFTEVNRU5UX1BST1RPVFlQRSwgRWxlbWVudC5NZXRob2RzKTsKICAgICAgbWVyZ2VNZXRob2RzKEVMRU1FTlRfUFJPVE9UWVBFLCBFbGVtZW50Lk1ldGhvZHMuU2ltdWxhdGVkLCB0cnVlKTsKICAgIH0KCiAgICBpZiAoRi5TcGVjaWZpY0VsZW1lbnRFeHRlbnNpb25zKSB7CiAgICAgIGZvciAodmFyIHRhZyBpbiBFbGVtZW50Lk1ldGhvZHMuQnlUYWcpIHsKICAgICAgICB2YXIga2xhc3MgPSBmaW5kRE9NQ2xhc3ModGFnKTsKICAgICAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKGtsYXNzKSkgY29udGludWU7CiAgICAgICAgbWVyZ2VNZXRob2RzKGtsYXNzLnByb3RvdHlwZSwgQnlUYWdbdGFnXSk7CiAgICAgIH0KICAgIH0KCiAgICBPYmplY3QuZXh0ZW5kKEVsZW1lbnQsIEVsZW1lbnQuTWV0aG9kcyk7CiAgICBPYmplY3QuZXh0ZW5kKEVsZW1lbnQsIEVsZW1lbnQuTWV0aG9kcy5TaW11bGF0ZWQpOwogICAgZGVsZXRlIEVsZW1lbnQuQnlUYWc7CiAgICBkZWxldGUgRWxlbWVudC5TaW11bGF0ZWQ7CgogICAgRWxlbWVudC5leHRlbmQucmVmcmVzaCgpOwoKICAgIEVMRU1FTlRfQ0FDSEUgPSB7fTsKICB9CgogIE9iamVjdC5leHRlbmQoR0xPQkFMLkVsZW1lbnQsIHsKICAgIGV4dGVuZDogICAgIGV4dGVuZCwKICAgIGFkZE1ldGhvZHM6IGFkZE1ldGhvZHMKICB9KTsKCiAgaWYgKGV4dGVuZCA9PT0gUHJvdG90eXBlLkspIHsKICAgIEdMT0JBTC5FbGVtZW50LmV4dGVuZC5yZWZyZXNoID0gUHJvdG90eXBlLmVtcHR5RnVuY3Rpb247CiAgfSBlbHNlIHsKICAgIEdMT0JBTC5FbGVtZW50LmV4dGVuZC5yZWZyZXNoID0gZnVuY3Rpb24oKSB7CiAgICAgIGlmIChQcm90b3R5cGUuQnJvd3NlckZlYXR1cmVzLkVsZW1lbnRFeHRlbnNpb25zKSByZXR1cm47CiAgICAgIE9iamVjdC5leHRlbmQoTWV0aG9kcywgRWxlbWVudC5NZXRob2RzKTsKICAgICAgT2JqZWN0LmV4dGVuZChNZXRob2RzLCBFbGVtZW50Lk1ldGhvZHMuU2ltdWxhdGVkKTsKCiAgICAgIEVYVEVOREVEID0ge307CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gYWRkRm9ybU1ldGhvZHMoKSB7CiAgICBPYmplY3QuZXh0ZW5kKEZvcm0sIEZvcm0uTWV0aG9kcyk7CiAgICBPYmplY3QuZXh0ZW5kKEZvcm0uRWxlbWVudCwgRm9ybS5FbGVtZW50Lk1ldGhvZHMpOwogICAgT2JqZWN0LmV4dGVuZChFbGVtZW50Lk1ldGhvZHMuQnlUYWcsIHsKICAgICAgIkZPUk0iOiAgICAgT2JqZWN0LmNsb25lKEZvcm0uTWV0aG9kcyksCiAgICAgICJJTlBVVCI6ICAgIE9iamVjdC5jbG9uZShGb3JtLkVsZW1lbnQuTWV0aG9kcyksCiAgICAgICJTRUxFQ1QiOiAgIE9iamVjdC5jbG9uZShGb3JtLkVsZW1lbnQuTWV0aG9kcyksCiAgICAgICJURVhUQVJFQSI6IE9iamVjdC5jbG9uZShGb3JtLkVsZW1lbnQuTWV0aG9kcyksCiAgICAgICJCVVRUT04iOiAgIE9iamVjdC5jbG9uZShGb3JtLkVsZW1lbnQuTWV0aG9kcykKICAgIH0pOwogIH0KCiAgRWxlbWVudC5hZGRNZXRob2RzKG1ldGhvZHMpOwoKICBmdW5jdGlvbiBkZXN0cm95Q2FjaGVfSUUoKSB7CiAgICBESVYgPSBudWxsOwogICAgRUxFTUVOVF9DQUNIRSA9IG51bGw7CiAgfQoKICBpZiAod2luZG93LmF0dGFjaEV2ZW50KQogICAgd2luZG93LmF0dGFjaEV2ZW50KCdvbnVubG9hZCcsIGRlc3Ryb3lDYWNoZV9JRSk7Cgp9KSh0aGlzKTsKKGZ1bmN0aW9uKCkgewoKICBmdW5jdGlvbiB0b0RlY2ltYWwocGN0U3RyaW5nKSB7CiAgICB2YXIgbWF0Y2ggPSBwY3RTdHJpbmcubWF0Y2goL14oXGQrKSU/JC9pKTsKICAgIGlmICghbWF0Y2gpIHJldHVybiBudWxsOwogICAgcmV0dXJuIChOdW1iZXIobWF0Y2hbMV0pIC8gMTAwKTsKICB9CgogIGZ1bmN0aW9uIGdldFJhd1N0eWxlKGVsZW1lbnQsIHN0eWxlKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlXTsKICAgIGlmICghdmFsdWUgfHwgdmFsdWUgPT09ICdhdXRvJykgewogICAgICB2YXIgY3NzID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTsKICAgICAgdmFsdWUgPSBjc3MgPyBjc3Nbc3R5bGVdIDogbnVsbDsKICAgIH0KCiAgICBpZiAoc3R5bGUgPT09ICdvcGFjaXR5JykgcmV0dXJuIHZhbHVlID8gcGFyc2VGbG9hdCh2YWx1ZSkgOiAxLjA7CiAgICByZXR1cm4gdmFsdWUgPT09ICdhdXRvJyA/IG51bGwgOiB2YWx1ZTsKICB9CgogIGZ1bmN0aW9uIGdldFJhd1N0eWxlX0lFKGVsZW1lbnQsIHN0eWxlKSB7CiAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnN0eWxlW3N0eWxlXTsKICAgIGlmICghdmFsdWUgJiYgZWxlbWVudC5jdXJyZW50U3R5bGUpIHsKICAgICAgdmFsdWUgPSBlbGVtZW50LmN1cnJlbnRTdHlsZVtzdHlsZV07CiAgICB9CiAgICByZXR1cm4gdmFsdWU7CiAgfQoKICBmdW5jdGlvbiBnZXRDb250ZW50V2lkdGgoZWxlbWVudCwgY29udGV4dCkgewogICAgdmFyIGJveFdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDsKCiAgICB2YXIgYmwgPSBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdib3JkZXJMZWZ0V2lkdGgnLCAgY29udGV4dCkgfHwgMDsKICAgIHZhciBiciA9IGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ2JvcmRlclJpZ2h0V2lkdGgnLCBjb250ZXh0KSB8fCAwOwogICAgdmFyIHBsID0gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAncGFkZGluZ0xlZnQnLCAgICAgIGNvbnRleHQpIHx8IDA7CiAgICB2YXIgcHIgPSBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdwYWRkaW5nUmlnaHQnLCAgICAgY29udGV4dCkgfHwgMDsKCiAgICByZXR1cm4gYm94V2lkdGggLSBibCAtIGJyIC0gcGwgLSBwcjsKICB9CgogIGlmICgnY3VycmVudFN0eWxlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHsKICAgIGdldFJhd1N0eWxlID0gZ2V0UmF3U3R5bGVfSUU7CiAgfQoKCiAgZnVuY3Rpb24gZ2V0UGl4ZWxWYWx1ZSh2YWx1ZSwgcHJvcGVydHksIGNvbnRleHQpIHsKICAgIHZhciBlbGVtZW50ID0gbnVsbDsKICAgIGlmIChPYmplY3QuaXNFbGVtZW50KHZhbHVlKSkgewogICAgICBlbGVtZW50ID0gdmFsdWU7CiAgICAgIHZhbHVlID0gZ2V0UmF3U3R5bGUoZWxlbWVudCwgcHJvcGVydHkpOwogICAgfQoKICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCBPYmplY3QuaXNVbmRlZmluZWQodmFsdWUpKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIGlmICgoL14oPzotKT9cZCsoXC5cZCspPyhweCk/JC9pKS50ZXN0KHZhbHVlKSkgewogICAgICByZXR1cm4gd2luZG93LnBhcnNlRmxvYXQodmFsdWUpOwogICAgfQoKICAgIHZhciBpc1BlcmNlbnRhZ2UgPSB2YWx1ZS5pbmNsdWRlKCclJyksIGlzVmlld3BvcnQgPSAoY29udGV4dCA9PT0gZG9jdW1lbnQudmlld3BvcnQpOwoKICAgIGlmICgvXGQvLnRlc3QodmFsdWUpICYmIGVsZW1lbnQgJiYgZWxlbWVudC5ydW50aW1lU3R5bGUgJiYgIShpc1BlcmNlbnRhZ2UgJiYgaXNWaWV3cG9ydCkpIHsKICAgICAgdmFyIHN0eWxlID0gZWxlbWVudC5zdHlsZS5sZWZ0LCByU3R5bGUgPSBlbGVtZW50LnJ1bnRpbWVTdHlsZS5sZWZ0OwogICAgICBlbGVtZW50LnJ1bnRpbWVTdHlsZS5sZWZ0ID0gZWxlbWVudC5jdXJyZW50U3R5bGUubGVmdDsKICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gdmFsdWUgfHwgMDsKICAgICAgdmFsdWUgPSBlbGVtZW50LnN0eWxlLnBpeGVsTGVmdDsKICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gc3R5bGU7CiAgICAgIGVsZW1lbnQucnVudGltZVN0eWxlLmxlZnQgPSByU3R5bGU7CgogICAgICByZXR1cm4gdmFsdWU7CiAgICB9CgogICAgaWYgKGVsZW1lbnQgJiYgaXNQZXJjZW50YWdlKSB7CiAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IGVsZW1lbnQucGFyZW50Tm9kZTsKICAgICAgdmFyIGRlY2ltYWwgPSB0b0RlY2ltYWwodmFsdWUpLCB3aG9sZSA9IG51bGw7CgogICAgICB2YXIgaXNIb3Jpem9udGFsID0gcHJvcGVydHkuaW5jbHVkZSgnbGVmdCcpIHx8IHByb3BlcnR5LmluY2x1ZGUoJ3JpZ2h0JykgfHwKICAgICAgIHByb3BlcnR5LmluY2x1ZGUoJ3dpZHRoJyk7CgogICAgICB2YXIgaXNWZXJ0aWNhbCAgID0gcHJvcGVydHkuaW5jbHVkZSgndG9wJykgfHwgcHJvcGVydHkuaW5jbHVkZSgnYm90dG9tJykgfHwKICAgICAgICBwcm9wZXJ0eS5pbmNsdWRlKCdoZWlnaHQnKTsKCiAgICAgIGlmIChjb250ZXh0ID09PSBkb2N1bWVudC52aWV3cG9ydCkgewogICAgICAgIGlmIChpc0hvcml6b250YWwpIHsKICAgICAgICAgIHdob2xlID0gZG9jdW1lbnQudmlld3BvcnQuZ2V0V2lkdGgoKTsKICAgICAgICB9IGVsc2UgaWYgKGlzVmVydGljYWwpIHsKICAgICAgICAgIHdob2xlID0gZG9jdW1lbnQudmlld3BvcnQuZ2V0SGVpZ2h0KCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChpc0hvcml6b250YWwpIHsKICAgICAgICAgIHdob2xlID0gJChjb250ZXh0KS5tZWFzdXJlKCd3aWR0aCcpOwogICAgICAgIH0gZWxzZSBpZiAoaXNWZXJ0aWNhbCkgewogICAgICAgICAgd2hvbGUgPSAkKGNvbnRleHQpLm1lYXN1cmUoJ2hlaWdodCcpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuICh3aG9sZSA9PT0gbnVsbCkgPyAwIDogd2hvbGUgKiBkZWNpbWFsOwogICAgfQoKICAgIHJldHVybiAwOwogIH0KCiAgZnVuY3Rpb24gdG9DU1NQaXhlbHMobnVtYmVyKSB7CiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKG51bWJlcikgJiYgbnVtYmVyLmVuZHNXaXRoKCdweCcpKQogICAgICByZXR1cm4gbnVtYmVyOwogICAgcmV0dXJuIG51bWJlciArICdweCc7CiAgfQoKICBmdW5jdGlvbiBpc0Rpc3BsYXllZChlbGVtZW50KSB7CiAgICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50LnBhcmVudE5vZGUpIHsKICAgICAgdmFyIGRpc3BsYXkgPSBlbGVtZW50LmdldFN0eWxlKCdkaXNwbGF5Jyk7CiAgICAgIGlmIChkaXNwbGF5ID09PSAnbm9uZScpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgZWxlbWVudCA9ICQoZWxlbWVudC5wYXJlbnROb2RlKTsKICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0KCiAgdmFyIGhhc0xheW91dCA9IFByb3RvdHlwZS5LOwogIGlmICgnY3VycmVudFN0eWxlJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHsKICAgIGhhc0xheW91dCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgaWYgKCFlbGVtZW50LmN1cnJlbnRTdHlsZS5oYXNMYXlvdXQpIHsKICAgICAgICBlbGVtZW50LnN0eWxlLnpvb20gPSAxOwogICAgICB9CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGNzc05hbWVGb3Ioa2V5KSB7CiAgICBpZiAoa2V5LmluY2x1ZGUoJ2JvcmRlcicpKSBrZXkgPSBrZXkgKyAnLXdpZHRoJzsKICAgIHJldHVybiBrZXkuY2FtZWxpemUoKTsKICB9CgogIEVsZW1lbnQuTGF5b3V0ID0gQ2xhc3MuY3JlYXRlKEhhc2gsIHsKICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCRzdXBlciwgZWxlbWVudCwgcHJlQ29tcHV0ZSkgewogICAgICAkc3VwZXIoKTsKICAgICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICAgIEVsZW1lbnQuTGF5b3V0LlBST1BFUlRJRVMuZWFjaCggZnVuY3Rpb24ocHJvcGVydHkpIHsKICAgICAgICB0aGlzLl9zZXQocHJvcGVydHksIG51bGwpOwogICAgICB9LCB0aGlzKTsKCiAgICAgIGlmIChwcmVDb21wdXRlKSB7CiAgICAgICAgdGhpcy5fcHJlQ29tcHV0aW5nID0gdHJ1ZTsKICAgICAgICB0aGlzLl9iZWdpbigpOwogICAgICAgIEVsZW1lbnQuTGF5b3V0LlBST1BFUlRJRVMuZWFjaCggdGhpcy5fY29tcHV0ZSwgdGhpcyApOwogICAgICAgIHRoaXMuX2VuZCgpOwogICAgICAgIHRoaXMuX3ByZUNvbXB1dGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAoKICAgIF9zZXQ6IGZ1bmN0aW9uKHByb3BlcnR5LCB2YWx1ZSkgewogICAgICByZXR1cm4gSGFzaC5wcm90b3R5cGUuc2V0LmNhbGwodGhpcywgcHJvcGVydHksIHZhbHVlKTsKICAgIH0sCgogICAgc2V0OiBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUpIHsKICAgICAgdGhyb3cgIlByb3BlcnRpZXMgb2YgRWxlbWVudC5MYXlvdXQgYXJlIHJlYWQtb25seS4iOwogICAgfSwKCiAgICBnZXQ6IGZ1bmN0aW9uKCRzdXBlciwgcHJvcGVydHkpIHsKICAgICAgdmFyIHZhbHVlID0gJHN1cGVyKHByb3BlcnR5KTsKICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gdGhpcy5fY29tcHV0ZShwcm9wZXJ0eSkgOiB2YWx1ZTsKICAgIH0sCgogICAgX2JlZ2luOiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMuX2lzUHJlcGFyZWQoKSkgcmV0dXJuOwoKICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7CiAgICAgIGlmIChpc0Rpc3BsYXllZChlbGVtZW50KSkgewogICAgICAgIHRoaXMuX3NldFByZXBhcmVkKHRydWUpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKCiAgICAgIHZhciBvcmlnaW5hbFN0eWxlcyA9IHsKICAgICAgICBwb3NpdGlvbjogICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uICAgfHwgJycsCiAgICAgICAgd2lkdGg6ICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCAgICAgIHx8ICcnLAogICAgICAgIHZpc2liaWxpdHk6IGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSB8fCAnJywKICAgICAgICBkaXNwbGF5OiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgICAgfHwgJycKICAgICAgfTsKCiAgICAgIGVsZW1lbnQuc3RvcmUoJ3Byb3RvdHlwZV9vcmlnaW5hbF9zdHlsZXMnLCBvcmlnaW5hbFN0eWxlcyk7CgogICAgICB2YXIgcG9zaXRpb24gPSBnZXRSYXdTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSwgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoOwoKICAgICAgaWYgKHdpZHRoID09PSAwIHx8IHdpZHRoID09PSBudWxsKSB7CiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICB3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7CiAgICAgIH0KCiAgICAgIHZhciBjb250ZXh0ID0gKHBvc2l0aW9uID09PSAnZml4ZWQnKSA/IGRvY3VtZW50LnZpZXdwb3J0IDoKICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZTsKCiAgICAgIHZhciB0ZW1wU3R5bGVzID0gewogICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nLAogICAgICAgIGRpc3BsYXk6ICAgICdibG9jaycKICAgICAgfTsKCiAgICAgIGlmIChwb3NpdGlvbiAhPT0gJ2ZpeGVkJykgdGVtcFN0eWxlcy5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CgogICAgICBlbGVtZW50LnNldFN0eWxlKHRlbXBTdHlsZXMpOwoKICAgICAgdmFyIHBvc2l0aW9uZWRXaWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGgsIG5ld1dpZHRoOwogICAgICBpZiAod2lkdGggJiYgKHBvc2l0aW9uZWRXaWR0aCA9PT0gd2lkdGgpKSB7CiAgICAgICAgbmV3V2lkdGggPSBnZXRDb250ZW50V2lkdGgoZWxlbWVudCwgY29udGV4dCk7CiAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdhYnNvbHV0ZScgfHwgcG9zaXRpb24gPT09ICdmaXhlZCcpIHsKICAgICAgICBuZXdXaWR0aCA9IGdldENvbnRlbnRXaWR0aChlbGVtZW50LCBjb250ZXh0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlLCBwTGF5b3V0ID0gJChwYXJlbnQpLmdldExheW91dCgpOwoKICAgICAgICBuZXdXaWR0aCA9IHBMYXlvdXQuZ2V0KCd3aWR0aCcpIC0KICAgICAgICAgdGhpcy5nZXQoJ21hcmdpbi1sZWZ0JykgLQogICAgICAgICB0aGlzLmdldCgnYm9yZGVyLWxlZnQnKSAtCiAgICAgICAgIHRoaXMuZ2V0KCdwYWRkaW5nLWxlZnQnKSAtCiAgICAgICAgIHRoaXMuZ2V0KCdwYWRkaW5nLXJpZ2h0JykgLQogICAgICAgICB0aGlzLmdldCgnYm9yZGVyLXJpZ2h0JykgLQogICAgICAgICB0aGlzLmdldCgnbWFyZ2luLXJpZ2h0Jyk7CiAgICAgIH0KCiAgICAgIGVsZW1lbnQuc2V0U3R5bGUoeyB3aWR0aDogbmV3V2lkdGggKyAncHgnIH0pOwoKICAgICAgdGhpcy5fc2V0UHJlcGFyZWQodHJ1ZSk7CiAgICB9LAoKICAgIF9lbmQ6IGZ1bmN0aW9uKCkgewogICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudDsKICAgICAgdmFyIG9yaWdpbmFsU3R5bGVzID0gZWxlbWVudC5yZXRyaWV2ZSgncHJvdG90eXBlX29yaWdpbmFsX3N0eWxlcycpOwogICAgICBlbGVtZW50LnN0b3JlKCdwcm90b3R5cGVfb3JpZ2luYWxfc3R5bGVzJywgbnVsbCk7CiAgICAgIGVsZW1lbnQuc2V0U3R5bGUob3JpZ2luYWxTdHlsZXMpOwogICAgICB0aGlzLl9zZXRQcmVwYXJlZChmYWxzZSk7CiAgICB9LAoKICAgIF9jb21wdXRlOiBmdW5jdGlvbihwcm9wZXJ0eSkgewogICAgICB2YXIgQ09NUFVUQVRJT05TID0gRWxlbWVudC5MYXlvdXQuQ09NUFVUQVRJT05TOwogICAgICBpZiAoIShwcm9wZXJ0eSBpbiBDT01QVVRBVElPTlMpKSB7CiAgICAgICAgdGhyb3cgIlByb3BlcnR5IG5vdCBmb3VuZC4iOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5fc2V0KHByb3BlcnR5LCBDT01QVVRBVElPTlNbcHJvcGVydHldLmNhbGwodGhpcywgdGhpcy5lbGVtZW50KSk7CiAgICB9LAoKICAgIF9pc1ByZXBhcmVkOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5yZXRyaWV2ZSgncHJvdG90eXBlX2VsZW1lbnRfbGF5b3V0X3ByZXBhcmVkJywgZmFsc2UpOwogICAgfSwKCiAgICBfc2V0UHJlcGFyZWQ6IGZ1bmN0aW9uKGJvb2wpIHsKICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5zdG9yZSgncHJvdG90eXBlX2VsZW1lbnRfbGF5b3V0X3ByZXBhcmVkJywgYm9vbCk7CiAgICB9LAoKICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGFyZ3MgPSAkQShhcmd1bWVudHMpOwogICAgICB2YXIga2V5cyA9IChhcmdzLmxlbmd0aCA9PT0gMCkgPyBFbGVtZW50LkxheW91dC5QUk9QRVJUSUVTIDoKICAgICAgIGFyZ3Muam9pbignICcpLnNwbGl0KCcgJyk7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAga2V5cy5lYWNoKCBmdW5jdGlvbihrZXkpIHsKICAgICAgICBpZiAoIUVsZW1lbnQuTGF5b3V0LlBST1BFUlRJRVMuaW5jbHVkZShrZXkpKSByZXR1cm47CiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXQoa2V5KTsKICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfSwgdGhpcyk7CiAgICAgIHJldHVybiBvYmo7CiAgICB9LAoKICAgIHRvSGFzaDogZnVuY3Rpb24oKSB7CiAgICAgIHZhciBvYmogPSB0aGlzLnRvT2JqZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIHJldHVybiBuZXcgSGFzaChvYmopOwogICAgfSwKCiAgICB0b0NTUzogZnVuY3Rpb24oKSB7CiAgICAgIHZhciBhcmdzID0gJEEoYXJndW1lbnRzKTsKICAgICAgdmFyIGtleXMgPSAoYXJncy5sZW5ndGggPT09IDApID8gRWxlbWVudC5MYXlvdXQuUFJPUEVSVElFUyA6CiAgICAgICBhcmdzLmpvaW4oJyAnKS5zcGxpdCgnICcpOwogICAgICB2YXIgY3NzID0ge307CgogICAgICBrZXlzLmVhY2goIGZ1bmN0aW9uKGtleSkgewogICAgICAgIGlmICghRWxlbWVudC5MYXlvdXQuUFJPUEVSVElFUy5pbmNsdWRlKGtleSkpIHJldHVybjsKICAgICAgICBpZiAoRWxlbWVudC5MYXlvdXQuQ09NUE9TSVRFX1BST1BFUlRJRVMuaW5jbHVkZShrZXkpKSByZXR1cm47CgogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0KGtleSk7CiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIGNzc1tjc3NOYW1lRm9yKGtleSldID0gdmFsdWUgKyAncHgnOwogICAgICB9LCB0aGlzKTsKICAgICAgcmV0dXJuIGNzczsKICAgIH0sCgogICAgaW5zcGVjdDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiAiIzxFbGVtZW50LkxheW91dD4iOwogICAgfQogIH0pOwoKICBPYmplY3QuZXh0ZW5kKEVsZW1lbnQuTGF5b3V0LCB7CiAgICBQUk9QRVJUSUVTOiAkdygnaGVpZ2h0IHdpZHRoIHRvcCBsZWZ0IHJpZ2h0IGJvdHRvbSBib3JkZXItbGVmdCBib3JkZXItcmlnaHQgYm9yZGVyLXRvcCBib3JkZXItYm90dG9tIHBhZGRpbmctbGVmdCBwYWRkaW5nLXJpZ2h0IHBhZGRpbmctdG9wIHBhZGRpbmctYm90dG9tIG1hcmdpbi10b3AgbWFyZ2luLWJvdHRvbSBtYXJnaW4tbGVmdCBtYXJnaW4tcmlnaHQgcGFkZGluZy1ib3gtd2lkdGggcGFkZGluZy1ib3gtaGVpZ2h0IGJvcmRlci1ib3gtd2lkdGggYm9yZGVyLWJveC1oZWlnaHQgbWFyZ2luLWJveC13aWR0aCBtYXJnaW4tYm94LWhlaWdodCcpLAoKICAgIENPTVBPU0lURV9QUk9QRVJUSUVTOiAkdygncGFkZGluZy1ib3gtd2lkdGggcGFkZGluZy1ib3gtaGVpZ2h0IG1hcmdpbi1ib3gtd2lkdGggbWFyZ2luLWJveC1oZWlnaHQgYm9yZGVyLWJveC13aWR0aCBib3JkZXItYm94LWhlaWdodCcpLAoKICAgIENPTVBVVEFUSU9OUzogewogICAgICAnaGVpZ2h0JzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIGlmICghdGhpcy5fcHJlQ29tcHV0aW5nKSB0aGlzLl9iZWdpbigpOwoKICAgICAgICB2YXIgYkhlaWdodCA9IHRoaXMuZ2V0KCdib3JkZXItYm94LWhlaWdodCcpOwogICAgICAgIGlmIChiSGVpZ2h0IDw9IDApIHsKICAgICAgICAgIGlmICghdGhpcy5fcHJlQ29tcHV0aW5nKSB0aGlzLl9lbmQoKTsKICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KCiAgICAgICAgdmFyIGJUb3AgPSB0aGlzLmdldCgnYm9yZGVyLXRvcCcpLAogICAgICAgICBiQm90dG9tID0gdGhpcy5nZXQoJ2JvcmRlci1ib3R0b20nKTsKCiAgICAgICAgdmFyIHBUb3AgPSB0aGlzLmdldCgncGFkZGluZy10b3AnKSwKICAgICAgICAgcEJvdHRvbSA9IHRoaXMuZ2V0KCdwYWRkaW5nLWJvdHRvbScpOwoKICAgICAgICBpZiAoIXRoaXMuX3ByZUNvbXB1dGluZykgdGhpcy5fZW5kKCk7CgogICAgICAgIHJldHVybiBiSGVpZ2h0IC0gYlRvcCAtIGJCb3R0b20gLSBwVG9wIC0gcEJvdHRvbTsKICAgICAgfSwKCiAgICAgICd3aWR0aCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICBpZiAoIXRoaXMuX3ByZUNvbXB1dGluZykgdGhpcy5fYmVnaW4oKTsKCiAgICAgICAgdmFyIGJXaWR0aCA9IHRoaXMuZ2V0KCdib3JkZXItYm94LXdpZHRoJyk7CiAgICAgICAgaWYgKGJXaWR0aCA8PSAwKSB7CiAgICAgICAgICBpZiAoIXRoaXMuX3ByZUNvbXB1dGluZykgdGhpcy5fZW5kKCk7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgICAgIHZhciBiTGVmdCA9IHRoaXMuZ2V0KCdib3JkZXItbGVmdCcpLAogICAgICAgICBiUmlnaHQgPSB0aGlzLmdldCgnYm9yZGVyLXJpZ2h0Jyk7CgogICAgICAgIHZhciBwTGVmdCA9IHRoaXMuZ2V0KCdwYWRkaW5nLWxlZnQnKSwKICAgICAgICAgcFJpZ2h0ID0gdGhpcy5nZXQoJ3BhZGRpbmctcmlnaHQnKTsKCiAgICAgICAgaWYgKCF0aGlzLl9wcmVDb21wdXRpbmcpIHRoaXMuX2VuZCgpOwogICAgICAgIHJldHVybiBiV2lkdGggLSBiTGVmdCAtIGJSaWdodCAtIHBMZWZ0IC0gcFJpZ2h0OwogICAgICB9LAoKICAgICAgJ3BhZGRpbmctYm94LWhlaWdodCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXQoJ2hlaWdodCcpLAogICAgICAgICBwVG9wID0gdGhpcy5nZXQoJ3BhZGRpbmctdG9wJyksCiAgICAgICAgIHBCb3R0b20gPSB0aGlzLmdldCgncGFkZGluZy1ib3R0b20nKTsKCiAgICAgICAgcmV0dXJuIGhlaWdodCArIHBUb3AgKyBwQm90dG9tOwogICAgICB9LAoKICAgICAgJ3BhZGRpbmctYm94LXdpZHRoJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0KCd3aWR0aCcpLAogICAgICAgICBwTGVmdCA9IHRoaXMuZ2V0KCdwYWRkaW5nLWxlZnQnKSwKICAgICAgICAgcFJpZ2h0ID0gdGhpcy5nZXQoJ3BhZGRpbmctcmlnaHQnKTsKCiAgICAgICAgcmV0dXJuIHdpZHRoICsgcExlZnQgKyBwUmlnaHQ7CiAgICAgIH0sCgogICAgICAnYm9yZGVyLWJveC1oZWlnaHQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgaWYgKCF0aGlzLl9wcmVDb21wdXRpbmcpIHRoaXMuX2JlZ2luKCk7CiAgICAgICAgdmFyIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICAgIGlmICghdGhpcy5fcHJlQ29tcHV0aW5nKSB0aGlzLl9lbmQoKTsKICAgICAgICByZXR1cm4gaGVpZ2h0OwogICAgICB9LAoKICAgICAgJ2JvcmRlci1ib3gtd2lkdGgnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgaWYgKCF0aGlzLl9wcmVDb21wdXRpbmcpIHRoaXMuX2JlZ2luKCk7CiAgICAgICAgdmFyIHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDsKICAgICAgICBpZiAoIXRoaXMuX3ByZUNvbXB1dGluZykgdGhpcy5fZW5kKCk7CiAgICAgICAgcmV0dXJuIHdpZHRoOwogICAgICB9LAoKICAgICAgJ21hcmdpbi1ib3gtaGVpZ2h0JzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHZhciBiSGVpZ2h0ID0gdGhpcy5nZXQoJ2JvcmRlci1ib3gtaGVpZ2h0JyksCiAgICAgICAgIG1Ub3AgPSB0aGlzLmdldCgnbWFyZ2luLXRvcCcpLAogICAgICAgICBtQm90dG9tID0gdGhpcy5nZXQoJ21hcmdpbi1ib3R0b20nKTsKCiAgICAgICAgaWYgKGJIZWlnaHQgPD0gMCkgcmV0dXJuIDA7CgogICAgICAgIHJldHVybiBiSGVpZ2h0ICsgbVRvcCArIG1Cb3R0b207CiAgICAgIH0sCgogICAgICAnbWFyZ2luLWJveC13aWR0aCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICB2YXIgYldpZHRoID0gdGhpcy5nZXQoJ2JvcmRlci1ib3gtd2lkdGgnKSwKICAgICAgICAgbUxlZnQgPSB0aGlzLmdldCgnbWFyZ2luLWxlZnQnKSwKICAgICAgICAgbVJpZ2h0ID0gdGhpcy5nZXQoJ21hcmdpbi1yaWdodCcpOwoKICAgICAgICBpZiAoYldpZHRoIDw9IDApIHJldHVybiAwOwoKICAgICAgICByZXR1cm4gYldpZHRoICsgbUxlZnQgKyBtUmlnaHQ7CiAgICAgIH0sCgogICAgICAndG9wJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHZhciBvZmZzZXQgPSBlbGVtZW50LnBvc2l0aW9uZWRPZmZzZXQoKTsKICAgICAgICByZXR1cm4gb2Zmc2V0LnRvcDsKICAgICAgfSwKCiAgICAgICdib3R0b20nOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgdmFyIG9mZnNldCA9IGVsZW1lbnQucG9zaXRpb25lZE9mZnNldCgpLAogICAgICAgICBwYXJlbnQgPSBlbGVtZW50LmdldE9mZnNldFBhcmVudCgpLAogICAgICAgICBwSGVpZ2h0ID0gcGFyZW50Lm1lYXN1cmUoJ2hlaWdodCcpOwoKICAgICAgICB2YXIgbUhlaWdodCA9IHRoaXMuZ2V0KCdib3JkZXItYm94LWhlaWdodCcpOwoKICAgICAgICByZXR1cm4gcEhlaWdodCAtIG1IZWlnaHQgLSBvZmZzZXQudG9wOwogICAgICB9LAoKICAgICAgJ2xlZnQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgdmFyIG9mZnNldCA9IGVsZW1lbnQucG9zaXRpb25lZE9mZnNldCgpOwogICAgICAgIHJldHVybiBvZmZzZXQubGVmdDsKICAgICAgfSwKCiAgICAgICdyaWdodCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICB2YXIgb2Zmc2V0ID0gZWxlbWVudC5wb3NpdGlvbmVkT2Zmc2V0KCksCiAgICAgICAgIHBhcmVudCA9IGVsZW1lbnQuZ2V0T2Zmc2V0UGFyZW50KCksCiAgICAgICAgIHBXaWR0aCA9IHBhcmVudC5tZWFzdXJlKCd3aWR0aCcpOwoKICAgICAgICB2YXIgbVdpZHRoID0gdGhpcy5nZXQoJ2JvcmRlci1ib3gtd2lkdGgnKTsKCiAgICAgICAgcmV0dXJuIHBXaWR0aCAtIG1XaWR0aCAtIG9mZnNldC5sZWZ0OwogICAgICB9LAoKICAgICAgJ3BhZGRpbmctdG9wJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdwYWRkaW5nVG9wJyk7CiAgICAgIH0sCgogICAgICAncGFkZGluZy1ib3R0b20nOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ3BhZGRpbmdCb3R0b20nKTsKICAgICAgfSwKCiAgICAgICdwYWRkaW5nLWxlZnQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ3BhZGRpbmdMZWZ0Jyk7CiAgICAgIH0sCgogICAgICAncGFkZGluZy1yaWdodCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAncGFkZGluZ1JpZ2h0Jyk7CiAgICAgIH0sCgogICAgICAnYm9yZGVyLXRvcCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAnYm9yZGVyVG9wV2lkdGgnKTsKICAgICAgfSwKCiAgICAgICdib3JkZXItYm90dG9tJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdib3JkZXJCb3R0b21XaWR0aCcpOwogICAgICB9LAoKICAgICAgJ2JvcmRlci1sZWZ0JzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdib3JkZXJMZWZ0V2lkdGgnKTsKICAgICAgfSwKCiAgICAgICdib3JkZXItcmlnaHQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgcmV0dXJuIGdldFBpeGVsVmFsdWUoZWxlbWVudCwgJ2JvcmRlclJpZ2h0V2lkdGgnKTsKICAgICAgfSwKCiAgICAgICdtYXJnaW4tdG9wJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdtYXJnaW5Ub3AnKTsKICAgICAgfSwKCiAgICAgICdtYXJnaW4tYm90dG9tJzogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIHJldHVybiBnZXRQaXhlbFZhbHVlKGVsZW1lbnQsICdtYXJnaW5Cb3R0b20nKTsKICAgICAgfSwKCiAgICAgICdtYXJnaW4tbGVmdCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAnbWFyZ2luTGVmdCcpOwogICAgICB9LAoKICAgICAgJ21hcmdpbi1yaWdodCc6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0UGl4ZWxWYWx1ZShlbGVtZW50LCAnbWFyZ2luUmlnaHQnKTsKICAgICAgfQogICAgfQogIH0pOwoKICBpZiAoJ2dldEJvdW5kaW5nQ2xpZW50UmVjdCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7CiAgICBPYmplY3QuZXh0ZW5kKEVsZW1lbnQuTGF5b3V0LkNPTVBVVEFUSU9OUywgewogICAgICAncmlnaHQnOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgdmFyIHBhcmVudCA9IGhhc0xheW91dChlbGVtZW50LmdldE9mZnNldFBhcmVudCgpKTsKICAgICAgICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgIHBSZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgICAgICByZXR1cm4gKHBSZWN0LnJpZ2h0IC0gcmVjdC5yaWdodCkucm91bmQoKTsKICAgICAgfSwKCiAgICAgICdib3R0b20nOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgdmFyIHBhcmVudCA9IGhhc0xheW91dChlbGVtZW50LmdldE9mZnNldFBhcmVudCgpKTsKICAgICAgICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgIHBSZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgICAgICByZXR1cm4gKHBSZWN0LmJvdHRvbSAtIHJlY3QuYm90dG9tKS5yb3VuZCgpOwogICAgICB9CiAgICB9KTsKICB9CgogIEVsZW1lbnQuT2Zmc2V0ID0gQ2xhc3MuY3JlYXRlKHsKICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGxlZnQsIHRvcCkgewogICAgICB0aGlzLmxlZnQgPSBsZWZ0LnJvdW5kKCk7CiAgICAgIHRoaXMudG9wICA9IHRvcC5yb3VuZCgpOwoKICAgICAgdGhpc1swXSA9IHRoaXMubGVmdDsKICAgICAgdGhpc1sxXSA9IHRoaXMudG9wOwogICAgfSwKCiAgICByZWxhdGl2ZVRvOiBmdW5jdGlvbihvZmZzZXQpIHsKICAgICAgcmV0dXJuIG5ldyBFbGVtZW50Lk9mZnNldCgKICAgICAgICB0aGlzLmxlZnQgLSBvZmZzZXQubGVmdCwKICAgICAgICB0aGlzLnRvcCAgLSBvZmZzZXQudG9wCiAgICAgICk7CiAgICB9LAoKICAgIGluc3BlY3Q6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gIiM8RWxlbWVudC5PZmZzZXQgbGVmdDogI3tsZWZ0fSB0b3A6ICN7dG9wfT4iLmludGVycG9sYXRlKHRoaXMpOwogICAgfSwKCiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiAiWyN7bGVmdH0sICN7dG9wfV0iLmludGVycG9sYXRlKHRoaXMpOwogICAgfSwKCiAgICB0b0FycmF5OiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIFt0aGlzLmxlZnQsIHRoaXMudG9wXTsKICAgIH0KICB9KTsKCiAgZnVuY3Rpb24gZ2V0TGF5b3V0KGVsZW1lbnQsIHByZUNvbXB1dGUpIHsKICAgIHJldHVybiBuZXcgRWxlbWVudC5MYXlvdXQoZWxlbWVudCwgcHJlQ29tcHV0ZSk7CiAgfQoKICBmdW5jdGlvbiBtZWFzdXJlKGVsZW1lbnQsIHByb3BlcnR5KSB7CiAgICByZXR1cm4gJChlbGVtZW50KS5nZXRMYXlvdXQoKS5nZXQocHJvcGVydHkpOwogIH0KCiAgZnVuY3Rpb24gZ2V0SGVpZ2h0KGVsZW1lbnQpIHsKICAgIHJldHVybiBFbGVtZW50LmdldERpbWVuc2lvbnMoZWxlbWVudCkuaGVpZ2h0OwogIH0KCiAgZnVuY3Rpb24gZ2V0V2lkdGgoZWxlbWVudCkgewogICAgcmV0dXJuIEVsZW1lbnQuZ2V0RGltZW5zaW9ucyhlbGVtZW50KS53aWR0aDsKICB9CgogIGZ1bmN0aW9uIGdldERpbWVuc2lvbnMoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgZGlzcGxheSA9IEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ2Rpc3BsYXknKTsKCiAgICBpZiAoZGlzcGxheSAmJiBkaXNwbGF5ICE9PSAnbm9uZScpIHsKICAgICAgcmV0dXJuIHsgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGgsIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQgfTsKICAgIH0KCiAgICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlOwogICAgdmFyIG9yaWdpbmFsU3R5bGVzID0gewogICAgICB2aXNpYmlsaXR5OiBzdHlsZS52aXNpYmlsaXR5LAogICAgICBwb3NpdGlvbjogICBzdHlsZS5wb3NpdGlvbiwKICAgICAgZGlzcGxheTogICAgc3R5bGUuZGlzcGxheQogICAgfTsKCiAgICB2YXIgbmV3U3R5bGVzID0gewogICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJywKICAgICAgZGlzcGxheTogICAgJ2Jsb2NrJwogICAgfTsKCiAgICBpZiAob3JpZ2luYWxTdHlsZXMucG9zaXRpb24gIT09ICdmaXhlZCcpCiAgICAgIG5ld1N0eWxlcy5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7CgogICAgRWxlbWVudC5zZXRTdHlsZShlbGVtZW50LCBuZXdTdHlsZXMpOwoKICAgIHZhciBkaW1lbnNpb25zID0gewogICAgICB3aWR0aDogIGVsZW1lbnQub2Zmc2V0V2lkdGgsCiAgICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQKICAgIH07CgogICAgRWxlbWVudC5zZXRTdHlsZShlbGVtZW50LCBvcmlnaW5hbFN0eWxlcyk7CgogICAgcmV0dXJuIGRpbWVuc2lvbnM7CiAgfQoKICBmdW5jdGlvbiBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CgogICAgaWYgKGlzRG9jdW1lbnQoZWxlbWVudCkgfHwgaXNEZXRhY2hlZChlbGVtZW50KSB8fCBpc0JvZHkoZWxlbWVudCkgfHwgaXNIdG1sKGVsZW1lbnQpKQogICAgICByZXR1cm4gJChkb2N1bWVudC5ib2R5KTsKCiAgICB2YXIgaXNJbmxpbmUgPSAoRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAnZGlzcGxheScpID09PSAnaW5saW5lJyk7CiAgICBpZiAoIWlzSW5saW5lICYmIGVsZW1lbnQub2Zmc2V0UGFyZW50KSByZXR1cm4gJChlbGVtZW50Lm9mZnNldFBhcmVudCk7CgogICAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKSAmJiBlbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7CiAgICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpICE9PSAnc3RhdGljJykgewogICAgICAgIHJldHVybiBpc0h0bWwoZWxlbWVudCkgPyAkKGRvY3VtZW50LmJvZHkpIDogJChlbGVtZW50KTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiAkKGRvY3VtZW50LmJvZHkpOwogIH0KCgogIGZ1bmN0aW9uIGN1bXVsYXRpdmVPZmZzZXQoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0gMDsKICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUpIHsKICAgICAgZG8gewogICAgICAgIHZhbHVlVCArPSBlbGVtZW50Lm9mZnNldFRvcCAgfHwgMDsKICAgICAgICB2YWx1ZUwgKz0gZWxlbWVudC5vZmZzZXRMZWZ0IHx8IDA7CiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50OwogICAgICB9IHdoaWxlIChlbGVtZW50KTsKICAgIH0KICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0KCiAgZnVuY3Rpb24gcG9zaXRpb25lZE9mZnNldChlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKCiAgICB2YXIgbGF5b3V0ID0gZWxlbWVudC5nZXRMYXlvdXQoKTsKCiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0gMDsKICAgIGRvIHsKICAgICAgdmFsdWVUICs9IGVsZW1lbnQub2Zmc2V0VG9wICB8fCAwOwogICAgICB2YWx1ZUwgKz0gZWxlbWVudC5vZmZzZXRMZWZ0IHx8IDA7CiAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDsKICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICBpZiAoaXNCb2R5KGVsZW1lbnQpKSBicmVhazsKICAgICAgICB2YXIgcCA9IEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJyk7CiAgICAgICAgaWYgKHAgIT09ICdzdGF0aWMnKSBicmVhazsKICAgICAgfQogICAgfSB3aGlsZSAoZWxlbWVudCk7CgogICAgdmFsdWVMIC09IGxheW91dC5nZXQoJ21hcmdpbi10b3AnKTsKICAgIHZhbHVlVCAtPSBsYXlvdXQuZ2V0KCdtYXJnaW4tbGVmdCcpOwoKICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0KCiAgZnVuY3Rpb24gY3VtdWxhdGl2ZVNjcm9sbE9mZnNldChlbGVtZW50KSB7CiAgICB2YXIgdmFsdWVUID0gMCwgdmFsdWVMID0gMDsKICAgIGRvIHsKICAgICAgaWYgKGVsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkpIHsKICAgICAgICB2YXIgYm9keVNjcm9sbE5vZGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmJvZHk7CiAgICAgICAgdmFsdWVUICs9ICFPYmplY3QuaXNVbmRlZmluZWQod2luZG93LnBhZ2VZT2Zmc2V0KSA/IHdpbmRvdy5wYWdlWU9mZnNldCA6IGJvZHlTY3JvbGxOb2RlLnNjcm9sbFRvcCB8fCAwOwogICAgICAgIHZhbHVlTCArPSAhT2JqZWN0LmlzVW5kZWZpbmVkKHdpbmRvdy5wYWdlWE9mZnNldCkgPyB3aW5kb3cucGFnZVhPZmZzZXQgOiBib2R5U2Nyb2xsTm9kZS5zY3JvbGxMZWZ0IHx8IDA7CiAgICAgICAgYnJlYWs7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFsdWVUICs9IGVsZW1lbnQuc2Nyb2xsVG9wICB8fCAwOwogICAgICAgIHZhbHVlTCArPSBlbGVtZW50LnNjcm9sbExlZnQgfHwgMDsKICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlOwogICAgICB9CiAgICB9IHdoaWxlIChlbGVtZW50KTsKICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQodmFsdWVMLCB2YWx1ZVQpOwogIH0KCiAgZnVuY3Rpb24gdmlld3BvcnRPZmZzZXQoZm9yRWxlbWVudCkgewogICAgdmFyIHZhbHVlVCA9IDAsIHZhbHVlTCA9IDAsIGRvY0JvZHkgPSBkb2N1bWVudC5ib2R5OwoKICAgIGZvckVsZW1lbnQgPSAkKGZvckVsZW1lbnQpOwogICAgdmFyIGVsZW1lbnQgPSBmb3JFbGVtZW50OwogICAgZG8gewogICAgICB2YWx1ZVQgKz0gZWxlbWVudC5vZmZzZXRUb3AgIHx8IDA7CiAgICAgIHZhbHVlTCArPSBlbGVtZW50Lm9mZnNldExlZnQgfHwgMDsKICAgICAgaWYgKGVsZW1lbnQub2Zmc2V0UGFyZW50ID09IGRvY0JvZHkgJiYKICAgICAgICBFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09ICdhYnNvbHV0ZScpIGJyZWFrOwogICAgfSB3aGlsZSAoZWxlbWVudCA9IGVsZW1lbnQub2Zmc2V0UGFyZW50KTsKCiAgICBlbGVtZW50ID0gZm9yRWxlbWVudDsKICAgIGRvIHsKICAgICAgaWYgKGVsZW1lbnQgIT0gZG9jQm9keSkgewogICAgICAgIHZhbHVlVCAtPSBlbGVtZW50LnNjcm9sbFRvcCAgfHwgMDsKICAgICAgICB2YWx1ZUwgLT0gZWxlbWVudC5zY3JvbGxMZWZ0IHx8IDA7CiAgICAgIH0KICAgIH0gd2hpbGUgKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUpOwogICAgcmV0dXJuIG5ldyBFbGVtZW50Lk9mZnNldCh2YWx1ZUwsIHZhbHVlVCk7CiAgfQoKICBmdW5jdGlvbiBhYnNvbHV0aXplKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09PSAnYWJzb2x1dGUnKSB7CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfQoKICAgIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudCk7CiAgICB2YXIgZU9mZnNldCA9IGVsZW1lbnQudmlld3BvcnRPZmZzZXQoKSwKICAgICBwT2Zmc2V0ID0gb2Zmc2V0UGFyZW50LnZpZXdwb3J0T2Zmc2V0KCk7CgogICAgdmFyIG9mZnNldCA9IGVPZmZzZXQucmVsYXRpdmVUbyhwT2Zmc2V0KTsKICAgIHZhciBsYXlvdXQgPSBlbGVtZW50LmdldExheW91dCgpOwoKICAgIGVsZW1lbnQuc3RvcmUoJ3Byb3RvdHlwZV9hYnNvbHV0aXplX29yaWdpbmFsX3N0eWxlcycsIHsKICAgICAgcG9zaXRpb246IGVsZW1lbnQuZ2V0U3R5bGUoJ3Bvc2l0aW9uJyksCiAgICAgIGxlZnQ6ICAgICBlbGVtZW50LmdldFN0eWxlKCdsZWZ0JyksCiAgICAgIHRvcDogICAgICBlbGVtZW50LmdldFN0eWxlKCd0b3AnKSwKICAgICAgd2lkdGg6ICAgIGVsZW1lbnQuZ2V0U3R5bGUoJ3dpZHRoJyksCiAgICAgIGhlaWdodDogICBlbGVtZW50LmdldFN0eWxlKCdoZWlnaHQnKQogICAgfSk7CgogICAgZWxlbWVudC5zZXRTdHlsZSh7CiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLAogICAgICB0b3A6ICAgIG9mZnNldC50b3AgKyAncHgnLAogICAgICBsZWZ0OiAgIG9mZnNldC5sZWZ0ICsgJ3B4JywKICAgICAgd2lkdGg6ICBsYXlvdXQuZ2V0KCd3aWR0aCcpICsgJ3B4JywKICAgICAgaGVpZ2h0OiBsYXlvdXQuZ2V0KCdoZWlnaHQnKSArICdweCcKICAgIH0pOwoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gcmVsYXRpdml6ZShlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09PSAncmVsYXRpdmUnKSB7CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfQoKICAgIHZhciBvcmlnaW5hbFN0eWxlcyA9CiAgICAgZWxlbWVudC5yZXRyaWV2ZSgncHJvdG90eXBlX2Fic29sdXRpemVfb3JpZ2luYWxfc3R5bGVzJyk7CgogICAgaWYgKG9yaWdpbmFsU3R5bGVzKSBlbGVtZW50LnNldFN0eWxlKG9yaWdpbmFsU3R5bGVzKTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCgogIGZ1bmN0aW9uIHNjcm9sbFRvKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIHBvcyA9IEVsZW1lbnQuY3VtdWxhdGl2ZU9mZnNldChlbGVtZW50KTsKICAgIHdpbmRvdy5zY3JvbGxUbyhwb3MubGVmdCwgcG9zLnRvcCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9CgoKICBmdW5jdGlvbiBtYWtlUG9zaXRpb25lZChlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBwb3NpdGlvbiA9IEVsZW1lbnQuZ2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJyksIHN0eWxlcyA9IHt9OwogICAgaWYgKHBvc2l0aW9uID09PSAnc3RhdGljJyB8fCAhcG9zaXRpb24pIHsKICAgICAgc3R5bGVzLnBvc2l0aW9uID0gJ3JlbGF0aXZlJzsKICAgICAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLk9wZXJhKSB7CiAgICAgICAgc3R5bGVzLnRvcCAgPSAwOwogICAgICAgIHN0eWxlcy5sZWZ0ID0gMDsKICAgICAgfQogICAgICBFbGVtZW50LnNldFN0eWxlKGVsZW1lbnQsIHN0eWxlcyk7CiAgICAgIEVsZW1lbnQuc3RvcmUoZWxlbWVudCwgJ3Byb3RvdHlwZV9tYWRlX3Bvc2l0aW9uZWQnLCB0cnVlKTsKICAgIH0KICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gdW5kb1Bvc2l0aW9uZWQoZWxlbWVudCkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgc3RvcmFnZSA9IEVsZW1lbnQuZ2V0U3RvcmFnZShlbGVtZW50KSwKICAgICBtYWRlUG9zaXRpb25lZCA9IHN0b3JhZ2UuZ2V0KCdwcm90b3R5cGVfbWFkZV9wb3NpdGlvbmVkJyk7CgogICAgaWYgKG1hZGVQb3NpdGlvbmVkKSB7CiAgICAgIHN0b3JhZ2UudW5zZXQoJ3Byb3RvdHlwZV9tYWRlX3Bvc2l0aW9uZWQnKTsKICAgICAgRWxlbWVudC5zZXRTdHlsZShlbGVtZW50LCB7CiAgICAgICAgcG9zaXRpb246ICcnLAogICAgICAgIHRvcDogICAgICAnJywKICAgICAgICBib3R0b206ICAgJycsCiAgICAgICAgbGVmdDogICAgICcnLAogICAgICAgIHJpZ2h0OiAgICAnJwogICAgICB9KTsKICAgIH0KICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gbWFrZUNsaXBwaW5nKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgIHZhciBzdG9yYWdlID0gRWxlbWVudC5nZXRTdG9yYWdlKGVsZW1lbnQpLAogICAgIG1hZGVDbGlwcGluZyA9IHN0b3JhZ2UuZ2V0KCdwcm90b3R5cGVfbWFkZV9jbGlwcGluZycpOwoKICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQobWFkZUNsaXBwaW5nKSkgewogICAgICB2YXIgb3ZlcmZsb3cgPSBFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdvdmVyZmxvdycpOwogICAgICBzdG9yYWdlLnNldCgncHJvdG90eXBlX21hZGVfY2xpcHBpbmcnLCBvdmVyZmxvdyk7CiAgICAgIGlmIChvdmVyZmxvdyAhPT0gJ2hpZGRlbicpCiAgICAgICAgZWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nOwogICAgfQoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gdW5kb0NsaXBwaW5nKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIHN0b3JhZ2UgPSBFbGVtZW50LmdldFN0b3JhZ2UoZWxlbWVudCksCiAgICAgb3ZlcmZsb3cgPSBzdG9yYWdlLmdldCgncHJvdG90eXBlX21hZGVfY2xpcHBpbmcnKTsKCiAgICBpZiAoIU9iamVjdC5pc1VuZGVmaW5lZChvdmVyZmxvdykpIHsKICAgICAgc3RvcmFnZS51bnNldCgncHJvdG90eXBlX21hZGVfY2xpcHBpbmcnKTsKICAgICAgZWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IG92ZXJmbG93IHx8ICcnOwogICAgfQoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gY2xvbmVQb3NpdGlvbihlbGVtZW50LCBzb3VyY2UsIG9wdGlvbnMpIHsKICAgIG9wdGlvbnMgPSBPYmplY3QuZXh0ZW5kKHsKICAgICAgc2V0TGVmdDogICAgdHJ1ZSwKICAgICAgc2V0VG9wOiAgICAgdHJ1ZSwKICAgICAgc2V0V2lkdGg6ICAgdHJ1ZSwKICAgICAgc2V0SGVpZ2h0OiAgdHJ1ZSwKICAgICAgb2Zmc2V0VG9wOiAgMCwKICAgICAgb2Zmc2V0TGVmdDogMAogICAgfSwgb3B0aW9ucyB8fCB7fSk7CgogICAgc291cmNlICA9ICQoc291cmNlKTsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIHAsIGRlbHRhLCBsYXlvdXQsIHN0eWxlcyA9IHt9OwoKICAgIGlmIChvcHRpb25zLnNldExlZnQgfHwgb3B0aW9ucy5zZXRUb3ApIHsKICAgICAgcCA9IEVsZW1lbnQudmlld3BvcnRPZmZzZXQoc291cmNlKTsKICAgICAgZGVsdGEgPSBbMCwgMF07CiAgICAgIGlmIChFbGVtZW50LmdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09PSAnYWJzb2x1dGUnKSB7CiAgICAgICAgdmFyIHBhcmVudCA9IEVsZW1lbnQuZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpOwogICAgICAgIGlmIChwYXJlbnQgIT09IGRvY3VtZW50LmJvZHkpIGRlbHRhID0gRWxlbWVudC52aWV3cG9ydE9mZnNldChwYXJlbnQpOwogICAgICB9CiAgICB9CgogICAgaWYgKG9wdGlvbnMuc2V0V2lkdGggfHwgb3B0aW9ucy5zZXRIZWlnaHQpIHsKICAgICAgbGF5b3V0ID0gRWxlbWVudC5nZXRMYXlvdXQoc291cmNlKTsKICAgIH0KCiAgICBpZiAob3B0aW9ucy5zZXRMZWZ0KQogICAgICBzdHlsZXMubGVmdCA9IChwWzBdIC0gZGVsdGFbMF0gKyBvcHRpb25zLm9mZnNldExlZnQpICsgJ3B4JzsKICAgIGlmIChvcHRpb25zLnNldFRvcCkKICAgICAgc3R5bGVzLnRvcCAgPSAocFsxXSAtIGRlbHRhWzFdICsgb3B0aW9ucy5vZmZzZXRUb3ApICArICdweCc7CgogICAgaWYgKG9wdGlvbnMuc2V0V2lkdGgpCiAgICAgIHN0eWxlcy53aWR0aCAgPSBsYXlvdXQuZ2V0KCdib3JkZXItYm94LXdpZHRoJykgICsgJ3B4JzsKICAgIGlmIChvcHRpb25zLnNldEhlaWdodCkKICAgICAgc3R5bGVzLmhlaWdodCA9IGxheW91dC5nZXQoJ2JvcmRlci1ib3gtaGVpZ2h0JykgKyAncHgnOwoKICAgIHJldHVybiBFbGVtZW50LnNldFN0eWxlKGVsZW1lbnQsIHN0eWxlcyk7CiAgfQoKCiAgaWYgKFByb3RvdHlwZS5Ccm93c2VyLklFKSB7CiAgICBnZXRPZmZzZXRQYXJlbnQgPSBnZXRPZmZzZXRQYXJlbnQud3JhcCgKICAgICAgZnVuY3Rpb24ocHJvY2VlZCwgZWxlbWVudCkgewogICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwoKICAgICAgICBpZiAoaXNEb2N1bWVudChlbGVtZW50KSB8fCBpc0RldGFjaGVkKGVsZW1lbnQpIHx8IGlzQm9keShlbGVtZW50KSB8fCBpc0h0bWwoZWxlbWVudCkpCiAgICAgICAgICByZXR1cm4gJChkb2N1bWVudC5ib2R5KTsKCiAgICAgICAgdmFyIHBvc2l0aW9uID0gZWxlbWVudC5nZXRTdHlsZSgncG9zaXRpb24nKTsKICAgICAgICBpZiAocG9zaXRpb24gIT09ICdzdGF0aWMnKSByZXR1cm4gcHJvY2VlZChlbGVtZW50KTsKCiAgICAgICAgZWxlbWVudC5zZXRTdHlsZSh7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0pOwogICAgICAgIHZhciB2YWx1ZSA9IHByb2NlZWQoZWxlbWVudCk7CiAgICAgICAgZWxlbWVudC5zZXRTdHlsZSh7IHBvc2l0aW9uOiBwb3NpdGlvbiB9KTsKICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgIH0KICAgICk7CgogICAgcG9zaXRpb25lZE9mZnNldCA9IHBvc2l0aW9uZWRPZmZzZXQud3JhcChmdW5jdGlvbihwcm9jZWVkLCBlbGVtZW50KSB7CiAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgICBpZiAoIWVsZW1lbnQucGFyZW50Tm9kZSkgcmV0dXJuIG5ldyBFbGVtZW50Lk9mZnNldCgwLCAwKTsKICAgICAgdmFyIHBvc2l0aW9uID0gZWxlbWVudC5nZXRTdHlsZSgncG9zaXRpb24nKTsKICAgICAgaWYgKHBvc2l0aW9uICE9PSAnc3RhdGljJykgcmV0dXJuIHByb2NlZWQoZWxlbWVudCk7CgogICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5nZXRPZmZzZXRQYXJlbnQoKTsKICAgICAgaWYgKG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQuZ2V0U3R5bGUoJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCcpCiAgICAgICAgaGFzTGF5b3V0KG9mZnNldFBhcmVudCk7CgogICAgICBlbGVtZW50LnNldFN0eWxlKHsgcG9zaXRpb246ICdyZWxhdGl2ZScgfSk7CiAgICAgIHZhciB2YWx1ZSA9IHByb2NlZWQoZWxlbWVudCk7CiAgICAgIGVsZW1lbnQuc2V0U3R5bGUoeyBwb3NpdGlvbjogcG9zaXRpb24gfSk7CiAgICAgIHJldHVybiB2YWx1ZTsKICAgIH0pOwogIH0gZWxzZSBpZiAoUHJvdG90eXBlLkJyb3dzZXIuV2Via2l0KSB7CiAgICBjdW11bGF0aXZlT2Zmc2V0ID0gZnVuY3Rpb24oZWxlbWVudCkgewogICAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgICAgdmFyIHZhbHVlVCA9IDAsIHZhbHVlTCA9IDA7CiAgICAgIGRvIHsKICAgICAgICB2YWx1ZVQgKz0gZWxlbWVudC5vZmZzZXRUb3AgIHx8IDA7CiAgICAgICAgdmFsdWVMICs9IGVsZW1lbnQub2Zmc2V0TGVmdCB8fCAwOwogICAgICAgIGlmIChlbGVtZW50Lm9mZnNldFBhcmVudCA9PSBkb2N1bWVudC5ib2R5KSB7CiAgICAgICAgICBpZiAoRWxlbWVudC5nZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSA9PSAnYWJzb2x1dGUnKSBicmVhazsKICAgICAgICB9CgogICAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDsKICAgICAgfSB3aGlsZSAoZWxlbWVudCk7CgogICAgICByZXR1cm4gbmV3IEVsZW1lbnQuT2Zmc2V0KHZhbHVlTCwgdmFsdWVUKTsKICAgIH07CiAgfQoKCiAgRWxlbWVudC5hZGRNZXRob2RzKHsKICAgIGdldExheW91dDogICAgICAgICAgICAgIGdldExheW91dCwKICAgIG1lYXN1cmU6ICAgICAgICAgICAgICAgIG1lYXN1cmUsCiAgICBnZXRXaWR0aDogICAgICAgICAgICAgICBnZXRXaWR0aCwKICAgIGdldEhlaWdodDogICAgICAgICAgICAgIGdldEhlaWdodCwKICAgIGdldERpbWVuc2lvbnM6ICAgICAgICAgIGdldERpbWVuc2lvbnMsCiAgICBnZXRPZmZzZXRQYXJlbnQ6ICAgICAgICBnZXRPZmZzZXRQYXJlbnQsCiAgICBjdW11bGF0aXZlT2Zmc2V0OiAgICAgICBjdW11bGF0aXZlT2Zmc2V0LAogICAgcG9zaXRpb25lZE9mZnNldDogICAgICAgcG9zaXRpb25lZE9mZnNldCwKICAgIGN1bXVsYXRpdmVTY3JvbGxPZmZzZXQ6IGN1bXVsYXRpdmVTY3JvbGxPZmZzZXQsCiAgICB2aWV3cG9ydE9mZnNldDogICAgICAgICB2aWV3cG9ydE9mZnNldCwKICAgIGFic29sdXRpemU6ICAgICAgICAgICAgIGFic29sdXRpemUsCiAgICByZWxhdGl2aXplOiAgICAgICAgICAgICByZWxhdGl2aXplLAogICAgc2Nyb2xsVG86ICAgICAgICAgICAgICAgc2Nyb2xsVG8sCiAgICBtYWtlUG9zaXRpb25lZDogICAgICAgICBtYWtlUG9zaXRpb25lZCwKICAgIHVuZG9Qb3NpdGlvbmVkOiAgICAgICAgIHVuZG9Qb3NpdGlvbmVkLAogICAgbWFrZUNsaXBwaW5nOiAgICAgICAgICAgbWFrZUNsaXBwaW5nLAogICAgdW5kb0NsaXBwaW5nOiAgICAgICAgICAgdW5kb0NsaXBwaW5nLAogICAgY2xvbmVQb3NpdGlvbjogICAgICAgICAgY2xvbmVQb3NpdGlvbgogIH0pOwoKICBmdW5jdGlvbiBpc0JvZHkoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gJ0JPRFknOwogIH0KCiAgZnVuY3Rpb24gaXNIdG1sKGVsZW1lbnQpIHsKICAgIHJldHVybiBlbGVtZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkgPT09ICdIVE1MJzsKICB9CgogIGZ1bmN0aW9uIGlzRG9jdW1lbnQoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQubm9kZVR5cGUgPT09IE5vZGUuRE9DVU1FTlRfTk9ERTsKICB9CgogIGZ1bmN0aW9uIGlzRGV0YWNoZWQoZWxlbWVudCkgewogICAgcmV0dXJuIGVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkgJiYKICAgICAhRWxlbWVudC5kZXNjZW5kYW50T2YoZWxlbWVudCwgZG9jdW1lbnQuYm9keSk7CiAgfQoKICBpZiAoJ2dldEJvdW5kaW5nQ2xpZW50UmVjdCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7CiAgICBFbGVtZW50LmFkZE1ldGhvZHMoewogICAgICB2aWV3cG9ydE9mZnNldDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgICAgIGlmIChpc0RldGFjaGVkKGVsZW1lbnQpKSByZXR1cm4gbmV3IEVsZW1lbnQuT2Zmc2V0KDAsIDApOwoKICAgICAgICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgICAgIHJldHVybiBuZXcgRWxlbWVudC5PZmZzZXQocmVjdC5sZWZ0IC0gZG9jRWwuY2xpZW50TGVmdCwKICAgICAgICAgcmVjdC50b3AgLSBkb2NFbC5jbGllbnRUb3ApOwogICAgICB9CiAgICB9KTsKICB9CgoKfSkoKTsKCihmdW5jdGlvbigpIHsKCiAgdmFyIElTX09MRF9PUEVSQSA9IFByb3RvdHlwZS5Ccm93c2VyLk9wZXJhICYmCiAgICh3aW5kb3cucGFyc2VGbG9hdCh3aW5kb3cub3BlcmEudmVyc2lvbigpKSA8IDkuNSk7CiAgdmFyIFJPT1QgPSBudWxsOwogIGZ1bmN0aW9uIGdldFJvb3RFbGVtZW50KCkgewogICAgaWYgKFJPT1QpIHJldHVybiBST09UOwogICAgUk9PVCA9IElTX09MRF9PUEVSQSA/IGRvY3VtZW50LmJvZHkgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICByZXR1cm4gUk9PVDsKICB9CgogIGZ1bmN0aW9uIGdldERpbWVuc2lvbnMoKSB7CiAgICByZXR1cm4geyB3aWR0aDogdGhpcy5nZXRXaWR0aCgpLCBoZWlnaHQ6IHRoaXMuZ2V0SGVpZ2h0KCkgfTsKICB9CgogIGZ1bmN0aW9uIGdldFdpZHRoKCkgewogICAgcmV0dXJuIGdldFJvb3RFbGVtZW50KCkuY2xpZW50V2lkdGg7CiAgfQoKICBmdW5jdGlvbiBnZXRIZWlnaHQoKSB7CiAgICByZXR1cm4gZ2V0Um9vdEVsZW1lbnQoKS5jbGllbnRIZWlnaHQ7CiAgfQoKICBmdW5jdGlvbiBnZXRTY3JvbGxPZmZzZXRzKCkgewogICAgdmFyIHggPSB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwKICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQ7CiAgICB2YXIgeSA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8CiAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CgogICAgcmV0dXJuIG5ldyBFbGVtZW50Lk9mZnNldCh4LCB5KTsKICB9CgogIGRvY3VtZW50LnZpZXdwb3J0ID0gewogICAgZ2V0RGltZW5zaW9uczogICAgZ2V0RGltZW5zaW9ucywKICAgIGdldFdpZHRoOiAgICAgICAgIGdldFdpZHRoLAogICAgZ2V0SGVpZ2h0OiAgICAgICAgZ2V0SGVpZ2h0LAogICAgZ2V0U2Nyb2xsT2Zmc2V0czogZ2V0U2Nyb2xsT2Zmc2V0cwogIH07Cgp9KSgpOwp3aW5kb3cuJCQgPSBmdW5jdGlvbigpIHsKICB2YXIgZXhwcmVzc2lvbiA9ICRBKGFyZ3VtZW50cykuam9pbignLCAnKTsKICByZXR1cm4gUHJvdG90eXBlLlNlbGVjdG9yLnNlbGVjdChleHByZXNzaW9uLCBkb2N1bWVudCk7Cn07CgpQcm90b3R5cGUuU2VsZWN0b3IgPSAoZnVuY3Rpb24oKSB7CgogIGZ1bmN0aW9uIHNlbGVjdCgpIHsKICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kICJQcm90b3R5cGUuU2VsZWN0b3Iuc2VsZWN0IiBtdXN0IGJlIGRlZmluZWQuJyk7CiAgfQoKICBmdW5jdGlvbiBtYXRjaCgpIHsKICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kICJQcm90b3R5cGUuU2VsZWN0b3IubWF0Y2giIG11c3QgYmUgZGVmaW5lZC4nKTsKICB9CgogIGZ1bmN0aW9uIGZpbmQoZWxlbWVudHMsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICBpbmRleCA9IGluZGV4IHx8IDA7CiAgICB2YXIgbWF0Y2ggPSBQcm90b3R5cGUuU2VsZWN0b3IubWF0Y2gsIGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aCwgbWF0Y2hJbmRleCA9IDAsIGk7CgogICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChtYXRjaChlbGVtZW50c1tpXSwgZXhwcmVzc2lvbikgJiYgaW5kZXggPT0gbWF0Y2hJbmRleCsrKSB7CiAgICAgICAgcmV0dXJuIEVsZW1lbnQuZXh0ZW5kKGVsZW1lbnRzW2ldKTsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gZXh0ZW5kRWxlbWVudHMoZWxlbWVudHMpIHsKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICBFbGVtZW50LmV4dGVuZChlbGVtZW50c1tpXSk7CiAgICB9CiAgICByZXR1cm4gZWxlbWVudHM7CiAgfQoKCiAgdmFyIEsgPSBQcm90b3R5cGUuSzsKCiAgcmV0dXJuIHsKICAgIHNlbGVjdDogc2VsZWN0LAogICAgbWF0Y2g6IG1hdGNoLAogICAgZmluZDogZmluZCwKICAgIGV4dGVuZEVsZW1lbnRzOiAoRWxlbWVudC5leHRlbmQgPT09IEspID8gSyA6IGV4dGVuZEVsZW1lbnRzLAogICAgZXh0ZW5kRWxlbWVudDogRWxlbWVudC5leHRlbmQKICB9Owp9KSgpOwpQcm90b3R5cGUuX29yaWdpbmFsX3Byb3BlcnR5ID0gd2luZG93LlNpenpsZTsKLyohCiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHZAVkVSU0lPTgogKiBodHRwOi8vc2l6emxlanMuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMyBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZQogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIERhdGU6IEBEQVRFCiAqLwooZnVuY3Rpb24oIHdpbmRvdyApIHsKCnZhciBpLAoJc3VwcG9ydCwKCUV4cHIsCglnZXRUZXh0LAoJaXNYTUwsCgljb21waWxlLAoJc2VsZWN0LAoJb3V0ZXJtb3N0Q29udGV4dCwKCXNvcnRJbnB1dCwKCWhhc0R1cGxpY2F0ZSwKCglzZXREb2N1bWVudCwKCWRvY3VtZW50LAoJZG9jRWxlbSwKCWRvY3VtZW50SXNIVE1MLAoJcmJ1Z2d5UVNBLAoJcmJ1Z2d5TWF0Y2hlcywKCW1hdGNoZXMsCgljb250YWlucywKCglleHBhbmRvID0gInNpenpsZSIgKyAtKG5ldyBEYXRlKCkpLAoJcHJlZmVycmVkRG9jID0gd2luZG93LmRvY3VtZW50LAoJZGlycnVucyA9IDAsCglkb25lID0gMCwKCWNsYXNzQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLAoJdG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksCgljb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSwKCXNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkgewoJCWlmICggYSA9PT0gYiApIHsKCQkJaGFzRHVwbGljYXRlID0gdHJ1ZTsKCQl9CgkJcmV0dXJuIDA7Cgl9LAoKCXN0cnVuZGVmaW5lZCA9IHR5cGVvZiB1bmRlZmluZWQsCglNQVhfTkVHQVRJVkUgPSAxIDw8IDMxLAoKCWhhc093biA9ICh7fSkuaGFzT3duUHJvcGVydHksCglhcnIgPSBbXSwKCXBvcCA9IGFyci5wb3AsCglwdXNoX25hdGl2ZSA9IGFyci5wdXNoLAoJcHVzaCA9IGFyci5wdXNoLAoJc2xpY2UgPSBhcnIuc2xpY2UsCglpbmRleE9mID0gYXJyLmluZGV4T2YgfHwgZnVuY3Rpb24oIGVsZW0gKSB7CgkJdmFyIGkgPSAwLAoJCQlsZW4gPSB0aGlzLmxlbmd0aDsKCQlmb3IgKCA7IGkgPCBsZW47IGkrKyApIHsKCQkJaWYgKCB0aGlzW2ldID09PSBlbGVtICkgewoJCQkJcmV0dXJuIGk7CgkJCX0KCQl9CgkJcmV0dXJuIC0xOwoJfSwKCglib29sZWFucyA9ICJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsCgoKCXdoaXRlc3BhY2UgPSAiW1xceDIwXFx0XFxyXFxuXFxmXSIsCgljaGFyYWN0ZXJFbmNvZGluZyA9ICIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIsCgoJaWRlbnRpZmllciA9IGNoYXJhY3RlckVuY29kaW5nLnJlcGxhY2UoICJ3IiwgIncjIiApLAoKCWF0dHJpYnV0ZXMgPSAiXFxbIiArIHdoaXRlc3BhY2UgKyAiKigiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyAiKSIgKyB3aGl0ZXNwYWNlICsKCQkiKig/OihbKl4kfCF+XT89KSIgKyB3aGl0ZXNwYWNlICsgIiooPzooWydcIl0pKCg/OlxcXFwufFteXFxcXF0pKj8pXFwzfCgiICsgaWRlbnRpZmllciArICIpfCl8KSIgKyB3aGl0ZXNwYWNlICsgIipcXF0iLAoKCXBzZXVkb3MgPSAiOigiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyAiKSg/OlxcKCgoWydcIl0pKCg/OlxcXFwufFteXFxcXF0pKj8pXFwzfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIgKyBhdHRyaWJ1dGVzLnJlcGxhY2UoIDMsIDggKSArICIpKil8LiopXFwpfCkiLAoKCXJ0cmltID0gbmV3IFJlZ0V4cCggIl4iICsgd2hpdGVzcGFjZSArICIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiICsgd2hpdGVzcGFjZSArICIrJCIsICJnIiApLAoKCXJjb21tYSA9IG5ldyBSZWdFeHAoICJeIiArIHdoaXRlc3BhY2UgKyAiKiwiICsgd2hpdGVzcGFjZSArICIqIiApLAoJcmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggIl4iICsgd2hpdGVzcGFjZSArICIqKFs+K35dfCIgKyB3aGl0ZXNwYWNlICsgIikiICsgd2hpdGVzcGFjZSArICIqIiApLAoKCXJhdHRyaWJ1dGVRdW90ZXMgPSBuZXcgUmVnRXhwKCAiPSIgKyB3aGl0ZXNwYWNlICsgIiooW15cXF0nXCJdKj8pIiArIHdoaXRlc3BhY2UgKyAiKlxcXSIsICJnIiApLAoKCXJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksCglyaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoICJeIiArIGlkZW50aWZpZXIgKyAiJCIgKSwKCgltYXRjaEV4cHIgPSB7CgkJIklEIjogbmV3IFJlZ0V4cCggIl4jKCIgKyBjaGFyYWN0ZXJFbmNvZGluZyArICIpIiApLAoJCSJDTEFTUyI6IG5ldyBSZWdFeHAoICJeXFwuKCIgKyBjaGFyYWN0ZXJFbmNvZGluZyArICIpIiApLAoJCSJUQUciOiBuZXcgUmVnRXhwKCAiXigiICsgY2hhcmFjdGVyRW5jb2RpbmcucmVwbGFjZSggInciLCAidyoiICkgKyAiKSIgKSwKCQkiQVRUUiI6IG5ldyBSZWdFeHAoICJeIiArIGF0dHJpYnV0ZXMgKSwKCQkiUFNFVURPIjogbmV3IFJlZ0V4cCggIl4iICsgcHNldWRvcyApLAoJCSJDSElMRCI6IG5ldyBSZWdFeHAoICJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiICsgd2hpdGVzcGFjZSArCgkJCSIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIiArIHdoaXRlc3BhY2UgKyAiKig/OihbKy1dfCkiICsgd2hpdGVzcGFjZSArCgkJCSIqKFxcZCspfCkpIiArIHdoaXRlc3BhY2UgKyAiKlxcKXwpIiwgImkiICksCgkJImJvb2wiOiBuZXcgUmVnRXhwKCAiXig/OiIgKyBib29sZWFucyArICIpJCIsICJpIiApLAoJCSJuZWVkc0NvbnRleHQiOiBuZXcgUmVnRXhwKCAiXiIgKyB3aGl0ZXNwYWNlICsgIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIgKwoJCQl3aGl0ZXNwYWNlICsgIiooKD86LVxcZCk/XFxkKikiICsgd2hpdGVzcGFjZSArICIqXFwpfCkoPz1bXi1dfCQpIiwgImkiICkKCX0sCgoJcmlucHV0cyA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksCglyaGVhZGVyID0gL15oXGQkL2ksCgoJcm5hdGl2ZSA9IC9eW157XStce1xzKlxbbmF0aXZlIFx3LywKCglycXVpY2tFeHByID0gL14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLywKCglyc2libGluZyA9IC9bK35dLywKCXJlc2NhcGUgPSAvJ3xcXC9nLAoKCXJ1bmVzY2FwZSA9IG5ldyBSZWdFeHAoICJcXFxcKFtcXGRhLWZdezEsNn0iICsgd2hpdGVzcGFjZSArICI/fCgiICsgd2hpdGVzcGFjZSArICIpfC4pIiwgImlnIiApLAoJZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2FwZWRXaGl0ZXNwYWNlICkgewoJCXZhciBoaWdoID0gIjB4IiArIGVzY2FwZWQgLSAweDEwMDAwOwoJCXJldHVybiBoaWdoICE9PSBoaWdoIHx8IGVzY2FwZWRXaGl0ZXNwYWNlID8KCQkJZXNjYXBlZCA6CgkJCWhpZ2ggPCAwID8KCQkJCVN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggKyAweDEwMDAwICkgOgoJCQkJU3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCA+PiAxMCB8IDB4RDgwMCwgaGlnaCAmIDB4M0ZGIHwgMHhEQzAwICk7Cgl9OwoKdHJ5IHsKCXB1c2guYXBwbHkoCgkJKGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLAoJCXByZWZlcnJlZERvYy5jaGlsZE5vZGVzCgkpOwoJYXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTsKfSBjYXRjaCAoIGUgKSB7CglwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/CgoJCWZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHsKCQkJcHVzaF9uYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbChlbHMpICk7CgkJfSA6CgoJCWZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHsKCQkJdmFyIGogPSB0YXJnZXQubGVuZ3RoLAoJCQkJaSA9IDA7CgkJCXdoaWxlICggKHRhcmdldFtqKytdID0gZWxzW2krK10pICkge30KCQkJdGFyZ2V0Lmxlbmd0aCA9IGogLSAxOwoJCX0KCX07Cn0KCmZ1bmN0aW9uIFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7Cgl2YXIgbWF0Y2gsIGVsZW0sIG0sIG5vZGVUeXBlLAoJCWksIGdyb3Vwcywgb2xkLCBuaWQsIG5ld0NvbnRleHQsIG5ld1NlbGVjdG9yOwoKCWlmICggKCBjb250ZXh0ID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBwcmVmZXJyZWREb2MgKSAhPT0gZG9jdW1lbnQgKSB7CgkJc2V0RG9jdW1lbnQoIGNvbnRleHQgKTsKCX0KCgljb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDsKCXJlc3VsdHMgPSByZXN1bHRzIHx8IFtdOwoKCWlmICggIXNlbGVjdG9yIHx8IHR5cGVvZiBzZWxlY3RvciAhPT0gInN0cmluZyIgKSB7CgkJcmV0dXJuIHJlc3VsdHM7Cgl9CgoJaWYgKCAobm9kZVR5cGUgPSBjb250ZXh0Lm5vZGVUeXBlKSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSApIHsKCQlyZXR1cm4gW107Cgl9CgoJaWYgKCBkb2N1bWVudElzSFRNTCAmJiAhc2VlZCApIHsKCgkJaWYgKCAobWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICkpICkgewoJCQlpZiAoIChtID0gbWF0Y2hbMV0pICkgewoJCQkJaWYgKCBub2RlVHlwZSA9PT0gOSApIHsKCQkJCQllbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApOwoJCQkJCWlmICggZWxlbSAmJiBlbGVtLnBhcmVudE5vZGUgKSB7CgkJCQkJCWlmICggZWxlbS5pZCA9PT0gbSApIHsKCQkJCQkJCXJlc3VsdHMucHVzaCggZWxlbSApOwoJCQkJCQkJcmV0dXJuIHJlc3VsdHM7CgkJCQkJCX0KCQkJCQl9IGVsc2UgewoJCQkJCQlyZXR1cm4gcmVzdWx0czsKCQkJCQl9CgkJCQl9IGVsc2UgewoJCQkJCWlmICggY29udGV4dC5vd25lckRvY3VtZW50ICYmIChlbGVtID0gY29udGV4dC5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtICkpICYmCgkJCQkJCWNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiYgZWxlbS5pZCA9PT0gbSApIHsKCQkJCQkJcmVzdWx0cy5wdXNoKCBlbGVtICk7CgkJCQkJCXJldHVybiByZXN1bHRzOwoJCQkJCX0KCQkJCX0KCgkJCX0gZWxzZSBpZiAoIG1hdGNoWzJdICkgewoJCQkJcHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggc2VsZWN0b3IgKSApOwoJCQkJcmV0dXJuIHJlc3VsdHM7CgoJCQl9IGVsc2UgaWYgKCAobSA9IG1hdGNoWzNdKSAmJiBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkgewoJCQkJcHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTsKCQkJCXJldHVybiByZXN1bHRzOwoJCQl9CgkJfQoKCQlpZiAoIHN1cHBvcnQucXNhICYmICghcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSkgKSB7CgkJCW5pZCA9IG9sZCA9IGV4cGFuZG87CgkJCW5ld0NvbnRleHQgPSBjb250ZXh0OwoJCQluZXdTZWxlY3RvciA9IG5vZGVUeXBlID09PSA5ICYmIHNlbGVjdG9yOwoKCQkJaWYgKCBub2RlVHlwZSA9PT0gMSAmJiBjb250ZXh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICJvYmplY3QiICkgewoJCQkJZ3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7CgoJCQkJaWYgKCAob2xkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoImlkIikpICkgewoJCQkJCW5pZCA9IG9sZC5yZXBsYWNlKCByZXNjYXBlLCAiXFwkJiIgKTsKCQkJCX0gZWxzZSB7CgkJCQkJY29udGV4dC5zZXRBdHRyaWJ1dGUoICJpZCIsIG5pZCApOwoJCQkJfQoJCQkJbmlkID0gIltpZD0nIiArIG5pZCArICInXSAiOwoKCQkJCWkgPSBncm91cHMubGVuZ3RoOwoJCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQkJZ3JvdXBzW2ldID0gbmlkICsgdG9TZWxlY3RvciggZ3JvdXBzW2ldICk7CgkJCQl9CgkJCQluZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dDsKCQkJCW5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oIiwiKTsKCQkJfQoKCQkJaWYgKCBuZXdTZWxlY3RvciApIHsKCQkJCXRyeSB7CgkJCQkJcHVzaC5hcHBseSggcmVzdWx0cywKCQkJCQkJbmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApCgkJCQkJKTsKCQkJCQlyZXR1cm4gcmVzdWx0czsKCQkJCX0gY2F0Y2gocXNhRXJyb3IpIHsKCQkJCX0gZmluYWxseSB7CgkJCQkJaWYgKCAhb2xkICkgewoJCQkJCQljb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSgiaWQiKTsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sICIkMSIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApOwp9CgovKioKICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplCiAqIEByZXR1cm5zIHtGdW5jdGlvbihzdHJpbmcsIE9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGgKICoJcHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aCkKICoJZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeQogKi8KZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7Cgl2YXIga2V5cyA9IFtdOwoKCWZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkgewoJCWlmICgga2V5cy5wdXNoKCBrZXkgKyAiICIgKSA+IEV4cHIuY2FjaGVMZW5ndGggKSB7CgkJCWRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07CgkJfQoJCXJldHVybiAoY2FjaGVbIGtleSArICIgIiBdID0gdmFsdWUpOwoJfQoJcmV0dXJuIGNhY2hlOwp9CgovKioKICogTWFyayBhIGZ1bmN0aW9uIGZvciBzcGVjaWFsIHVzZSBieSBTaXp6bGUKICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmsKICovCmZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7CglmblsgZXhwYW5kbyBdID0gdHJ1ZTsKCXJldHVybiBmbjsKfQoKLyoqCiAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50CiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBkaXYgYW5kIGV4cGVjdHMgYSBib29sZWFuIHJlc3VsdAogKi8KZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHsKCXZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKCgl0cnkgewoJCXJldHVybiAhIWZuKCBkaXYgKTsKCX0gY2F0Y2ggKGUpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9IGZpbmFsbHkgewoJCWlmICggZGl2LnBhcmVudE5vZGUgKSB7CgkJCWRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBkaXYgKTsKCQl9CgkJZGl2ID0gbnVsbDsKCX0KfQoKLyoqCiAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnMKICogQHBhcmFtIHtTdHJpbmd9IGF0dHJzIFBpcGUtc2VwYXJhdGVkIGxpc3Qgb2YgYXR0cmlidXRlcwogKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBtZXRob2QgdGhhdCB3aWxsIGJlIGFwcGxpZWQKICovCmZ1bmN0aW9uIGFkZEhhbmRsZSggYXR0cnMsIGhhbmRsZXIgKSB7Cgl2YXIgYXJyID0gYXR0cnMuc3BsaXQoInwiKSwKCQlpID0gYXR0cnMubGVuZ3RoOwoKCXdoaWxlICggaS0tICkgewoJCUV4cHIuYXR0ckhhbmRsZVsgYXJyW2ldIF0gPSBoYW5kbGVyOwoJfQp9CgovKioKICogQ2hlY2tzIGRvY3VtZW50IG9yZGVyIG9mIHR3byBzaWJsaW5ncwogKiBAcGFyYW0ge0VsZW1lbnR9IGEKICogQHBhcmFtIHtFbGVtZW50fSBiCiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJldHVybnMgbGVzcyB0aGFuIDAgaWYgYSBwcmVjZWRlcyBiLCBncmVhdGVyIHRoYW4gMCBpZiBhIGZvbGxvd3MgYgogKi8KZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkgewoJdmFyIGN1ciA9IGIgJiYgYSwKCQlkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJgoJCQkoIH5iLnNvdXJjZUluZGV4IHx8IE1BWF9ORUdBVElWRSApIC0KCQkJKCB+YS5zb3VyY2VJbmRleCB8fCBNQVhfTkVHQVRJVkUgKTsKCglpZiAoIGRpZmYgKSB7CgkJcmV0dXJuIGRpZmY7Cgl9CgoJaWYgKCBjdXIgKSB7CgkJd2hpbGUgKCAoY3VyID0gY3VyLm5leHRTaWJsaW5nKSApIHsKCQkJaWYgKCBjdXIgPT09IGIgKSB7CgkJCQlyZXR1cm4gLTE7CgkJCX0KCQl9Cgl9CgoJcmV0dXJuIGEgPyAxIDogLTE7Cn0KCi8qKgogKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzCiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlCiAqLwpmdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHsKCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQl2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCQlyZXR1cm4gbmFtZSA9PT0gImlucHV0IiAmJiBlbGVtLnR5cGUgPT09IHR5cGU7Cgl9Owp9CgovKioKICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBidXR0b25zCiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlCiAqLwpmdW5jdGlvbiBjcmVhdGVCdXR0b25Qc2V1ZG8oIHR5cGUgKSB7CglyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7CgkJdmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgkJcmV0dXJuIChuYW1lID09PSAiaW5wdXQiIHx8IG5hbWUgPT09ICJidXR0b24iKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7Cgl9Owp9CgovKioKICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFscwogKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbgogKi8KZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7CglyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHsKCQlhcmd1bWVudCA9ICthcmd1bWVudDsKCQlyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkgewoJCQl2YXIgaiwKCQkJCW1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksCgkJCQlpID0gbWF0Y2hJbmRleGVzLmxlbmd0aDsKCgkJCXdoaWxlICggaS0tICkgewoJCQkJaWYgKCBzZWVkWyAoaiA9IG1hdGNoSW5kZXhlc1tpXSkgXSApIHsKCQkJCQlzZWVkW2pdID0gIShtYXRjaGVzW2pdID0gc2VlZFtqXSk7CgkJCQl9CgkJCX0KCQl9KTsKCX0pOwp9CgovKioKICogQ2hlY2tzIGEgbm9kZSBmb3IgdmFsaWRpdHkgYXMgYSBTaXp6bGUgY29udGV4dAogKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dAogKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWUKICovCmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkgewoJcmV0dXJuIGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IHN0cnVuZGVmaW5lZCAmJiBjb250ZXh0Owp9CgpzdXBwb3J0ID0gU2l6emxlLnN1cHBvcnQgPSB7fTsKCi8qKgogKiBEZXRlY3RzIFhNTCBub2RlcwogKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0fSBlbGVtIEFuIGVsZW1lbnQgb3IgYSBkb2N1bWVudAogKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlCiAqLwppc1hNTCA9IFNpenpsZS5pc1hNTCA9IGZ1bmN0aW9uKCBlbGVtICkgewoJdmFyIGRvY3VtZW50RWxlbWVudCA9IGVsZW0gJiYgKGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtKS5kb2N1bWVudEVsZW1lbnQ7CglyZXR1cm4gZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSAiSFRNTCIgOiBmYWxzZTsKfTsKCi8qKgogKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnQKICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnQKICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY3VycmVudCBkb2N1bWVudAogKi8Kc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiggbm9kZSApIHsKCXZhciBoYXNDb21wYXJlLAoJCWRvYyA9IG5vZGUgPyBub2RlLm93bmVyRG9jdW1lbnQgfHwgbm9kZSA6IHByZWZlcnJlZERvYywKCQlwYXJlbnQgPSBkb2MuZGVmYXVsdFZpZXc7CgoJaWYgKCBkb2MgPT09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCApIHsKCQlyZXR1cm4gZG9jdW1lbnQ7Cgl9CgoJZG9jdW1lbnQgPSBkb2M7Cglkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDsKCglkb2N1bWVudElzSFRNTCA9ICFpc1hNTCggZG9jICk7CgoJaWYgKCBwYXJlbnQgJiYgcGFyZW50ICE9PSBwYXJlbnQudG9wICkgewoJCWlmICggcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIgKSB7CgkJCXBhcmVudC5hZGRFdmVudExpc3RlbmVyKCAidW5sb2FkIiwgZnVuY3Rpb24oKSB7CgkJCQlzZXREb2N1bWVudCgpOwoJCQl9LCBmYWxzZSApOwoJCX0gZWxzZSBpZiAoIHBhcmVudC5hdHRhY2hFdmVudCApIHsKCQkJcGFyZW50LmF0dGFjaEV2ZW50KCAib251bmxvYWQiLCBmdW5jdGlvbigpIHsKCQkJCXNldERvY3VtZW50KCk7CgkJCX0pOwoJCX0KCX0KCgkvKiBBdHRyaWJ1dGVzCgktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCgoJc3VwcG9ydC5hdHRyaWJ1dGVzID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7CgkJZGl2LmNsYXNzTmFtZSA9ICJpIjsKCQlyZXR1cm4gIWRpdi5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpOwoJfSk7CgoJLyogZ2V0RWxlbWVudChzKUJ5KgoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoKCXN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHsKCQlkaXYuYXBwZW5kQ2hpbGQoIGRvYy5jcmVhdGVDb21tZW50KCIiKSApOwoJCXJldHVybiAhZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RoOwoJfSk7CgoJc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApICYmIGFzc2VydChmdW5jdGlvbiggZGl2ICkgewoJCWRpdi5pbm5lckhUTUwgPSAiPGRpdiBjbGFzcz0nYSc+PC9kaXY+PGRpdiBjbGFzcz0nYSBpJz48L2Rpdj4iOwoKCQlkaXYuZmlyc3RDaGlsZC5jbGFzc05hbWUgPSAiaSI7CgkJcmV0dXJuIGRpdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpIikubGVuZ3RoID09PSAyOwoJfSk7CgoJc3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7CgkJZG9jRWxlbS5hcHBlbmRDaGlsZCggZGl2ICkuaWQgPSBleHBhbmRvOwoJCXJldHVybiAhZG9jLmdldEVsZW1lbnRzQnlOYW1lIHx8ICFkb2MuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7Cgl9KTsKCglpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHsKCQlFeHByLmZpbmRbIklEIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7CgkJCWlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IHN0cnVuZGVmaW5lZCAmJiBkb2N1bWVudElzSFRNTCApIHsKCQkJCXZhciBtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTsKCQkJCXJldHVybiBtICYmIG0ucGFyZW50Tm9kZSA/IFttXSA6IFtdOwoJCQl9CgkJfTsKCQlFeHByLmZpbHRlclsiSUQiXSA9IGZ1bmN0aW9uKCBpZCApIHsKCQkJdmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSgiaWQiKSA9PT0gYXR0cklkOwoJCQl9OwoJCX07Cgl9IGVsc2UgewoJCWRlbGV0ZSBFeHByLmZpbmRbIklEIl07CgoJCUV4cHIuZmlsdGVyWyJJRCJdID0gIGZ1bmN0aW9uKCBpZCApIHsKCQkJdmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gc3RydW5kZWZpbmVkICYmIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTsKCQkJCXJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDsKCQkJfTsKCQl9OwoJfQoKCUV4cHIuZmluZFsiVEFHIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID8KCQlmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkgewoJCQlpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBzdHJ1bmRlZmluZWQgKSB7CgkJCQlyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7CgkJCX0KCQl9IDoKCQlmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkgewoJCQl2YXIgZWxlbSwKCQkJCXRtcCA9IFtdLAoJCQkJaSA9IDAsCgkJCQlyZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7CgoJCQlpZiAoIHRhZyA9PT0gIioiICkgewoJCQkJd2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7CgkJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkgewoJCQkJCQl0bXAucHVzaCggZWxlbSApOwoJCQkJCX0KCQkJCX0KCgkJCQlyZXR1cm4gdG1wOwoJCQl9CgkJCXJldHVybiByZXN1bHRzOwoJCX07CgoJRXhwci5maW5kWyJDTEFTUyJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKCBjbGFzc05hbWUsIGNvbnRleHQgKSB7CgkJaWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSBzdHJ1bmRlZmluZWQgJiYgZG9jdW1lbnRJc0hUTUwgKSB7CgkJCXJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApOwoJCX0KCX07CgoJLyogUVNBL21hdGNoZXNTZWxlY3RvcgoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoKCglyYnVnZ3lNYXRjaGVzID0gW107CgoJcmJ1Z2d5UVNBID0gW107CgoJaWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvYy5xdWVyeVNlbGVjdG9yQWxsICkpICkgewoJCWFzc2VydChmdW5jdGlvbiggZGl2ICkgewoJCQlkaXYuaW5uZXJIVE1MID0gIjxzZWxlY3QgdD0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiI7CgoJCQlpZiAoIGRpdi5xdWVyeVNlbGVjdG9yQWxsKCJbdF49JyddIikubGVuZ3RoICkgewoJCQkJcmJ1Z2d5UVNBLnB1c2goICJbKl4kXT0iICsgd2hpdGVzcGFjZSArICIqKD86Jyd8XCJcIikiICk7CgkJCX0KCgkJCWlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RoICkgewoJCQkJcmJ1Z2d5UVNBLnB1c2goICJcXFsiICsgd2hpdGVzcGFjZSArICIqKD86dmFsdWV8IiArIGJvb2xlYW5zICsgIikiICk7CgkJCX0KCgkJCWlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aCApIHsKCQkJCXJidWdneVFTQS5wdXNoKCI6Y2hlY2tlZCIpOwoJCQl9CgkJfSk7CgoJCWFzc2VydChmdW5jdGlvbiggZGl2ICkgewoJCQl2YXIgaW5wdXQgPSBkb2MuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKCQkJaW5wdXQuc2V0QXR0cmlidXRlKCAidHlwZSIsICJoaWRkZW4iICk7CgkJCWRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoICJuYW1lIiwgIkQiICk7CgoJCQlpZiAoIGRpdi5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCApIHsKCQkJCXJidWdneVFTQS5wdXNoKCAibmFtZSIgKyB3aGl0ZXNwYWNlICsgIipbKl4kfCF+XT89IiApOwoJCQl9CgoJCQlpZiAoICFkaXYucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGggKSB7CgkJCQlyYnVnZ3lRU0EucHVzaCggIjplbmFibGVkIiwgIjpkaXNhYmxlZCIgKTsKCQkJfQoKCQkJZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKTsKCQkJcmJ1Z2d5UVNBLnB1c2goIiwuKjoiKTsKCQl9KTsKCX0KCglpZiAoIChzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciA9IHJuYXRpdmUudGVzdCggKG1hdGNoZXMgPSBkb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fAoJCWRvY0VsZW0ubW96TWF0Y2hlc1NlbGVjdG9yIHx8CgkJZG9jRWxlbS5vTWF0Y2hlc1NlbGVjdG9yIHx8CgkJZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvcikgKSkgKSB7CgoJCWFzc2VydChmdW5jdGlvbiggZGl2ICkgewoJCQlzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy5jYWxsKCBkaXYsICJkaXYiICk7CgoJCQltYXRjaGVzLmNhbGwoIGRpdiwgIltzIT0nJ106eCIgKTsKCQkJcmJ1Z2d5TWF0Y2hlcy5wdXNoKCAiIT0iLCBwc2V1ZG9zICk7CgkJfSk7Cgl9CgoJcmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbigifCIpICk7CglyYnVnZ3lNYXRjaGVzID0gcmJ1Z2d5TWF0Y2hlcy5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5TWF0Y2hlcy5qb2luKCJ8IikgKTsKCgkvKiBDb250YWlucwoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwoJaGFzQ29tcGFyZSA9IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiApOwoKCWNvbnRhaW5zID0gaGFzQ29tcGFyZSB8fCBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29udGFpbnMgKSA/CgkJZnVuY3Rpb24oIGEsIGIgKSB7CgkJCXZhciBhZG93biA9IGEubm9kZVR5cGUgPT09IDkgPyBhLmRvY3VtZW50RWxlbWVudCA6IGEsCgkJCQlidXAgPSBiICYmIGIucGFyZW50Tm9kZTsKCQkJcmV0dXJuIGEgPT09IGJ1cCB8fCAhISggYnVwICYmIGJ1cC5ub2RlVHlwZSA9PT0gMSAmJiAoCgkJCQlhZG93bi5jb250YWlucyA/CgkJCQkJYWRvd24uY29udGFpbnMoIGJ1cCApIDoKCQkJCQlhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICYmIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGJ1cCApICYgMTYKCQkJKSk7CgkJfSA6CgkJZnVuY3Rpb24oIGEsIGIgKSB7CgkJCWlmICggYiApIHsKCQkJCXdoaWxlICggKGIgPSBiLnBhcmVudE5vZGUpICkgewoJCQkJCWlmICggYiA9PT0gYSApIHsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfQoJCQkJfQoJCQl9CgkJCXJldHVybiBmYWxzZTsKCQl9OwoKCS8qIFNvcnRpbmcKCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KCglzb3J0T3JkZXIgPSBoYXNDb21wYXJlID8KCWZ1bmN0aW9uKCBhLCBiICkgewoKCQlpZiAoIGEgPT09IGIgKSB7CgkJCWhhc0R1cGxpY2F0ZSA9IHRydWU7CgkJCXJldHVybiAwOwoJCX0KCgkJdmFyIGNvbXBhcmUgPSAhYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAtICFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uOwoJCWlmICggY29tcGFyZSApIHsKCQkJcmV0dXJuIGNvbXBhcmU7CgkJfQoKCQljb21wYXJlID0gKCBhLm93bmVyRG9jdW1lbnQgfHwgYSApID09PSAoIGIub3duZXJEb2N1bWVudCB8fCBiICkgPwoJCQlhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOgoKCQkJMTsKCgkJaWYgKCBjb21wYXJlICYgMSB8fAoJCQkoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7CgoJCQlpZiAoIGEgPT09IGRvYyB8fCBhLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGEpICkgewoJCQkJcmV0dXJuIC0xOwoJCQl9CgkJCWlmICggYiA9PT0gZG9jIHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7CgkJCQlyZXR1cm4gMTsKCQkJfQoKCQkJcmV0dXJuIHNvcnRJbnB1dCA/CgkJCQkoIGluZGV4T2YuY2FsbCggc29ydElucHV0LCBhICkgLSBpbmRleE9mLmNhbGwoIHNvcnRJbnB1dCwgYiApICkgOgoJCQkJMDsKCQl9CgoJCXJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTsKCX0gOgoJZnVuY3Rpb24oIGEsIGIgKSB7CgkJaWYgKCBhID09PSBiICkgewoJCQloYXNEdXBsaWNhdGUgPSB0cnVlOwoJCQlyZXR1cm4gMDsKCQl9CgoJCXZhciBjdXIsCgkJCWkgPSAwLAoJCQlhdXAgPSBhLnBhcmVudE5vZGUsCgkJCWJ1cCA9IGIucGFyZW50Tm9kZSwKCQkJYXAgPSBbIGEgXSwKCQkJYnAgPSBbIGIgXTsKCgkJaWYgKCAhYXVwIHx8ICFidXAgKSB7CgkJCXJldHVybiBhID09PSBkb2MgPyAtMSA6CgkJCQliID09PSBkb2MgPyAxIDoKCQkJCWF1cCA/IC0xIDoKCQkJCWJ1cCA/IDEgOgoJCQkJc29ydElucHV0ID8KCQkJCSggaW5kZXhPZi5jYWxsKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YuY2FsbCggc29ydElucHV0LCBiICkgKSA6CgkJCQkwOwoKCQl9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHsKCQkJcmV0dXJuIHNpYmxpbmdDaGVjayggYSwgYiApOwoJCX0KCgkJY3VyID0gYTsKCQl3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7CgkJCWFwLnVuc2hpZnQoIGN1ciApOwoJCX0KCQljdXIgPSBiOwoJCXdoaWxlICggKGN1ciA9IGN1ci5wYXJlbnROb2RlKSApIHsKCQkJYnAudW5zaGlmdCggY3VyICk7CgkJfQoKCQl3aGlsZSAoIGFwW2ldID09PSBicFtpXSApIHsKCQkJaSsrOwoJCX0KCgkJcmV0dXJuIGkgPwoJCQlzaWJsaW5nQ2hlY2soIGFwW2ldLCBicFtpXSApIDoKCgkJCWFwW2ldID09PSBwcmVmZXJyZWREb2MgPyAtMSA6CgkJCWJwW2ldID09PSBwcmVmZXJyZWREb2MgPyAxIDoKCQkJMDsKCX07CgoJcmV0dXJuIGRvYzsKfTsKClNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkgewoJcmV0dXJuIFNpenpsZSggZXhwciwgbnVsbCwgbnVsbCwgZWxlbWVudHMgKTsKfTsKClNpenpsZS5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbiggZWxlbSwgZXhwciApIHsKCWlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHsKCQlzZXREb2N1bWVudCggZWxlbSApOwoJfQoKCWV4cHIgPSBleHByLnJlcGxhY2UoIHJhdHRyaWJ1dGVRdW90ZXMsICI9JyQxJ10iICk7CgoJaWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJgoJCSggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVzdCggZXhwciApICkgJiYKCQkoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7CgoJCXRyeSB7CgkJCXZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTsKCgkJCWlmICggcmV0IHx8IHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggfHwKCQkJCQllbGVtLmRvY3VtZW50ICYmIGVsZW0uZG9jdW1lbnQubm9kZVR5cGUgIT09IDExICkgewoJCQkJcmV0dXJuIHJldDsKCQkJfQoJCX0gY2F0Y2goZSkge30KCX0KCglyZXR1cm4gU2l6emxlKCBleHByLCBkb2N1bWVudCwgbnVsbCwgW2VsZW1dICkubGVuZ3RoID4gMDsKfTsKClNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkgewoJaWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT09IGRvY3VtZW50ICkgewoJCXNldERvY3VtZW50KCBjb250ZXh0ICk7Cgl9CglyZXR1cm4gY29udGFpbnMoIGNvbnRleHQsIGVsZW0gKTsKfTsKClNpenpsZS5hdHRyID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7CglpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7CgkJc2V0RG9jdW1lbnQoIGVsZW0gKTsKCX0KCgl2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLAoJCXZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID8KCQkJZm4oIGVsZW0sIG5hbWUsICFkb2N1bWVudElzSFRNTCApIDoKCQkJdW5kZWZpbmVkOwoKCXJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/CgkJdmFsIDoKCQlzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID8KCQkJZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6CgkJCSh2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUobmFtZSkpICYmIHZhbC5zcGVjaWZpZWQgPwoJCQkJdmFsLnZhbHVlIDoKCQkJCW51bGw7Cn07CgpTaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkgewoJdGhyb3cgbmV3IEVycm9yKCAiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIiArIG1zZyApOwp9OwoKLyoqCiAqIERvY3VtZW50IHNvcnRpbmcgYW5kIHJlbW92aW5nIGR1cGxpY2F0ZXMKICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHMKICovClNpenpsZS51bmlxdWVTb3J0ID0gZnVuY3Rpb24oIHJlc3VsdHMgKSB7Cgl2YXIgZWxlbSwKCQlkdXBsaWNhdGVzID0gW10sCgkJaiA9IDAsCgkJaSA9IDA7CgoJaGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlczsKCXNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgcmVzdWx0cy5zbGljZSggMCApOwoJcmVzdWx0cy5zb3J0KCBzb3J0T3JkZXIgKTsKCglpZiAoIGhhc0R1cGxpY2F0ZSApIHsKCQl3aGlsZSAoIChlbGVtID0gcmVzdWx0c1tpKytdKSApIHsKCQkJaWYgKCBlbGVtID09PSByZXN1bHRzWyBpIF0gKSB7CgkJCQlqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7CgkJCX0KCQl9CgkJd2hpbGUgKCBqLS0gKSB7CgkJCXJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTsKCQl9Cgl9CgoJc29ydElucHV0ID0gbnVsbDsKCglyZXR1cm4gcmVzdWx0czsKfTsKCi8qKgogKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciByZXRyaWV2aW5nIHRoZSB0ZXh0IHZhbHVlIG9mIGFuIGFycmF5IG9mIERPTSBub2RlcwogKiBAcGFyYW0ge0FycmF5fEVsZW1lbnR9IGVsZW0KICovCmdldFRleHQgPSBTaXp6bGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBlbGVtICkgewoJdmFyIG5vZGUsCgkJcmV0ID0gIiIsCgkJaSA9IDAsCgkJbm9kZVR5cGUgPSBlbGVtLm5vZGVUeXBlOwoKCWlmICggIW5vZGVUeXBlICkgewoJCXdoaWxlICggKG5vZGUgPSBlbGVtW2krK10pICkgewoJCQlyZXQgKz0gZ2V0VGV4dCggbm9kZSApOwoJCX0KCX0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAxIHx8IG5vZGVUeXBlID09PSA5IHx8IG5vZGVUeXBlID09PSAxMSApIHsKCQlpZiAoIHR5cGVvZiBlbGVtLnRleHRDb250ZW50ID09PSAic3RyaW5nIiApIHsKCQkJcmV0dXJuIGVsZW0udGV4dENvbnRlbnQ7CgkJfSBlbHNlIHsKCQkJZm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7CgkJCQlyZXQgKz0gZ2V0VGV4dCggZWxlbSApOwoJCQl9CgkJfQoJfSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7CgkJcmV0dXJuIGVsZW0ubm9kZVZhbHVlOwoJfQoKCXJldHVybiByZXQ7Cn07CgpFeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHsKCgljYWNoZUxlbmd0aDogNTAsCgoJY3JlYXRlUHNldWRvOiBtYXJrRnVuY3Rpb24sCgoJbWF0Y2g6IG1hdGNoRXhwciwKCglhdHRySGFuZGxlOiB7fSwKCglmaW5kOiB7fSwKCglyZWxhdGl2ZTogewoJCSI+IjogeyBkaXI6ICJwYXJlbnROb2RlIiwgZmlyc3Q6IHRydWUgfSwKCQkiICI6IHsgZGlyOiAicGFyZW50Tm9kZSIgfSwKCQkiKyI6IHsgZGlyOiAicHJldmlvdXNTaWJsaW5nIiwgZmlyc3Q6IHRydWUgfSwKCQkifiI6IHsgZGlyOiAicHJldmlvdXNTaWJsaW5nIiB9Cgl9LAoKCXByZUZpbHRlcjogewoJCSJBVFRSIjogZnVuY3Rpb24oIG1hdGNoICkgewoJCQltYXRjaFsxXSA9IG1hdGNoWzFdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7CgoJCQltYXRjaFszXSA9ICggbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgIiIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApOwoKCQkJaWYgKCBtYXRjaFsyXSA9PT0gIn49IiApIHsKCQkJCW1hdGNoWzNdID0gIiAiICsgbWF0Y2hbM10gKyAiICI7CgkJCX0KCgkJCXJldHVybiBtYXRjaC5zbGljZSggMCwgNCApOwoJCX0sCgoJCSJDSElMRCI6IGZ1bmN0aW9uKCBtYXRjaCApIHsKCQkJLyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwclsiQ0hJTEQiXQoJCQkJMSB0eXBlIChvbmx5fG50aHwuLi4pCgkJCQkyIHdoYXQgKGNoaWxkfG9mLXR5cGUpCgkJCQkzIGFyZ3VtZW50IChldmVufG9kZHxcZCp8XGQqbihbKy1dXGQrKT98Li4uKQoJCQkJNCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cZCpufCkKCQkJCTUgc2lnbiBvZiB4bi1jb21wb25lbnQKCQkJCTYgeCBvZiB4bi1jb21wb25lbnQKCQkJCTcgc2lnbiBvZiB5LWNvbXBvbmVudAoJCQkJOCB5IG9mIHktY29tcG9uZW50CgkJCSovCgkJCW1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTsKCgkJCWlmICggbWF0Y2hbMV0uc2xpY2UoIDAsIDMgKSA9PT0gIm50aCIgKSB7CgkJCQlpZiAoICFtYXRjaFszXSApIHsKCQkJCQlTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7CgkJCQl9CgoJCQkJbWF0Y2hbNF0gPSArKCBtYXRjaFs0XSA/IG1hdGNoWzVdICsgKG1hdGNoWzZdIHx8IDEpIDogMiAqICggbWF0Y2hbM10gPT09ICJldmVuIiB8fCBtYXRjaFszXSA9PT0gIm9kZCIgKSApOwoJCQkJbWF0Y2hbNV0gPSArKCAoIG1hdGNoWzddICsgbWF0Y2hbOF0gKSB8fCBtYXRjaFszXSA9PT0gIm9kZCIgKTsKCgkJCX0gZWxzZSBpZiAoIG1hdGNoWzNdICkgewoJCQkJU2l6emxlLmVycm9yKCBtYXRjaFswXSApOwoJCQl9CgoJCQlyZXR1cm4gbWF0Y2g7CgkJfSwKCgkJIlBTRVVETyI6IGZ1bmN0aW9uKCBtYXRjaCApIHsKCQkJdmFyIGV4Y2VzcywKCQkJCXVucXVvdGVkID0gIW1hdGNoWzVdICYmIG1hdGNoWzJdOwoKCQkJaWYgKCBtYXRjaEV4cHJbIkNISUxEIl0udGVzdCggbWF0Y2hbMF0gKSApIHsKCQkJCXJldHVybiBudWxsOwoJCQl9CgoJCQlpZiAoIG1hdGNoWzNdICYmIG1hdGNoWzRdICE9PSB1bmRlZmluZWQgKSB7CgkJCQltYXRjaFsyXSA9IG1hdGNoWzRdOwoKCQkJfSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmCgkJCQkoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmCgkJCQkoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggIikiLCB1bnF1b3RlZC5sZW5ndGggLSBleGNlc3MgKSAtIHVucXVvdGVkLmxlbmd0aCkgKSB7CgoJCQkJbWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSggMCwgZXhjZXNzICk7CgkJCQltYXRjaFsyXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTsKCQkJfQoKCQkJcmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7CgkJfQoJfSwKCglmaWx0ZXI6IHsKCgkJIlRBRyI6IGZ1bmN0aW9uKCBub2RlTmFtZVNlbGVjdG9yICkgewoJCQl2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTsKCQkJcmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09ICIqIiA/CgkJCQlmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0gOgoJCQkJZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQkJcmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTsKCQkJCX07CgkJfSwKCgkJIkNMQVNTIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHsKCQkJdmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyAiICIgXTsKCgkJCXJldHVybiBwYXR0ZXJuIHx8CgkJCQkocGF0dGVybiA9IG5ldyBSZWdFeHAoICIoXnwiICsgd2hpdGVzcGFjZSArICIpIiArIGNsYXNzTmFtZSArICIoIiArIHdoaXRlc3BhY2UgKyAifCQpIiApKSAmJgoJCQkJY2xhc3NDYWNoZSggY2xhc3NOYW1lLCBmdW5jdGlvbiggZWxlbSApIHsKCQkJCQlyZXR1cm4gcGF0dGVybi50ZXN0KCB0eXBlb2YgZWxlbS5jbGFzc05hbWUgPT09ICJzdHJpbmciICYmIGVsZW0uY2xhc3NOYW1lIHx8IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gc3RydW5kZWZpbmVkICYmIGVsZW0uZ2V0QXR0cmlidXRlKCJjbGFzcyIpIHx8ICIiICk7CgkJCQl9KTsKCQl9LAoKCQkiQVRUUiI6IGZ1bmN0aW9uKCBuYW1lLCBvcGVyYXRvciwgY2hlY2sgKSB7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXZhciByZXN1bHQgPSBTaXp6bGUuYXR0ciggZWxlbSwgbmFtZSApOwoKCQkJCWlmICggcmVzdWx0ID09IG51bGwgKSB7CgkJCQkJcmV0dXJuIG9wZXJhdG9yID09PSAiIT0iOwoJCQkJfQoJCQkJaWYgKCAhb3BlcmF0b3IgKSB7CgkJCQkJcmV0dXJuIHRydWU7CgkJCQl9CgoJCQkJcmVzdWx0ICs9ICIiOwoKCQkJCXJldHVybiBvcGVyYXRvciA9PT0gIj0iID8gcmVzdWx0ID09PSBjaGVjayA6CgkJCQkJb3BlcmF0b3IgPT09ICIhPSIgPyByZXN1bHQgIT09IGNoZWNrIDoKCQkJCQlvcGVyYXRvciA9PT0gIl49IiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDoKCQkJCQlvcGVyYXRvciA9PT0gIio9IiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID4gLTEgOgoJCQkJCW9wZXJhdG9yID09PSAiJD0iID8gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKCAtY2hlY2subGVuZ3RoICkgPT09IGNoZWNrIDoKCQkJCQlvcGVyYXRvciA9PT0gIn49IiA/ICggIiAiICsgcmVzdWx0ICsgIiAiICkuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDoKCQkJCQlvcGVyYXRvciA9PT0gInw9IiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgIi0iIDoKCQkJCQlmYWxzZTsKCQkJfTsKCQl9LAoKCQkiQ0hJTEQiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkgewoJCQl2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSAibnRoIiwKCQkJCWZvcndhcmQgPSB0eXBlLnNsaWNlKCAtNCApICE9PSAibGFzdCIsCgkJCQlvZlR5cGUgPSB3aGF0ID09PSAib2YtdHlwZSI7CgoJCQlyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/CgoJCQkJZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQkJcmV0dXJuICEhZWxlbS5wYXJlbnROb2RlOwoJCQkJfSA6CgoJCQkJZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHsKCQkJCQl2YXIgY2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIGRpZmYsIG5vZGVJbmRleCwgc3RhcnQsCgkJCQkJCWRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/ICJuZXh0U2libGluZyIgOiAicHJldmlvdXNTaWJsaW5nIiwKCQkJCQkJcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLAoJCQkJCQluYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwKCQkJCQkJdXNlQ2FjaGUgPSAheG1sICYmICFvZlR5cGU7CgoJCQkJCWlmICggcGFyZW50ICkgewoKCQkJCQkJaWYgKCBzaW1wbGUgKSB7CgkJCQkJCQl3aGlsZSAoIGRpciApIHsKCQkJCQkJCQlub2RlID0gZWxlbTsKCQkJCQkJCQl3aGlsZSAoIChub2RlID0gbm9kZVsgZGlyIF0pICkgewoJCQkJCQkJCQlpZiAoIG9mVHlwZSA/IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6IG5vZGUubm9kZVR5cGUgPT09IDEgKSB7CgkJCQkJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQkJc3RhcnQgPSBkaXIgPSB0eXBlID09PSAib25seSIgJiYgIXN0YXJ0ICYmICJuZXh0U2libGluZyI7CgkJCQkJCQl9CgkJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQkJfQoKCQkJCQkJc3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTsKCgkJCQkJCWlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHsKCQkJCQkJCW91dGVyQ2FjaGUgPSBwYXJlbnRbIGV4cGFuZG8gXSB8fCAocGFyZW50WyBleHBhbmRvIF0gPSB7fSk7CgkJCQkJCQljYWNoZSA9IG91dGVyQ2FjaGVbIHR5cGUgXSB8fCBbXTsKCQkJCQkJCW5vZGVJbmRleCA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzFdOwoJCQkJCQkJZGlmZiA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzJdOwoJCQkJCQkJbm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07CgoJCQkJCQkJd2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHwKCgkJCQkJCQkJKGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7CgoJCQkJCQkJCWlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHsKCQkJCQkJCQkJb3V0ZXJDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBub2RlSW5kZXgsIGRpZmYgXTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJfQoJCQkJCQkJfQoKCQkJCQkJfSBlbHNlIGlmICggdXNlQ2FjaGUgJiYgKGNhY2hlID0gKGVsZW1bIGV4cGFuZG8gXSB8fCAoZWxlbVsgZXhwYW5kbyBdID0ge30pKVsgdHlwZSBdKSAmJiBjYWNoZVswXSA9PT0gZGlycnVucyApIHsKCQkJCQkJCWRpZmYgPSBjYWNoZVsxXTsKCgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fAoJCQkJCQkJCShkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkgewoKCQkJCQkJCQlpZiAoICggb2ZUeXBlID8gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDogbm9kZS5ub2RlVHlwZSA9PT0gMSApICYmICsrZGlmZiApIHsKCQkJCQkJCQkJaWYgKCB1c2VDYWNoZSApIHsKCQkJCQkJCQkJCShub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KSlbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdOwoJCQkJCQkJCQl9CgoJCQkJCQkJCQlpZiAoIG5vZGUgPT09IGVsZW0gKSB7CgkJCQkJCQkJCQlicmVhazsKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJfQoKCQkJCQkJZGlmZiAtPSBsYXN0OwoJCQkJCQlyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTsKCQkJCQl9CgkJCQl9OwoJCX0sCgoJCSJQU0VVRE8iOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHsKCQkJdmFyIGFyZ3MsCgkJCQlmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8CgkJCQkJU2l6emxlLmVycm9yKCAidW5zdXBwb3J0ZWQgcHNldWRvOiAiICsgcHNldWRvICk7CgoJCQlpZiAoIGZuWyBleHBhbmRvIF0gKSB7CgkJCQlyZXR1cm4gZm4oIGFyZ3VtZW50ICk7CgkJCX0KCgkJCWlmICggZm4ubGVuZ3RoID4gMSApIHsKCQkJCWFyZ3MgPSBbIHBzZXVkbywgcHNldWRvLCAiIiwgYXJndW1lbnQgXTsKCQkJCXJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgPwoJCQkJCW1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHsKCQkJCQkJdmFyIGlkeCwKCQkJCQkJCW1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSwKCQkJCQkJCWkgPSBtYXRjaGVkLmxlbmd0aDsKCQkJCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQkJCQlpZHggPSBpbmRleE9mLmNhbGwoIHNlZWQsIG1hdGNoZWRbaV0gKTsKCQkJCQkJCXNlZWRbIGlkeCBdID0gISggbWF0Y2hlc1sgaWR4IF0gPSBtYXRjaGVkW2ldICk7CgkJCQkJCX0KCQkJCQl9KSA6CgkJCQkJZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQkJCXJldHVybiBmbiggZWxlbSwgMCwgYXJncyApOwoJCQkJCX07CgkJCX0KCgkJCXJldHVybiBmbjsKCQl9Cgl9LAoKCXBzZXVkb3M6IHsKCQkibm90IjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHsKCQkJdmFyIGlucHV0ID0gW10sCgkJCQlyZXN1bHRzID0gW10sCgkJCQltYXRjaGVyID0gY29tcGlsZSggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sICIkMSIgKSApOwoKCQkJcmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/CgkJCQltYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMsIGNvbnRleHQsIHhtbCApIHsKCQkJCQl2YXIgZWxlbSwKCQkJCQkJdW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLAoJCQkJCQlpID0gc2VlZC5sZW5ndGg7CgoJCQkJCXdoaWxlICggaS0tICkgewoJCQkJCQlpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHsKCQkJCQkJCXNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0pIDoKCQkJCWZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7CgkJCQkJaW5wdXRbMF0gPSBlbGVtOwoJCQkJCW1hdGNoZXIoIGlucHV0LCBudWxsLCB4bWwsIHJlc3VsdHMgKTsKCQkJCQlyZXR1cm4gIXJlc3VsdHMucG9wKCk7CgkJCQl9OwoJCX0pLAoKCQkiaGFzIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHsKCQkJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgewoJCQkJcmV0dXJuIFNpenpsZSggc2VsZWN0b3IsIGVsZW0gKS5sZW5ndGggPiAwOwoJCQl9OwoJCX0pLAoKCQkiY29udGFpbnMiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHRleHQgKSB7CgkJCXJldHVybiBmdW5jdGlvbiggZWxlbSApIHsKCQkJCXJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZWxlbS5pbm5lclRleHQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7CgkJCX07CgkJfSksCgoJCSJsYW5nIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHsKCQkJaWYgKCAhcmlkZW50aWZpZXIudGVzdChsYW5nIHx8ICIiKSApIHsKCQkJCVNpenpsZS5lcnJvciggInVuc3VwcG9ydGVkIGxhbmc6ICIgKyBsYW5nICk7CgkJCX0KCQkJbGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpOwoJCQlyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7CgkJCQl2YXIgZWxlbUxhbmc7CgkJCQlkbyB7CgkJCQkJaWYgKCAoZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/CgkJCQkJCWVsZW0ubGFuZyA6CgkJCQkJCWVsZW0uZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKCJsYW5nIikpICkgewoKCQkJCQkJZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpOwoJCQkJCQlyZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArICItIiApID09PSAwOwoJCQkJCX0KCQkJCX0gd2hpbGUgKCAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9OwoJCX0pLAoKCQkidGFyZ2V0IjogZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoOwoJCQlyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7CgkJfSwKCgkJInJvb3QiOiBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGVsZW0gPT09IGRvY0VsZW07CgkJfSwKCgkJImZvY3VzIjogZnVuY3Rpb24oIGVsZW0gKSB7CgkJCXJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICghZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSkgJiYgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCk7CgkJfSwKCgkJImVuYWJsZWQiOiBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlOwoJCX0sCgoJCSJkaXNhYmxlZCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZTsKCQl9LAoKCQkiY2hlY2tlZCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQl2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CgkJCXJldHVybiAobm9kZU5hbWUgPT09ICJpbnB1dCIgJiYgISFlbGVtLmNoZWNrZWQpIHx8IChub2RlTmFtZSA9PT0gIm9wdGlvbiIgJiYgISFlbGVtLnNlbGVjdGVkKTsKCQl9LAoKCQkic2VsZWN0ZWQiOiBmdW5jdGlvbiggZWxlbSApIHsKCQkJaWYgKCBlbGVtLnBhcmVudE5vZGUgKSB7CgkJCQllbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDsKCQkJfQoKCQkJcmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7CgkJfSwKCgkJImVtcHR5IjogZnVuY3Rpb24oIGVsZW0gKSB7CgkJCWZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkgewoJCQkJaWYgKCBlbGVtLm5vZGVUeXBlIDwgNiApIHsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIHRydWU7CgkJfSwKCgkJInBhcmVudCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gIUV4cHIucHNldWRvc1siZW1wdHkiXSggZWxlbSApOwoJCX0sCgoJCSJoZWFkZXIiOiBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIHJoZWFkZXIudGVzdCggZWxlbS5ub2RlTmFtZSApOwoJCX0sCgoJCSJpbnB1dCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7CgkJfSwKCgkJImJ1dHRvbiI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQl2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCQkJcmV0dXJuIG5hbWUgPT09ICJpbnB1dCIgJiYgZWxlbS50eXBlID09PSAiYnV0dG9uIiB8fCBuYW1lID09PSAiYnV0dG9uIjsKCQl9LAoKCQkidGV4dCI6IGZ1bmN0aW9uKCBlbGVtICkgewoJCQl2YXIgYXR0cjsKCQkJcmV0dXJuIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gImlucHV0IiAmJgoJCQkJZWxlbS50eXBlID09PSAidGV4dCIgJiYKCgkJCQkoIChhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkgPT0gbnVsbCB8fCBhdHRyLnRvTG93ZXJDYXNlKCkgPT09ICJ0ZXh0IiApOwoJCX0sCgoJCSJmaXJzdCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oKSB7CgkJCXJldHVybiBbIDAgXTsKCQl9KSwKCgkJImxhc3QiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHsKCQkJcmV0dXJuIFsgbGVuZ3RoIC0gMSBdOwoJCX0pLAoKCQkiZXEiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7CgkJCXJldHVybiBbIGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQgXTsKCQl9KSwKCgkJImV2ZW4iOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHsKCQkJdmFyIGkgPSAwOwoJCQlmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHsKCQkJCW1hdGNoSW5kZXhlcy5wdXNoKCBpICk7CgkJCX0KCQkJcmV0dXJuIG1hdGNoSW5kZXhlczsKCQl9KSwKCgkJIm9kZCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkgewoJCQl2YXIgaSA9IDE7CgkJCWZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkgewoJCQkJbWF0Y2hJbmRleGVzLnB1c2goIGkgKTsKCQkJfQoJCQlyZXR1cm4gbWF0Y2hJbmRleGVzOwoJCX0pLAoKCQkibHQiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7CgkJCXZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDsKCQkJZm9yICggOyAtLWkgPj0gMDsgKSB7CgkJCQltYXRjaEluZGV4ZXMucHVzaCggaSApOwoJCQl9CgkJCXJldHVybiBtYXRjaEluZGV4ZXM7CgkJfSksCgoJCSJndCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHsKCQkJdmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50OwoJCQlmb3IgKCA7ICsraSA8IGxlbmd0aDsgKSB7CgkJCQltYXRjaEluZGV4ZXMucHVzaCggaSApOwoJCQl9CgkJCXJldHVybiBtYXRjaEluZGV4ZXM7CgkJfSkKCX0KfTsKCkV4cHIucHNldWRvc1sibnRoIl0gPSBFeHByLnBzZXVkb3NbImVxIl07Cgpmb3IgKCBpIGluIHsgcmFkaW86IHRydWUsIGNoZWNrYm94OiB0cnVlLCBmaWxlOiB0cnVlLCBwYXNzd29yZDogdHJ1ZSwgaW1hZ2U6IHRydWUgfSApIHsKCUV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlSW5wdXRQc2V1ZG8oIGkgKTsKfQpmb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkgewoJRXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oIGkgKTsKfQoKZnVuY3Rpb24gc2V0RmlsdGVycygpIHt9CnNldEZpbHRlcnMucHJvdG90eXBlID0gRXhwci5maWx0ZXJzID0gRXhwci5wc2V1ZG9zOwpFeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpOwoKZnVuY3Rpb24gdG9rZW5pemUoIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7Cgl2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSwKCQlzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLAoJCWNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgIiAiIF07CgoJaWYgKCBjYWNoZWQgKSB7CgkJcmV0dXJuIHBhcnNlT25seSA/IDAgOiBjYWNoZWQuc2xpY2UoIDAgKTsKCX0KCglzb0ZhciA9IHNlbGVjdG9yOwoJZ3JvdXBzID0gW107CglwcmVGaWx0ZXJzID0gRXhwci5wcmVGaWx0ZXI7CgoJd2hpbGUgKCBzb0ZhciApIHsKCgkJaWYgKCAhbWF0Y2hlZCB8fCAobWF0Y2ggPSByY29tbWEuZXhlYyggc29GYXIgKSkgKSB7CgkJCWlmICggbWF0Y2ggKSB7CgkJCQlzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaFswXS5sZW5ndGggKSB8fCBzb0ZhcjsKCQkJfQoJCQlncm91cHMucHVzaCggKHRva2VucyA9IFtdKSApOwoJCX0KCgkJbWF0Y2hlZCA9IGZhbHNlOwoKCQlpZiAoIChtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApKSApIHsKCQkJbWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7CgkJCXRva2Vucy5wdXNoKHsKCQkJCXZhbHVlOiBtYXRjaGVkLAoJCQkJdHlwZTogbWF0Y2hbMF0ucmVwbGFjZSggcnRyaW0sICIgIiApCgkJCX0pOwoJCQlzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApOwoJCX0KCgkJZm9yICggdHlwZSBpbiBFeHByLmZpbHRlciApIHsKCQkJaWYgKCAobWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApKSAmJiAoIXByZUZpbHRlcnNbIHR5cGUgXSB8fAoJCQkJKG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApKSkgKSB7CgkJCQltYXRjaGVkID0gbWF0Y2guc2hpZnQoKTsKCQkJCXRva2Vucy5wdXNoKHsKCQkJCQl2YWx1ZTogbWF0Y2hlZCwKCQkJCQl0eXBlOiB0eXBlLAoJCQkJCW1hdGNoZXM6IG1hdGNoCgkJCQl9KTsKCQkJCXNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7CgkJCX0KCQl9CgoJCWlmICggIW1hdGNoZWQgKSB7CgkJCWJyZWFrOwoJCX0KCX0KCglyZXR1cm4gcGFyc2VPbmx5ID8KCQlzb0Zhci5sZW5ndGggOgoJCXNvRmFyID8KCQkJU2l6emxlLmVycm9yKCBzZWxlY3RvciApIDoKCQkJdG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7Cn0KCmZ1bmN0aW9uIHRvU2VsZWN0b3IoIHRva2VucyApIHsKCXZhciBpID0gMCwKCQlsZW4gPSB0b2tlbnMubGVuZ3RoLAoJCXNlbGVjdG9yID0gIiI7Cglmb3IgKCA7IGkgPCBsZW47IGkrKyApIHsKCQlzZWxlY3RvciArPSB0b2tlbnNbaV0udmFsdWU7Cgl9CglyZXR1cm4gc2VsZWN0b3I7Cn0KCmZ1bmN0aW9uIGFkZENvbWJpbmF0b3IoIG1hdGNoZXIsIGNvbWJpbmF0b3IsIGJhc2UgKSB7Cgl2YXIgZGlyID0gY29tYmluYXRvci5kaXIsCgkJY2hlY2tOb25FbGVtZW50cyA9IGJhc2UgJiYgZGlyID09PSAicGFyZW50Tm9kZSIsCgkJZG9uZU5hbWUgPSBkb25lKys7CgoJcmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgPwoJCWZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7CgkJCXdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7CgkJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHsKCQkJCQlyZXR1cm4gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICk7CgkJCQl9CgkJCX0KCQl9IDoKCgkJZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHsKCQkJdmFyIG9sZENhY2hlLCBvdXRlckNhY2hlLAoJCQkJbmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07CgoJCQlpZiAoIHhtbCApIHsKCQkJCXdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7CgkJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7CgkJCQkJCWlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7CgkJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfSBlbHNlIHsKCQkJCXdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7CgkJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7CgkJCQkJCW91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKGVsZW1bIGV4cGFuZG8gXSA9IHt9KTsKCQkJCQkJaWYgKCAob2xkQ2FjaGUgPSBvdXRlckNhY2hlWyBkaXIgXSkgJiYKCQkJCQkJCW9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7CgoJCQkJCQkJcmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQlvdXRlckNhY2hlWyBkaXIgXSA9IG5ld0NhY2hlOwoKCQkJCQkJCWlmICggKG5ld0NhY2hlWyAyIF0gPSBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSkgKSB7CgkJCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCQl9Owp9CgpmdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7CglyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/CgkJZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHsKCQkJdmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7CgkJCXdoaWxlICggaS0tICkgewoJCQkJaWYgKCAhbWF0Y2hlcnNbaV0oIGVsZW0sIGNvbnRleHQsIHhtbCApICkgewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJfQoJCQlyZXR1cm4gdHJ1ZTsKCQl9IDoKCQltYXRjaGVyc1swXTsKfQoKZnVuY3Rpb24gbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IsIGNvbnRleHRzLCByZXN1bHRzICkgewoJdmFyIGkgPSAwLAoJCWxlbiA9IGNvbnRleHRzLmxlbmd0aDsKCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgewoJCVNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzICk7Cgl9CglyZXR1cm4gcmVzdWx0czsKfQoKZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHsKCXZhciBlbGVtLAoJCW5ld1VubWF0Y2hlZCA9IFtdLAoJCWkgPSAwLAoJCWxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsCgkJbWFwcGVkID0gbWFwICE9IG51bGw7CgoJZm9yICggOyBpIDwgbGVuOyBpKysgKSB7CgkJaWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7CgkJCWlmICggIWZpbHRlciB8fCBmaWx0ZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgewoJCQkJbmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTsKCQkJCWlmICggbWFwcGVkICkgewoJCQkJCW1hcC5wdXNoKCBpICk7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcmV0dXJuIG5ld1VubWF0Y2hlZDsKfQoKZnVuY3Rpb24gc2V0TWF0Y2hlciggcHJlRmlsdGVyLCBzZWxlY3RvciwgbWF0Y2hlciwgcG9zdEZpbHRlciwgcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICkgewoJaWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7CgkJcG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTsKCX0KCWlmICggcG9zdEZpbmRlciAmJiAhcG9zdEZpbmRlclsgZXhwYW5kbyBdICkgewoJCXBvc3RGaW5kZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKTsKCX0KCXJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIHJlc3VsdHMsIGNvbnRleHQsIHhtbCApIHsKCQl2YXIgdGVtcCwgaSwgZWxlbSwKCQkJcHJlTWFwID0gW10sCgkJCXBvc3RNYXAgPSBbXSwKCQkJcHJlZXhpc3RpbmcgPSByZXN1bHRzLmxlbmd0aCwKCgkJCWVsZW1zID0gc2VlZCB8fCBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciB8fCAiKiIsIGNvbnRleHQubm9kZVR5cGUgPyBbIGNvbnRleHQgXSA6IGNvbnRleHQsIFtdICksCgoJCQltYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKCBzZWVkIHx8ICFzZWxlY3RvciApID8KCQkJCWNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDoKCQkJCWVsZW1zLAoKCQkJbWF0Y2hlck91dCA9IG1hdGNoZXIgPwoJCQkJcG9zdEZpbmRlciB8fCAoIHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyICkgPwoKCQkJCQlbXSA6CgoJCQkJCXJlc3VsdHMgOgoJCQkJbWF0Y2hlckluOwoKCQlpZiAoIG1hdGNoZXIgKSB7CgkJCW1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7CgkJfQoKCQlpZiAoIHBvc3RGaWx0ZXIgKSB7CgkJCXRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApOwoJCQlwb3N0RmlsdGVyKCB0ZW1wLCBbXSwgY29udGV4dCwgeG1sICk7CgoJCQlpID0gdGVtcC5sZW5ndGg7CgkJCXdoaWxlICggaS0tICkgewoJCQkJaWYgKCAoZWxlbSA9IHRlbXBbaV0pICkgewoJCQkJCW1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTsKCQkJCX0KCQkJfQoJCX0KCgkJaWYgKCBzZWVkICkgewoJCQlpZiAoIHBvc3RGaW5kZXIgfHwgcHJlRmlsdGVyICkgewoJCQkJaWYgKCBwb3N0RmluZGVyICkgewoJCQkJCXRlbXAgPSBbXTsKCQkJCQlpID0gbWF0Y2hlck91dC5sZW5ndGg7CgkJCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQkJCWlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSApIHsKCQkJCQkJCXRlbXAucHVzaCggKG1hdGNoZXJJbltpXSA9IGVsZW0pICk7CgkJCQkJCX0KCQkJCQl9CgkJCQkJcG9zdEZpbmRlciggbnVsbCwgKG1hdGNoZXJPdXQgPSBbXSksIHRlbXAsIHhtbCApOwoJCQkJfQoKCQkJCWkgPSBtYXRjaGVyT3V0Lmxlbmd0aDsKCQkJCXdoaWxlICggaS0tICkgewoJCQkJCWlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJgoJCQkJCQkodGVtcCA9IHBvc3RGaW5kZXIgPyBpbmRleE9mLmNhbGwoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFtpXSkgPiAtMSApIHsKCgkJCQkJCXNlZWRbdGVtcF0gPSAhKHJlc3VsdHNbdGVtcF0gPSBlbGVtKTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJfSBlbHNlIHsKCQkJbWF0Y2hlck91dCA9IGNvbmRlbnNlKAoJCQkJbWF0Y2hlck91dCA9PT0gcmVzdWx0cyA/CgkJCQkJbWF0Y2hlck91dC5zcGxpY2UoIHByZWV4aXN0aW5nLCBtYXRjaGVyT3V0Lmxlbmd0aCApIDoKCQkJCQltYXRjaGVyT3V0CgkJCSk7CgkJCWlmICggcG9zdEZpbmRlciApIHsKCQkJCXBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApOwoJCQl9IGVsc2UgewoJCQkJcHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7Cgl2YXIgY2hlY2tDb250ZXh0LCBtYXRjaGVyLCBqLAoJCWxlbiA9IHRva2Vucy5sZW5ndGgsCgkJbGVhZGluZ1JlbGF0aXZlID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zWzBdLnR5cGUgXSwKCQlpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZlIHx8IEV4cHIucmVsYXRpdmVbIiAiXSwKCQlpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsCgoJCW1hdGNoQ29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkgewoJCQlyZXR1cm4gZWxlbSA9PT0gY2hlY2tDb250ZXh0OwoJCX0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSwKCQltYXRjaEFueUNvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHsKCQkJcmV0dXJuIGluZGV4T2YuY2FsbCggY2hlY2tDb250ZXh0LCBlbGVtICkgPiAtMTsKCQl9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksCgkJbWF0Y2hlcnMgPSBbIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7CgkJCXJldHVybiAoICFsZWFkaW5nUmVsYXRpdmUgJiYgKCB4bWwgfHwgY29udGV4dCAhPT0gb3V0ZXJtb3N0Q29udGV4dCApICkgfHwgKAoJCQkJKGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVUeXBlID8KCQkJCQltYXRjaENvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApIDoKCQkJCQltYXRjaEFueUNvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApICk7CgkJfSBdOwoKCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgewoJCWlmICggKG1hdGNoZXIgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbaV0udHlwZSBdKSApIHsKCQkJbWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07CgkJfSBlbHNlIHsKCQkJbWF0Y2hlciA9IEV4cHIuZmlsdGVyWyB0b2tlbnNbaV0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbaV0ubWF0Y2hlcyApOwoKCQkJaWYgKCBtYXRjaGVyWyBleHBhbmRvIF0gKSB7CgkJCQlqID0gKytpOwoJCQkJZm9yICggOyBqIDwgbGVuOyBqKysgKSB7CgkJCQkJaWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkgewoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCQlyZXR1cm4gc2V0TWF0Y2hlcigKCQkJCQlpID4gMSAmJiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwKCQkJCQlpID4gMSAmJiB0b1NlbGVjdG9yKAoJCQkJCQl0b2tlbnMuc2xpY2UoIDAsIGkgLSAxICkuY29uY2F0KHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSAiICIgPyAiKiIgOiAiIiB9KQoJCQkJCSkucmVwbGFjZSggcnRyaW0sICIkMSIgKSwKCQkJCQltYXRjaGVyLAoJCQkJCWkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLAoJCQkJCWogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSwKCQkJCQlqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApCgkJCQkpOwoJCQl9CgkJCW1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTsKCQl9Cgl9CgoJcmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApOwp9CgpmdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7Cgl2YXIgYnlTZXQgPSBzZXRNYXRjaGVycy5sZW5ndGggPiAwLAoJCWJ5RWxlbWVudCA9IGVsZW1lbnRNYXRjaGVycy5sZW5ndGggPiAwLAoJCXN1cGVyTWF0Y2hlciA9IGZ1bmN0aW9uKCBzZWVkLCBjb250ZXh0LCB4bWwsIHJlc3VsdHMsIG91dGVybW9zdCApIHsKCQkJdmFyIGVsZW0sIGosIG1hdGNoZXIsCgkJCQltYXRjaGVkQ291bnQgPSAwLAoJCQkJaSA9ICIwIiwKCQkJCXVubWF0Y2hlZCA9IHNlZWQgJiYgW10sCgkJCQlzZXRNYXRjaGVkID0gW10sCgkJCQljb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCwKCQkJCWVsZW1zID0gc2VlZCB8fCBieUVsZW1lbnQgJiYgRXhwci5maW5kWyJUQUciXSggIioiLCBvdXRlcm1vc3QgKSwKCQkJCWRpcnJ1bnNVbmlxdWUgPSAoZGlycnVucyArPSBjb250ZXh0QmFja3VwID09IG51bGwgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAwLjEpLAoJCQkJbGVuID0gZWxlbXMubGVuZ3RoOwoKCQkJaWYgKCBvdXRlcm1vc3QgKSB7CgkJCQlvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCAhPT0gZG9jdW1lbnQgJiYgY29udGV4dDsKCQkJfQoKCQkJZm9yICggOyBpICE9PSBsZW4gJiYgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkgewoJCQkJaWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHsKCQkJCQlqID0gMDsKCQkJCQl3aGlsZSAoIChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pICkgewoJCQkJCQlpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgewoJCQkJCQkJcmVzdWx0cy5wdXNoKCBlbGVtICk7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCX0KCQkJCQlpZiAoIG91dGVybW9zdCApIHsKCQkJCQkJZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7CgkJCQkJfQoJCQkJfQoKCQkJCWlmICggYnlTZXQgKSB7CgkJCQkJaWYgKCAoZWxlbSA9ICFtYXRjaGVyICYmIGVsZW0pICkgewoJCQkJCQltYXRjaGVkQ291bnQtLTsKCQkJCQl9CgoJCQkJCWlmICggc2VlZCApIHsKCQkJCQkJdW5tYXRjaGVkLnB1c2goIGVsZW0gKTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCW1hdGNoZWRDb3VudCArPSBpOwoJCQlpZiAoIGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCApIHsKCQkJCWogPSAwOwoJCQkJd2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkgewoJCQkJCW1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7CgkJCQl9CgoJCQkJaWYgKCBzZWVkICkgewoJCQkJCWlmICggbWF0Y2hlZENvdW50ID4gMCApIHsKCQkJCQkJd2hpbGUgKCBpLS0gKSB7CgkJCQkJCQlpZiAoICEodW5tYXRjaGVkW2ldIHx8IHNldE1hdGNoZWRbaV0pICkgewoJCQkJCQkJCXNldE1hdGNoZWRbaV0gPSBwb3AuY2FsbCggcmVzdWx0cyApOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoKCQkJCQlzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTsKCQkJCX0KCgkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7CgoJCQkJaWYgKCBvdXRlcm1vc3QgJiYgIXNlZWQgJiYgc2V0TWF0Y2hlZC5sZW5ndGggPiAwICYmCgkJCQkJKCBtYXRjaGVkQ291bnQgKyBzZXRNYXRjaGVycy5sZW5ndGggKSA+IDEgKSB7CgoJCQkJCVNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7CgkJCQl9CgkJCX0KCgkJCWlmICggb3V0ZXJtb3N0ICkgewoJCQkJZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7CgkJCQlvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDsKCQkJfQoKCQkJcmV0dXJuIHVubWF0Y2hlZDsKCQl9OwoKCXJldHVybiBieVNldCA/CgkJbWFya0Z1bmN0aW9uKCBzdXBlck1hdGNoZXIgKSA6CgkJc3VwZXJNYXRjaGVyOwp9Cgpjb21waWxlID0gU2l6emxlLmNvbXBpbGUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIG1hdGNoIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkgewoJdmFyIGksCgkJc2V0TWF0Y2hlcnMgPSBbXSwKCQllbGVtZW50TWF0Y2hlcnMgPSBbXSwKCQljYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArICIgIiBdOwoKCWlmICggIWNhY2hlZCApIHsKCQlpZiAoICFtYXRjaCApIHsKCQkJbWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTsKCQl9CgkJaSA9IG1hdGNoLmxlbmd0aDsKCQl3aGlsZSAoIGktLSApIHsKCQkJY2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMoIG1hdGNoW2ldICk7CgkJCWlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7CgkJCQlzZXRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTsKCQkJfSBlbHNlIHsKCQkJCWVsZW1lbnRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTsKCQkJfQoJCX0KCgkJY2FjaGVkID0gY29tcGlsZXJDYWNoZSggc2VsZWN0b3IsIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApICk7CgoJCWNhY2hlZC5zZWxlY3RvciA9IHNlbGVjdG9yOwoJfQoJcmV0dXJuIGNhY2hlZDsKfTsKCi8qKgogKiBBIGxvdy1sZXZlbCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCB3b3JrcyB3aXRoIFNpenpsZSdzIGNvbXBpbGVkCiAqICBzZWxlY3RvciBmdW5jdGlvbnMKICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIEEgc2VsZWN0b3Igb3IgYSBwcmUtY29tcGlsZWQKICogIHNlbGVjdG9yIGZ1bmN0aW9uIGJ1aWx0IHdpdGggU2l6emxlLmNvbXBpbGUKICogQHBhcmFtIHtFbGVtZW50fSBjb250ZXh0CiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHRzXQogKiBAcGFyYW0ge0FycmF5fSBbc2VlZF0gQSBzZXQgb2YgZWxlbWVudHMgdG8gbWF0Y2ggYWdhaW5zdAogKi8Kc2VsZWN0ID0gU2l6emxlLnNlbGVjdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHsKCXZhciBpLCB0b2tlbnMsIHRva2VuLCB0eXBlLCBmaW5kLAoJCWNvbXBpbGVkID0gdHlwZW9mIHNlbGVjdG9yID09PSAiZnVuY3Rpb24iICYmIHNlbGVjdG9yLAoJCW1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoIChzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yKSApOwoKCXJlc3VsdHMgPSByZXN1bHRzIHx8IFtdOwoKCWlmICggbWF0Y2gubGVuZ3RoID09PSAxICkgewoKCQl0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7CgkJaWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09ICJJRCIgJiYKCQkJCXN1cHBvcnQuZ2V0QnlJZCAmJiBjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmCgkJCQlFeHByLnJlbGF0aXZlWyB0b2tlbnNbMV0udHlwZSBdICkgewoKCQkJY29udGV4dCA9ICggRXhwci5maW5kWyJJRCJdKCB0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0ICkgfHwgW10gKVswXTsKCQkJaWYgKCAhY29udGV4dCApIHsKCQkJCXJldHVybiByZXN1bHRzOwoKCQkJfSBlbHNlIGlmICggY29tcGlsZWQgKSB7CgkJCQljb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlOwoJCQl9CgoJCQlzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTsKCQl9CgoJCWkgPSBtYXRjaEV4cHJbIm5lZWRzQ29udGV4dCJdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDsKCQl3aGlsZSAoIGktLSApIHsKCQkJdG9rZW4gPSB0b2tlbnNbaV07CgoJCQlpZiAoIEV4cHIucmVsYXRpdmVbICh0eXBlID0gdG9rZW4udHlwZSkgXSApIHsKCQkJCWJyZWFrOwoJCQl9CgkJCWlmICggKGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSkgKSB7CgkJCQlpZiAoIChzZWVkID0gZmluZCgKCQkJCQl0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksCgkJCQkJcnNpYmxpbmcudGVzdCggdG9rZW5zWzBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dAoJCQkJKSkgKSB7CgoJCQkJCXRva2Vucy5zcGxpY2UoIGksIDEgKTsKCQkJCQlzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IoIHRva2VucyApOwoJCQkJCWlmICggIXNlbGVjdG9yICkgewoJCQkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7CgkJCQkJCXJldHVybiByZXN1bHRzOwoJCQkJCX0KCgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJKCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKAoJCXNlZWQsCgkJY29udGV4dCwKCQkhZG9jdW1lbnRJc0hUTUwsCgkJcmVzdWx0cywKCQlyc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0CgkpOwoJcmV0dXJuIHJlc3VsdHM7Cn07CgoKc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdCgiIikuc29ydCggc29ydE9yZGVyICkuam9pbigiIikgPT09IGV4cGFuZG87CgpzdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTsKCnNldERvY3VtZW50KCk7CgpzdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydChmdW5jdGlvbiggZGl2MSApIHsKCXJldHVybiBkaXYxLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSApICYgMTsKfSk7CgppZiAoICFhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHsKCWRpdi5pbm5lckhUTUwgPSAiPGEgaHJlZj0nIyc+PC9hPiI7CglyZXR1cm4gZGl2LmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIikgPT09ICIjIiA7Cn0pICkgewoJYWRkSGFuZGxlKCAidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHsKCQlpZiAoICFpc1hNTCApIHsKCQkJcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICJ0eXBlIiA/IDEgOiAyICk7CgkJfQoJfSk7Cn0KCmlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7CglkaXYuaW5uZXJIVE1MID0gIjxpbnB1dC8+IjsKCWRpdi5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggInZhbHVlIiwgIiIgKTsKCXJldHVybiBkaXYuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoICJ2YWx1ZSIgKSA9PT0gIiI7Cn0pICkgewoJYWRkSGFuZGxlKCAidmFsdWUiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7CgkJaWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAiaW5wdXQiICkgewoJCQlyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7CgkJfQoJfSk7Cn0KCmlmICggIWFzc2VydChmdW5jdGlvbiggZGl2ICkgewoJcmV0dXJuIGRpdi5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikgPT0gbnVsbDsKfSkgKSB7CglhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7CgkJdmFyIHZhbDsKCQlpZiAoICFpc1hNTCApIHsKCQkJcmV0dXJuIGVsZW1bIG5hbWUgXSA9PT0gdHJ1ZSA/IG5hbWUudG9Mb3dlckNhc2UoKSA6CgkJCQkJKHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApKSAmJiB2YWwuc3BlY2lmaWVkID8KCQkJCQl2YWwudmFsdWUgOgoJCQkJbnVsbDsKCQl9Cgl9KTsKfQoKaWYgKCB0eXBlb2YgZGVmaW5lID09PSAiZnVuY3Rpb24iICYmIGRlZmluZS5hbWQgKSB7CglkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBTaXp6bGU7IH0pOwp9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlICE9PSAidW5kZWZpbmVkIiAmJiBtb2R1bGUuZXhwb3J0cyApIHsKCW1vZHVsZS5leHBvcnRzID0gU2l6emxlOwp9IGVsc2UgewoJd2luZG93LlNpenpsZSA9IFNpenpsZTsKfQoKfSkoIHdpbmRvdyApOwoKOyhmdW5jdGlvbihlbmdpbmUpIHsKICB2YXIgZXh0ZW5kRWxlbWVudHMgPSBQcm90b3R5cGUuU2VsZWN0b3IuZXh0ZW5kRWxlbWVudHM7CgogIGZ1bmN0aW9uIHNlbGVjdChzZWxlY3Rvciwgc2NvcGUpIHsKICAgIHJldHVybiBleHRlbmRFbGVtZW50cyhlbmdpbmUoc2VsZWN0b3IsIHNjb3BlIHx8IGRvY3VtZW50KSk7CiAgfQoKICBmdW5jdGlvbiBtYXRjaChlbGVtZW50LCBzZWxlY3RvcikgewogICAgcmV0dXJuIGVuZ2luZS5tYXRjaGVzKHNlbGVjdG9yLCBbZWxlbWVudF0pLmxlbmd0aCA9PSAxOwogIH0KCiAgUHJvdG90eXBlLlNlbGVjdG9yLmVuZ2luZSA9IGVuZ2luZTsKICBQcm90b3R5cGUuU2VsZWN0b3Iuc2VsZWN0ID0gc2VsZWN0OwogIFByb3RvdHlwZS5TZWxlY3Rvci5tYXRjaCA9IG1hdGNoOwp9KShTaXp6bGUpOwoKd2luZG93LlNpenpsZSA9IFByb3RvdHlwZS5fb3JpZ2luYWxfcHJvcGVydHk7CmRlbGV0ZSBQcm90b3R5cGUuX29yaWdpbmFsX3Byb3BlcnR5OwoKdmFyIEZvcm0gPSB7CiAgcmVzZXQ6IGZ1bmN0aW9uKGZvcm0pIHsKICAgIGZvcm0gPSAkKGZvcm0pOwogICAgZm9ybS5yZXNldCgpOwogICAgcmV0dXJuIGZvcm07CiAgfSwKCiAgc2VyaWFsaXplRWxlbWVudHM6IGZ1bmN0aW9uKGVsZW1lbnRzLCBvcHRpb25zKSB7CiAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT0gJ29iamVjdCcpIG9wdGlvbnMgPSB7IGhhc2g6ICEhb3B0aW9ucyB9OwogICAgZWxzZSBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKG9wdGlvbnMuaGFzaCkpIG9wdGlvbnMuaGFzaCA9IHRydWU7CiAgICB2YXIga2V5LCB2YWx1ZSwgc3VibWl0dGVkID0gZmFsc2UsIHN1Ym1pdCA9IG9wdGlvbnMuc3VibWl0LCBhY2N1bXVsYXRvciwgaW5pdGlhbDsKCiAgICBpZiAob3B0aW9ucy5oYXNoKSB7CiAgICAgIGluaXRpYWwgPSB7fTsKICAgICAgYWNjdW11bGF0b3IgPSBmdW5jdGlvbihyZXN1bHQsIGtleSwgdmFsdWUpIHsKICAgICAgICBpZiAoa2V5IGluIHJlc3VsdCkgewogICAgICAgICAgaWYgKCFPYmplY3QuaXNBcnJheShyZXN1bHRba2V5XSkpIHJlc3VsdFtrZXldID0gW3Jlc3VsdFtrZXldXTsKICAgICAgICAgIHJlc3VsdFtrZXldID0gcmVzdWx0W2tleV0uY29uY2F0KHZhbHVlKTsKICAgICAgICB9IGVsc2UgcmVzdWx0W2tleV0gPSB2YWx1ZTsKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgaW5pdGlhbCA9ICcnOwogICAgICBhY2N1bXVsYXRvciA9IGZ1bmN0aW9uKHJlc3VsdCwga2V5LCB2YWx1ZXMpIHsKICAgICAgICBpZiAoIU9iamVjdC5pc0FycmF5KHZhbHVlcykpIHt2YWx1ZXMgPSBbdmFsdWVzXTt9CiAgICAgICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7cmV0dXJuIHJlc3VsdDt9CiAgICAgICAgdmFyIGVuY29kZWRLZXkgPSBlbmNvZGVVUklDb21wb25lbnQoa2V5KS5nc3ViKC8lMjAvLCAnKycpOwogICAgICAgIHJldHVybiByZXN1bHQgKyAocmVzdWx0ID8gIiYiIDogIiIpICsgdmFsdWVzLm1hcChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIHZhbHVlID0gdmFsdWUuZ3N1YigvKFxyKT9cbi8sICdcclxuJyk7CiAgICAgICAgICB2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7CiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmdzdWIoLyUyMC8sICcrJyk7CiAgICAgICAgICByZXR1cm4gZW5jb2RlZEtleSArICI9IiArIHZhbHVlOwogICAgICAgIH0pLmpvaW4oIiYiKTsKICAgICAgfTsKICAgIH0KCiAgICByZXR1cm4gZWxlbWVudHMuaW5qZWN0KGluaXRpYWwsIGZ1bmN0aW9uKHJlc3VsdCwgZWxlbWVudCkgewogICAgICBpZiAoIWVsZW1lbnQuZGlzYWJsZWQgJiYgZWxlbWVudC5uYW1lKSB7CiAgICAgICAga2V5ID0gZWxlbWVudC5uYW1lOyB2YWx1ZSA9ICQoZWxlbWVudCkuZ2V0VmFsdWUoKTsKICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiBlbGVtZW50LnR5cGUgIT0gJ2ZpbGUnICYmIChlbGVtZW50LnR5cGUgIT0gJ3N1Ym1pdCcgfHwgKCFzdWJtaXR0ZWQgJiYKICAgICAgICAgICAgc3VibWl0ICE9PSBmYWxzZSAmJiAoIXN1Ym1pdCB8fCBrZXkgPT0gc3VibWl0KSAmJiAoc3VibWl0dGVkID0gdHJ1ZSkpKSkgewogICAgICAgICAgcmVzdWx0ID0gYWNjdW11bGF0b3IocmVzdWx0LCBrZXksIHZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0pOwogIH0KfTsKCkZvcm0uTWV0aG9kcyA9IHsKICBzZXJpYWxpemU6IGZ1bmN0aW9uKGZvcm0sIG9wdGlvbnMpIHsKICAgIHJldHVybiBGb3JtLnNlcmlhbGl6ZUVsZW1lbnRzKEZvcm0uZ2V0RWxlbWVudHMoZm9ybSksIG9wdGlvbnMpOwogIH0sCgoKICBnZXRFbGVtZW50czogZnVuY3Rpb24oZm9ybSkgewogICAgdmFyIGVsZW1lbnRzID0gJChmb3JtKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpOwogICAgdmFyIGVsZW1lbnQsIHJlc3VsdHMgPSBbXSwgc2VyaWFsaXplcnMgPSBGb3JtLkVsZW1lbnQuU2VyaWFsaXplcnM7CgogICAgZm9yICh2YXIgaSA9IDA7IGVsZW1lbnQgPSBlbGVtZW50c1tpXTsgaSsrKSB7CiAgICAgIGlmIChzZXJpYWxpemVyc1tlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKV0pCiAgICAgICAgcmVzdWx0cy5wdXNoKEVsZW1lbnQuZXh0ZW5kKGVsZW1lbnQpKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0sCgogIGdldElucHV0czogZnVuY3Rpb24oZm9ybSwgdHlwZU5hbWUsIG5hbWUpIHsKICAgIGZvcm0gPSAkKGZvcm0pOwogICAgdmFyIGlucHV0cyA9IGZvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7CgogICAgaWYgKCF0eXBlTmFtZSAmJiAhbmFtZSkgcmV0dXJuICRBKGlucHV0cykubWFwKEVsZW1lbnQuZXh0ZW5kKTsKCiAgICBmb3IgKHZhciBpID0gMCwgbWF0Y2hpbmdJbnB1dHMgPSBbXSwgbGVuZ3RoID0gaW5wdXRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBpbnB1dCA9IGlucHV0c1tpXTsKICAgICAgaWYgKCh0eXBlTmFtZSAmJiBpbnB1dC50eXBlICE9IHR5cGVOYW1lKSB8fCAobmFtZSAmJiBpbnB1dC5uYW1lICE9IG5hbWUpKQogICAgICAgIGNvbnRpbnVlOwogICAgICBtYXRjaGluZ0lucHV0cy5wdXNoKEVsZW1lbnQuZXh0ZW5kKGlucHV0KSk7CiAgICB9CgogICAgcmV0dXJuIG1hdGNoaW5nSW5wdXRzOwogIH0sCgogIGRpc2FibGU6IGZ1bmN0aW9uKGZvcm0pIHsKICAgIGZvcm0gPSAkKGZvcm0pOwogICAgRm9ybS5nZXRFbGVtZW50cyhmb3JtKS5pbnZva2UoJ2Rpc2FibGUnKTsKICAgIHJldHVybiBmb3JtOwogIH0sCgogIGVuYWJsZTogZnVuY3Rpb24oZm9ybSkgewogICAgZm9ybSA9ICQoZm9ybSk7CiAgICBGb3JtLmdldEVsZW1lbnRzKGZvcm0pLmludm9rZSgnZW5hYmxlJyk7CiAgICByZXR1cm4gZm9ybTsKICB9LAoKICBmaW5kRmlyc3RFbGVtZW50OiBmdW5jdGlvbihmb3JtKSB7CiAgICB2YXIgZWxlbWVudHMgPSAkKGZvcm0pLmdldEVsZW1lbnRzKCkuZmluZEFsbChmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgIHJldHVybiAnaGlkZGVuJyAhPSBlbGVtZW50LnR5cGUgJiYgIWVsZW1lbnQuZGlzYWJsZWQ7CiAgICB9KTsKICAgIHZhciBmaXJzdEJ5SW5kZXggPSBlbGVtZW50cy5maW5kQWxsKGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICAgcmV0dXJuIGVsZW1lbnQuaGFzQXR0cmlidXRlKCd0YWJJbmRleCcpICYmIGVsZW1lbnQudGFiSW5kZXggPj0gMDsKICAgIH0pLnNvcnRCeShmdW5jdGlvbihlbGVtZW50KSB7IHJldHVybiBlbGVtZW50LnRhYkluZGV4IH0pLmZpcnN0KCk7CgogICAgcmV0dXJuIGZpcnN0QnlJbmRleCA/IGZpcnN0QnlJbmRleCA6IGVsZW1lbnRzLmZpbmQoZnVuY3Rpb24oZWxlbWVudCkgewogICAgICByZXR1cm4gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWEpJC9pLnRlc3QoZWxlbWVudC50YWdOYW1lKTsKICAgIH0pOwogIH0sCgogIGZvY3VzRmlyc3RFbGVtZW50OiBmdW5jdGlvbihmb3JtKSB7CiAgICBmb3JtID0gJChmb3JtKTsKICAgIHZhciBlbGVtZW50ID0gZm9ybS5maW5kRmlyc3RFbGVtZW50KCk7CiAgICBpZiAoZWxlbWVudCkgZWxlbWVudC5hY3RpdmF0ZSgpOwogICAgcmV0dXJuIGZvcm07CiAgfSwKCiAgcmVxdWVzdDogZnVuY3Rpb24oZm9ybSwgb3B0aW9ucykgewogICAgZm9ybSA9ICQoZm9ybSksIG9wdGlvbnMgPSBPYmplY3QuY2xvbmUob3B0aW9ucyB8fCB7IH0pOwoKICAgIHZhciBwYXJhbXMgPSBvcHRpb25zLnBhcmFtZXRlcnMsIGFjdGlvbiA9IGZvcm0ucmVhZEF0dHJpYnV0ZSgnYWN0aW9uJykgfHwgJyc7CiAgICBpZiAoYWN0aW9uLmJsYW5rKCkpIGFjdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgb3B0aW9ucy5wYXJhbWV0ZXJzID0gZm9ybS5zZXJpYWxpemUodHJ1ZSk7CgogICAgaWYgKHBhcmFtcykgewogICAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKHBhcmFtcykpIHBhcmFtcyA9IHBhcmFtcy50b1F1ZXJ5UGFyYW1zKCk7CiAgICAgIE9iamVjdC5leHRlbmQob3B0aW9ucy5wYXJhbWV0ZXJzLCBwYXJhbXMpOwogICAgfQoKICAgIGlmIChmb3JtLmhhc0F0dHJpYnV0ZSgnbWV0aG9kJykgJiYgIW9wdGlvbnMubWV0aG9kKQogICAgICBvcHRpb25zLm1ldGhvZCA9IGZvcm0ubWV0aG9kOwoKICAgIHJldHVybiBuZXcgQWpheC5SZXF1ZXN0KGFjdGlvbiwgb3B0aW9ucyk7CiAgfQp9OwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoKRm9ybS5FbGVtZW50ID0gewogIGZvY3VzOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAkKGVsZW1lbnQpLmZvY3VzKCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBzZWxlY3Q6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgICQoZWxlbWVudCkuc2VsZWN0KCk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9Cn07CgpGb3JtLkVsZW1lbnQuTWV0aG9kcyA9IHsKCiAgc2VyaWFsaXplOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlmICghZWxlbWVudC5kaXNhYmxlZCAmJiBlbGVtZW50Lm5hbWUpIHsKICAgICAgdmFyIHZhbHVlID0gZWxlbWVudC5nZXRWYWx1ZSgpOwogICAgICBpZiAodmFsdWUgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdmFyIHBhaXIgPSB7IH07CiAgICAgICAgcGFpcltlbGVtZW50Lm5hbWVdID0gdmFsdWU7CiAgICAgICAgcmV0dXJuIE9iamVjdC50b1F1ZXJ5U3RyaW5nKHBhaXIpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gJyc7CiAgfSwKCiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIG1ldGhvZCA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgcmV0dXJuIEZvcm0uRWxlbWVudC5TZXJpYWxpemVyc1ttZXRob2RdKGVsZW1lbnQpOwogIH0sCgogIHNldFZhbHVlOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkgewogICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICB2YXIgbWV0aG9kID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICBGb3JtLkVsZW1lbnQuU2VyaWFsaXplcnNbbWV0aG9kXShlbGVtZW50LCB2YWx1ZSk7CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBjbGVhcjogZnVuY3Rpb24oZWxlbWVudCkgewogICAgJChlbGVtZW50KS52YWx1ZSA9ICcnOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgcHJlc2VudDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgcmV0dXJuICQoZWxlbWVudCkudmFsdWUgIT0gJyc7CiAgfSwKCiAgYWN0aXZhdGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdHJ5IHsKICAgICAgZWxlbWVudC5mb2N1cygpOwogICAgICBpZiAoZWxlbWVudC5zZWxlY3QgJiYgKGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9ICdpbnB1dCcgfHwKICAgICAgICAgICEoL14oPzpidXR0b258cmVzZXR8c3VibWl0KSQvaS50ZXN0KGVsZW1lbnQudHlwZSkpKSkKICAgICAgICBlbGVtZW50LnNlbGVjdCgpOwogICAgfSBjYXRjaCAoZSkgeyB9CiAgICByZXR1cm4gZWxlbWVudDsKICB9LAoKICBkaXNhYmxlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlOwogICAgcmV0dXJuIGVsZW1lbnQ7CiAgfSwKCiAgZW5hYmxlOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KfTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKdmFyIEZpZWxkID0gRm9ybS5FbGVtZW50OwoKdmFyICRGID0gRm9ybS5FbGVtZW50Lk1ldGhvZHMuZ2V0VmFsdWU7CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCkZvcm0uRWxlbWVudC5TZXJpYWxpemVycyA9IChmdW5jdGlvbigpIHsKICBmdW5jdGlvbiBpbnB1dChlbGVtZW50LCB2YWx1ZSkgewogICAgc3dpdGNoIChlbGVtZW50LnR5cGUudG9Mb3dlckNhc2UoKSkgewogICAgICBjYXNlICdjaGVja2JveCc6CiAgICAgIGNhc2UgJ3JhZGlvJzoKICAgICAgICByZXR1cm4gaW5wdXRTZWxlY3RvcihlbGVtZW50LCB2YWx1ZSk7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuIHZhbHVlU2VsZWN0b3IoZWxlbWVudCwgdmFsdWUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5wdXRTZWxlY3RvcihlbGVtZW50LCB2YWx1ZSkgewogICAgaWYgKE9iamVjdC5pc1VuZGVmaW5lZCh2YWx1ZSkpCiAgICAgIHJldHVybiBlbGVtZW50LmNoZWNrZWQgPyBlbGVtZW50LnZhbHVlIDogbnVsbDsKICAgIGVsc2UgZWxlbWVudC5jaGVja2VkID0gISF2YWx1ZTsKICB9CgogIGZ1bmN0aW9uIHZhbHVlU2VsZWN0b3IoZWxlbWVudCwgdmFsdWUpIHsKICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm4gZWxlbWVudC52YWx1ZTsKICAgIGVsc2UgZWxlbWVudC52YWx1ZSA9IHZhbHVlOwogIH0KCiAgZnVuY3Rpb24gc2VsZWN0KGVsZW1lbnQsIHZhbHVlKSB7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKHZhbHVlKSkKICAgICAgcmV0dXJuIChlbGVtZW50LnR5cGUgPT09ICdzZWxlY3Qtb25lJyA/IHNlbGVjdE9uZSA6IHNlbGVjdE1hbnkpKGVsZW1lbnQpOwoKICAgIHZhciBvcHQsIGN1cnJlbnRWYWx1ZSwgc2luZ2xlID0gIU9iamVjdC5pc0FycmF5KHZhbHVlKTsKICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBlbGVtZW50Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIG9wdCA9IGVsZW1lbnQub3B0aW9uc1tpXTsKICAgICAgY3VycmVudFZhbHVlID0gdGhpcy5vcHRpb25WYWx1ZShvcHQpOwogICAgICBpZiAoc2luZ2xlKSB7CiAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSA9PSB2YWx1ZSkgewogICAgICAgICAgb3B0LnNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgZWxzZSBvcHQuc2VsZWN0ZWQgPSB2YWx1ZS5pbmNsdWRlKGN1cnJlbnRWYWx1ZSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzZWxlY3RPbmUoZWxlbWVudCkgewogICAgdmFyIGluZGV4ID0gZWxlbWVudC5zZWxlY3RlZEluZGV4OwogICAgcmV0dXJuIGluZGV4ID49IDAgPyBvcHRpb25WYWx1ZShlbGVtZW50Lm9wdGlvbnNbaW5kZXhdKSA6IG51bGw7CiAgfQoKICBmdW5jdGlvbiBzZWxlY3RNYW55KGVsZW1lbnQpIHsKICAgIHZhciB2YWx1ZXMsIGxlbmd0aCA9IGVsZW1lbnQubGVuZ3RoOwogICAgaWYgKCFsZW5ndGgpIHJldHVybiBudWxsOwoKICAgIGZvciAodmFyIGkgPSAwLCB2YWx1ZXMgPSBbXTsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBvcHQgPSBlbGVtZW50Lm9wdGlvbnNbaV07CiAgICAgIGlmIChvcHQuc2VsZWN0ZWQpIHZhbHVlcy5wdXNoKG9wdGlvblZhbHVlKG9wdCkpOwogICAgfQogICAgcmV0dXJuIHZhbHVlczsKICB9CgogIGZ1bmN0aW9uIG9wdGlvblZhbHVlKG9wdCkgewogICAgcmV0dXJuIEVsZW1lbnQuaGFzQXR0cmlidXRlKG9wdCwgJ3ZhbHVlJykgPyBvcHQudmFsdWUgOiBvcHQudGV4dDsKICB9CgogIHJldHVybiB7CiAgICBpbnB1dDogICAgICAgICBpbnB1dCwKICAgIGlucHV0U2VsZWN0b3I6IGlucHV0U2VsZWN0b3IsCiAgICB0ZXh0YXJlYTogICAgICB2YWx1ZVNlbGVjdG9yLAogICAgc2VsZWN0OiAgICAgICAgc2VsZWN0LAogICAgc2VsZWN0T25lOiAgICAgc2VsZWN0T25lLAogICAgc2VsZWN0TWFueTogICAgc2VsZWN0TWFueSwKICAgIG9wdGlvblZhbHVlOiAgIG9wdGlvblZhbHVlLAogICAgYnV0dG9uOiAgICAgICAgdmFsdWVTZWxlY3RvcgogIH07Cn0pKCk7CgovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgpBYnN0cmFjdC5UaW1lZE9ic2VydmVyID0gQ2xhc3MuY3JlYXRlKFBlcmlvZGljYWxFeGVjdXRlciwgewogIGluaXRpYWxpemU6IGZ1bmN0aW9uKCRzdXBlciwgZWxlbWVudCwgZnJlcXVlbmN5LCBjYWxsYmFjaykgewogICAgJHN1cGVyKGNhbGxiYWNrLCBmcmVxdWVuY3kpOwogICAgdGhpcy5lbGVtZW50ICAgPSAkKGVsZW1lbnQpOwogICAgdGhpcy5sYXN0VmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7CiAgfSwKCiAgZXhlY3V0ZTogZnVuY3Rpb24oKSB7CiAgICB2YXIgdmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7CiAgICBpZiAoT2JqZWN0LmlzU3RyaW5nKHRoaXMubGFzdFZhbHVlKSAmJiBPYmplY3QuaXNTdHJpbmcodmFsdWUpID8KICAgICAgICB0aGlzLmxhc3RWYWx1ZSAhPSB2YWx1ZSA6IFN0cmluZyh0aGlzLmxhc3RWYWx1ZSkgIT0gU3RyaW5nKHZhbHVlKSkgewogICAgICB0aGlzLmNhbGxiYWNrKHRoaXMuZWxlbWVudCwgdmFsdWUpOwogICAgICB0aGlzLmxhc3RWYWx1ZSA9IHZhbHVlOwogICAgfQogIH0KfSk7CgpGb3JtLkVsZW1lbnQuT2JzZXJ2ZXIgPSBDbGFzcy5jcmVhdGUoQWJzdHJhY3QuVGltZWRPYnNlcnZlciwgewogIGdldFZhbHVlOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBGb3JtLkVsZW1lbnQuZ2V0VmFsdWUodGhpcy5lbGVtZW50KTsKICB9Cn0pOwoKRm9ybS5PYnNlcnZlciA9IENsYXNzLmNyZWF0ZShBYnN0cmFjdC5UaW1lZE9ic2VydmVyLCB7CiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIEZvcm0uc2VyaWFsaXplKHRoaXMuZWxlbWVudCk7CiAgfQp9KTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKQWJzdHJhY3QuRXZlbnRPYnNlcnZlciA9IENsYXNzLmNyZWF0ZSh7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2spIHsKICAgIHRoaXMuZWxlbWVudCAgPSAkKGVsZW1lbnQpOwogICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrOwoKICAgIHRoaXMubGFzdFZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpOwogICAgaWYgKHRoaXMuZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2Zvcm0nKQogICAgICB0aGlzLnJlZ2lzdGVyRm9ybUNhbGxiYWNrcygpOwogICAgZWxzZQogICAgICB0aGlzLnJlZ2lzdGVyQ2FsbGJhY2sodGhpcy5lbGVtZW50KTsKICB9LAoKICBvbkVsZW1lbnRFdmVudDogZnVuY3Rpb24oKSB7CiAgICB2YXIgdmFsdWUgPSB0aGlzLmdldFZhbHVlKCk7CiAgICBpZiAodGhpcy5sYXN0VmFsdWUgIT0gdmFsdWUpIHsKICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLmVsZW1lbnQsIHZhbHVlKTsKICAgICAgdGhpcy5sYXN0VmFsdWUgPSB2YWx1ZTsKICAgIH0KICB9LAoKICByZWdpc3RlckZvcm1DYWxsYmFja3M6IGZ1bmN0aW9uKCkgewogICAgRm9ybS5nZXRFbGVtZW50cyh0aGlzLmVsZW1lbnQpLmVhY2godGhpcy5yZWdpc3RlckNhbGxiYWNrLCB0aGlzKTsKICB9LAoKICByZWdpc3RlckNhbGxiYWNrOiBmdW5jdGlvbihlbGVtZW50KSB7CiAgICBpZiAoZWxlbWVudC50eXBlKSB7CiAgICAgIHN3aXRjaCAoZWxlbWVudC50eXBlLnRvTG93ZXJDYXNlKCkpIHsKICAgICAgICBjYXNlICdjaGVja2JveCc6CiAgICAgICAgY2FzZSAncmFkaW8nOgogICAgICAgICAgRXZlbnQub2JzZXJ2ZShlbGVtZW50LCAnY2xpY2snLCB0aGlzLm9uRWxlbWVudEV2ZW50LmJpbmQodGhpcykpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIEV2ZW50Lm9ic2VydmUoZWxlbWVudCwgJ2NoYW5nZScsIHRoaXMub25FbGVtZW50RXZlbnQuYmluZCh0aGlzKSk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KfSk7CgpGb3JtLkVsZW1lbnQuRXZlbnRPYnNlcnZlciA9IENsYXNzLmNyZWF0ZShBYnN0cmFjdC5FdmVudE9ic2VydmVyLCB7CiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIEZvcm0uRWxlbWVudC5nZXRWYWx1ZSh0aGlzLmVsZW1lbnQpOwogIH0KfSk7CgpGb3JtLkV2ZW50T2JzZXJ2ZXIgPSBDbGFzcy5jcmVhdGUoQWJzdHJhY3QuRXZlbnRPYnNlcnZlciwgewogIGdldFZhbHVlOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiBGb3JtLnNlcmlhbGl6ZSh0aGlzLmVsZW1lbnQpOwogIH0KfSk7CihmdW5jdGlvbihHTE9CQUwpIHsKICB2YXIgRElWID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgdmFyIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogIHZhciBNT1VTRUVOVEVSX01PVVNFTEVBVkVfRVZFTlRTX1NVUFBPUlRFRCA9ICdvbm1vdXNlZW50ZXInIGluIGRvY0VsCiAgICYmICdvbm1vdXNlbGVhdmUnIGluIGRvY0VsOwoKICB2YXIgRXZlbnQgPSB7CiAgICBLRVlfQkFDS1NQQUNFOiA4LAogICAgS0VZX1RBQjogICAgICAgOSwKICAgIEtFWV9SRVRVUk46ICAgMTMsCiAgICBLRVlfRVNDOiAgICAgIDI3LAogICAgS0VZX0xFRlQ6ICAgICAzNywKICAgIEtFWV9VUDogICAgICAgMzgsCiAgICBLRVlfUklHSFQ6ICAgIDM5LAogICAgS0VZX0RPV046ICAgICA0MCwKICAgIEtFWV9ERUxFVEU6ICAgNDYsCiAgICBLRVlfSE9NRTogICAgIDM2LAogICAgS0VZX0VORDogICAgICAzNSwKICAgIEtFWV9QQUdFVVA6ICAgMzMsCiAgICBLRVlfUEFHRURPV046IDM0LAogICAgS0VZX0lOU0VSVDogICA0NQogIH07CgoKICB2YXIgaXNJRUxlZ2FjeUV2ZW50ID0gZnVuY3Rpb24oZXZlbnQpIHsgcmV0dXJuIGZhbHNlOyB9OwoKICBpZiAod2luZG93LmF0dGFjaEV2ZW50KSB7CiAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgICAgaXNJRUxlZ2FjeUV2ZW50ID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICByZXR1cm4gIShldmVudCBpbnN0YW5jZW9mIHdpbmRvdy5FdmVudCk7CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICBpc0lFTGVnYWN5RXZlbnQgPSBmdW5jdGlvbihldmVudCkgeyByZXR1cm4gdHJ1ZTsgfTsKICAgIH0KICB9CgogIHZhciBfaXNCdXR0b247CgogIGZ1bmN0aW9uIF9pc0J1dHRvbkZvckRPTUV2ZW50cyhldmVudCwgY29kZSkgewogICAgcmV0dXJuIGV2ZW50LndoaWNoID8gKGV2ZW50LndoaWNoID09PSBjb2RlICsgMSkgOiAoZXZlbnQuYnV0dG9uID09PSBjb2RlKTsKICB9CgogIHZhciBsZWdhY3lCdXR0b25NYXAgPSB7IDA6IDEsIDE6IDQsIDI6IDIgfTsKICBmdW5jdGlvbiBfaXNCdXR0b25Gb3JMZWdhY3lFdmVudHMoZXZlbnQsIGNvZGUpIHsKICAgIHJldHVybiBldmVudC5idXR0b24gPT09IGxlZ2FjeUJ1dHRvbk1hcFtjb2RlXTsKICB9CgogIGZ1bmN0aW9uIF9pc0J1dHRvbkZvcldlYktpdChldmVudCwgY29kZSkgewogICAgc3dpdGNoIChjb2RlKSB7CiAgICAgIGNhc2UgMDogcmV0dXJuIGV2ZW50LndoaWNoID09IDEgJiYgIWV2ZW50Lm1ldGFLZXk7CiAgICAgIGNhc2UgMTogcmV0dXJuIGV2ZW50LndoaWNoID09IDIgfHwgKGV2ZW50LndoaWNoID09IDEgJiYgZXZlbnQubWV0YUtleSk7CiAgICAgIGNhc2UgMjogcmV0dXJuIGV2ZW50LndoaWNoID09IDM7CiAgICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICAgIH0KICB9CgogIGlmICh3aW5kb3cuYXR0YWNoRXZlbnQpIHsKICAgIGlmICghd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgICAgX2lzQnV0dG9uID0gX2lzQnV0dG9uRm9yTGVnYWN5RXZlbnRzOwogICAgfSBlbHNlIHsKICAgICAgX2lzQnV0dG9uID0gZnVuY3Rpb24oZXZlbnQsIGNvZGUpIHsKICAgICAgICByZXR1cm4gaXNJRUxlZ2FjeUV2ZW50KGV2ZW50KSA/IF9pc0J1dHRvbkZvckxlZ2FjeUV2ZW50cyhldmVudCwgY29kZSkgOgogICAgICAgICBfaXNCdXR0b25Gb3JET01FdmVudHMoZXZlbnQsIGNvZGUpOwogICAgICB9CiAgICB9CiAgfSBlbHNlIGlmIChQcm90b3R5cGUuQnJvd3Nlci5XZWJLaXQpIHsKICAgIF9pc0J1dHRvbiA9IF9pc0J1dHRvbkZvcldlYktpdDsKICB9IGVsc2UgewogICAgX2lzQnV0dG9uID0gX2lzQnV0dG9uRm9yRE9NRXZlbnRzOwogIH0KCiAgZnVuY3Rpb24gaXNMZWZ0Q2xpY2soZXZlbnQpICAgeyByZXR1cm4gX2lzQnV0dG9uKGV2ZW50LCAwKSB9CgogIGZ1bmN0aW9uIGlzTWlkZGxlQ2xpY2soZXZlbnQpIHsgcmV0dXJuIF9pc0J1dHRvbihldmVudCwgMSkgfQoKICBmdW5jdGlvbiBpc1JpZ2h0Q2xpY2soZXZlbnQpICB7IHJldHVybiBfaXNCdXR0b24oZXZlbnQsIDIpIH0KCiAgZnVuY3Rpb24gZWxlbWVudChldmVudCkgewogICAgcmV0dXJuIEVsZW1lbnQuZXh0ZW5kKF9lbGVtZW50KGV2ZW50KSk7CiAgfQoKICBmdW5jdGlvbiBfZWxlbWVudChldmVudCkgewogICAgZXZlbnQgPSBFdmVudC5leHRlbmQoZXZlbnQpOwoKICAgIHZhciBub2RlID0gZXZlbnQudGFyZ2V0LCB0eXBlID0gZXZlbnQudHlwZSwKICAgICBjdXJyZW50VGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldDsKCiAgICBpZiAoY3VycmVudFRhcmdldCAmJiBjdXJyZW50VGFyZ2V0LnRhZ05hbWUpIHsKICAgICAgaWYgKHR5cGUgPT09ICdsb2FkJyB8fCB0eXBlID09PSAnZXJyb3InIHx8CiAgICAgICAgKHR5cGUgPT09ICdjbGljaycgJiYgY3VycmVudFRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcKICAgICAgICAgICYmIGN1cnJlbnRUYXJnZXQudHlwZSA9PT0gJ3JhZGlvJykpCiAgICAgICAgICAgIG5vZGUgPSBjdXJyZW50VGFyZ2V0OwogICAgfQoKICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09IE5vZGUuVEVYVF9OT0RFID8gbm9kZS5wYXJlbnROb2RlIDogbm9kZTsKICB9CgogIGZ1bmN0aW9uIGZpbmRFbGVtZW50KGV2ZW50LCBleHByZXNzaW9uKSB7CiAgICB2YXIgZWxlbWVudCA9IF9lbGVtZW50KGV2ZW50KSwgc2VsZWN0b3IgPSBQcm90b3R5cGUuU2VsZWN0b3I7CiAgICBpZiAoIWV4cHJlc3Npb24pIHJldHVybiBFbGVtZW50LmV4dGVuZChlbGVtZW50KTsKICAgIHdoaWxlIChlbGVtZW50KSB7CiAgICAgIGlmIChPYmplY3QuaXNFbGVtZW50KGVsZW1lbnQpICYmIHNlbGVjdG9yLm1hdGNoKGVsZW1lbnQsIGV4cHJlc3Npb24pKQogICAgICAgIHJldHVybiBFbGVtZW50LmV4dGVuZChlbGVtZW50KTsKICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHBvaW50ZXIoZXZlbnQpIHsKICAgIHJldHVybiB7IHg6IHBvaW50ZXJYKGV2ZW50KSwgeTogcG9pbnRlclkoZXZlbnQpIH07CiAgfQoKICBmdW5jdGlvbiBwb2ludGVyWChldmVudCkgewogICAgdmFyIGRvY0VsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsCiAgICAgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgeyBzY3JvbGxMZWZ0OiAwIH07CgogICAgcmV0dXJuIGV2ZW50LnBhZ2VYIHx8IChldmVudC5jbGllbnRYICsKICAgICAgKGRvY0VsZW1lbnQuc2Nyb2xsTGVmdCB8fCBib2R5LnNjcm9sbExlZnQpIC0KICAgICAgKGRvY0VsZW1lbnQuY2xpZW50TGVmdCB8fCAwKSk7CiAgfQoKICBmdW5jdGlvbiBwb2ludGVyWShldmVudCkgewogICAgdmFyIGRvY0VsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsCiAgICAgYm9keSA9IGRvY3VtZW50LmJvZHkgfHwgeyBzY3JvbGxUb3A6IDAgfTsKCiAgICByZXR1cm4gIGV2ZW50LnBhZ2VZIHx8IChldmVudC5jbGllbnRZICsKICAgICAgIChkb2NFbGVtZW50LnNjcm9sbFRvcCB8fCBib2R5LnNjcm9sbFRvcCkgLQogICAgICAgKGRvY0VsZW1lbnQuY2xpZW50VG9wIHx8IDApKTsKICB9CgoKICBmdW5jdGlvbiBzdG9wKGV2ZW50KSB7CiAgICBFdmVudC5leHRlbmQoZXZlbnQpOwogICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwoKICAgIGV2ZW50LnN0b3BwZWQgPSB0cnVlOwogIH0KCgogIEV2ZW50Lk1ldGhvZHMgPSB7CiAgICBpc0xlZnRDbGljazogICBpc0xlZnRDbGljaywKICAgIGlzTWlkZGxlQ2xpY2s6IGlzTWlkZGxlQ2xpY2ssCiAgICBpc1JpZ2h0Q2xpY2s6ICBpc1JpZ2h0Q2xpY2ssCgogICAgZWxlbWVudDogICAgIGVsZW1lbnQsCiAgICBmaW5kRWxlbWVudDogZmluZEVsZW1lbnQsCgogICAgcG9pbnRlcjogIHBvaW50ZXIsCiAgICBwb2ludGVyWDogcG9pbnRlclgsCiAgICBwb2ludGVyWTogcG9pbnRlclksCgogICAgc3RvcDogc3RvcAogIH07CgogIHZhciBtZXRob2RzID0gT2JqZWN0LmtleXMoRXZlbnQuTWV0aG9kcykuaW5qZWN0KHsgfSwgZnVuY3Rpb24obSwgbmFtZSkgewogICAgbVtuYW1lXSA9IEV2ZW50Lk1ldGhvZHNbbmFtZV0ubWV0aG9kaXplKCk7CiAgICByZXR1cm4gbTsKICB9KTsKCiAgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkgewogICAgZnVuY3Rpb24gX3JlbGF0ZWRUYXJnZXQoZXZlbnQpIHsKICAgICAgdmFyIGVsZW1lbnQ7CiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkgewogICAgICAgIGNhc2UgJ21vdXNlb3Zlcic6CiAgICAgICAgY2FzZSAnbW91c2VlbnRlcic6CiAgICAgICAgICBlbGVtZW50ID0gZXZlbnQuZnJvbUVsZW1lbnQ7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdtb3VzZW91dCc6CiAgICAgICAgY2FzZSAnbW91c2VsZWF2ZSc6CiAgICAgICAgICBlbGVtZW50ID0gZXZlbnQudG9FbGVtZW50OwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIHJldHVybiBFbGVtZW50LmV4dGVuZChlbGVtZW50KTsKICAgIH0KCiAgICB2YXIgYWRkaXRpb25hbE1ldGhvZHMgPSB7CiAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7IHRoaXMuY2FuY2VsQnViYmxlID0gdHJ1ZSB9LAogICAgICBwcmV2ZW50RGVmYXVsdDogIGZ1bmN0aW9uKCkgeyB0aGlzLnJldHVyblZhbHVlID0gZmFsc2UgfSwKICAgICAgaW5zcGVjdDogZnVuY3Rpb24oKSB7IHJldHVybiAnW29iamVjdCBFdmVudF0nIH0KICAgIH07CgogICAgRXZlbnQuZXh0ZW5kID0gZnVuY3Rpb24oZXZlbnQsIGVsZW1lbnQpIHsKICAgICAgaWYgKCFldmVudCkgcmV0dXJuIGZhbHNlOwoKICAgICAgaWYgKCFpc0lFTGVnYWN5RXZlbnQoZXZlbnQpKSByZXR1cm4gZXZlbnQ7CgogICAgICBpZiAoZXZlbnQuX2V4dGVuZGVkQnlQcm90b3R5cGUpIHJldHVybiBldmVudDsKICAgICAgZXZlbnQuX2V4dGVuZGVkQnlQcm90b3R5cGUgPSBQcm90b3R5cGUuZW1wdHlGdW5jdGlvbjsKCiAgICAgIHZhciBwb2ludGVyID0gRXZlbnQucG9pbnRlcihldmVudCk7CgogICAgICBPYmplY3QuZXh0ZW5kKGV2ZW50LCB7CiAgICAgICAgdGFyZ2V0OiBldmVudC5zcmNFbGVtZW50IHx8IGVsZW1lbnQsCiAgICAgICAgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQoZXZlbnQpLAogICAgICAgIHBhZ2VYOiAgcG9pbnRlci54LAogICAgICAgIHBhZ2VZOiAgcG9pbnRlci55CiAgICAgIH0pOwoKICAgICAgT2JqZWN0LmV4dGVuZChldmVudCwgbWV0aG9kcyk7CiAgICAgIE9iamVjdC5leHRlbmQoZXZlbnQsIGFkZGl0aW9uYWxNZXRob2RzKTsKCiAgICAgIHJldHVybiBldmVudDsKICAgIH07CiAgfSBlbHNlIHsKICAgIEV2ZW50LmV4dGVuZCA9IFByb3RvdHlwZS5LOwogIH0KCiAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7CiAgICBFdmVudC5wcm90b3R5cGUgPSB3aW5kb3cuRXZlbnQucHJvdG90eXBlIHx8IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJykuX19wcm90b19fOwogICAgT2JqZWN0LmV4dGVuZChFdmVudC5wcm90b3R5cGUsIG1ldGhvZHMpOwogIH0KCiAgdmFyIEVWRU5UX1RSQU5TTEFUSU9OUyA9IHsKICAgIG1vdXNlZW50ZXI6ICdtb3VzZW92ZXInLAogICAgbW91c2VsZWF2ZTogJ21vdXNlb3V0JwogIH07CgogIGZ1bmN0aW9uIGdldERPTUV2ZW50TmFtZShldmVudE5hbWUpIHsKICAgIHJldHVybiBFVkVOVF9UUkFOU0xBVElPTlNbZXZlbnROYW1lXSB8fCBldmVudE5hbWU7CiAgfQoKICBpZiAoTU9VU0VFTlRFUl9NT1VTRUxFQVZFX0VWRU5UU19TVVBQT1JURUQpCiAgICBnZXRET01FdmVudE5hbWUgPSBQcm90b3R5cGUuSzsKCiAgZnVuY3Rpb24gZ2V0VW5pcXVlRWxlbWVudElEKGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50ID09PSB3aW5kb3cpIHJldHVybiAwOwoKICAgIGlmICh0eXBlb2YgZWxlbWVudC5fcHJvdG90eXBlVUlEID09PSAndW5kZWZpbmVkJykKICAgICAgZWxlbWVudC5fcHJvdG90eXBlVUlEID0gRWxlbWVudC5TdG9yYWdlLlVJRCsrOwogICAgcmV0dXJuIGVsZW1lbnQuX3Byb3RvdHlwZVVJRDsKICB9CgogIGZ1bmN0aW9uIGdldFVuaXF1ZUVsZW1lbnRJRF9JRShlbGVtZW50KSB7CiAgICBpZiAoZWxlbWVudCA9PT0gd2luZG93KSByZXR1cm4gMDsKICAgIGlmIChlbGVtZW50ID09IGRvY3VtZW50KSByZXR1cm4gMTsKICAgIHJldHVybiBlbGVtZW50LnVuaXF1ZUlEOwogIH0KCiAgaWYgKCd1bmlxdWVJRCcgaW4gRElWKQogICAgZ2V0VW5pcXVlRWxlbWVudElEID0gZ2V0VW5pcXVlRWxlbWVudElEX0lFOwoKICBmdW5jdGlvbiBpc0N1c3RvbUV2ZW50KGV2ZW50TmFtZSkgewogICAgcmV0dXJuIGV2ZW50TmFtZS5pbmNsdWRlKCc6Jyk7CiAgfQoKICBFdmVudC5faXNDdXN0b21FdmVudCA9IGlzQ3VzdG9tRXZlbnQ7CgogIGZ1bmN0aW9uIGdldFJlZ2lzdHJ5Rm9yRWxlbWVudChlbGVtZW50LCB1aWQpIHsKICAgIHZhciBDQUNIRSA9IEdMT0JBTC5FdmVudC5jYWNoZTsKICAgIGlmIChPYmplY3QuaXNVbmRlZmluZWQodWlkKSkKICAgICAgdWlkID0gZ2V0VW5pcXVlRWxlbWVudElEKGVsZW1lbnQpOwogICAgaWYgKCFDQUNIRVt1aWRdKSBDQUNIRVt1aWRdID0geyBlbGVtZW50OiBlbGVtZW50IH07CiAgICByZXR1cm4gQ0FDSEVbdWlkXTsKICB9CgogIGZ1bmN0aW9uIGRlc3Ryb3lSZWdpc3RyeUZvckVsZW1lbnQoZWxlbWVudCwgdWlkKSB7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKHVpZCkpCiAgICAgIHVpZCA9IGdldFVuaXF1ZUVsZW1lbnRJRChlbGVtZW50KTsKICAgIGRlbGV0ZSBHTE9CQUwuRXZlbnQuY2FjaGVbdWlkXTsKICB9CgoKICBmdW5jdGlvbiByZWdpc3RlcihlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgIHZhciByZWdpc3RyeSA9IGdldFJlZ2lzdHJ5Rm9yRWxlbWVudChlbGVtZW50KTsKICAgIGlmICghcmVnaXN0cnlbZXZlbnROYW1lXSkgcmVnaXN0cnlbZXZlbnROYW1lXSA9IFtdOwogICAgdmFyIGVudHJpZXMgPSByZWdpc3RyeVtldmVudE5hbWVdOwoKICAgIHZhciBpID0gZW50cmllcy5sZW5ndGg7CiAgICB3aGlsZSAoaS0tKQogICAgICBpZiAoZW50cmllc1tpXS5oYW5kbGVyID09PSBoYW5kbGVyKSByZXR1cm4gbnVsbDsKCiAgICB2YXIgdWlkID0gZ2V0VW5pcXVlRWxlbWVudElEKGVsZW1lbnQpOwogICAgdmFyIHJlc3BvbmRlciA9IEdMT0JBTC5FdmVudC5fY3JlYXRlUmVzcG9uZGVyKHVpZCwgZXZlbnROYW1lLCBoYW5kbGVyKTsKICAgIHZhciBlbnRyeSA9IHsKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIGhhbmRsZXI6ICAgaGFuZGxlcgogICAgfTsKCiAgICBlbnRyaWVzLnB1c2goZW50cnkpOwogICAgcmV0dXJuIGVudHJ5OwogIH0KCiAgZnVuY3Rpb24gdW5yZWdpc3RlcihlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgIHZhciByZWdpc3RyeSA9IGdldFJlZ2lzdHJ5Rm9yRWxlbWVudChlbGVtZW50KTsKICAgIHZhciBlbnRyaWVzID0gcmVnaXN0cnlbZXZlbnROYW1lXTsKICAgIGlmICghZW50cmllcykgcmV0dXJuOwoKICAgIHZhciBpID0gZW50cmllcy5sZW5ndGgsIGVudHJ5OwogICAgd2hpbGUgKGktLSkgewogICAgICBpZiAoZW50cmllc1tpXS5oYW5kbGVyID09PSBoYW5kbGVyKSB7CiAgICAgICAgZW50cnkgPSBlbnRyaWVzW2ldOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgaWYgKCFlbnRyeSkgcmV0dXJuOwoKICAgIHZhciBpbmRleCA9IGVudHJpZXMuaW5kZXhPZihlbnRyeSk7CiAgICBlbnRyaWVzLnNwbGljZShpbmRleCwgMSk7CgogICAgcmV0dXJuIGVudHJ5OwogIH0KCgogIGZ1bmN0aW9uIG9ic2VydmUoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIHZhciBlbnRyeSA9IHJlZ2lzdGVyKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlcik7CgogICAgaWYgKGVudHJ5ID09PSBudWxsKSByZXR1cm4gZWxlbWVudDsKCiAgICB2YXIgcmVzcG9uZGVyID0gZW50cnkucmVzcG9uZGVyOwogICAgaWYgKGlzQ3VzdG9tRXZlbnQoZXZlbnROYW1lKSkKICAgICAgb2JzZXJ2ZUN1c3RvbUV2ZW50KGVsZW1lbnQsIGV2ZW50TmFtZSwgcmVzcG9uZGVyKTsKICAgIGVsc2UKICAgICAgb2JzZXJ2ZVN0YW5kYXJkRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCByZXNwb25kZXIpOwoKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gb2JzZXJ2ZVN0YW5kYXJkRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCByZXNwb25kZXIpIHsKICAgIHZhciBhY3R1YWxFdmVudE5hbWUgPSBnZXRET01FdmVudE5hbWUoZXZlbnROYW1lKTsKICAgIGlmIChlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGFjdHVhbEV2ZW50TmFtZSwgcmVzcG9uZGVyLCBmYWxzZSk7CiAgICB9IGVsc2UgewogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCdvbicgKyBhY3R1YWxFdmVudE5hbWUsIHJlc3BvbmRlcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvYnNlcnZlQ3VzdG9tRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCByZXNwb25kZXIpIHsKICAgIGlmIChlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkYXRhYXZhaWxhYmxlJywgcmVzcG9uZGVyLCBmYWxzZSk7CiAgICB9IGVsc2UgewogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCdvbmRhdGFhdmFpbGFibGUnLCByZXNwb25kZXIpOwogICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCdvbmxvc2VjYXB0dXJlJywgICByZXNwb25kZXIpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gc3RvcE9ic2VydmluZyhlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpOwogICAgdmFyIGhhbmRsZXJHaXZlbiA9ICFPYmplY3QuaXNVbmRlZmluZWQoaGFuZGxlciksCiAgICAgZXZlbnROYW1lR2l2ZW4gPSAhT2JqZWN0LmlzVW5kZWZpbmVkKGV2ZW50TmFtZSk7CgogICAgaWYgKCFldmVudE5hbWVHaXZlbiAmJiAhaGFuZGxlckdpdmVuKSB7CiAgICAgIHN0b3BPYnNlcnZpbmdFbGVtZW50KGVsZW1lbnQpOwogICAgICByZXR1cm4gZWxlbWVudDsKICAgIH0KCiAgICBpZiAoIWhhbmRsZXJHaXZlbikgewogICAgICBzdG9wT2JzZXJ2aW5nRXZlbnROYW1lKGVsZW1lbnQsIGV2ZW50TmFtZSk7CiAgICAgIHJldHVybiBlbGVtZW50OwogICAgfQoKICAgIHZhciBlbnRyeSA9IHVucmVnaXN0ZXIoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKTsKCiAgICBpZiAoIWVudHJ5KSByZXR1cm4gZWxlbWVudDsKICAgIHJlbW92ZUV2ZW50KGVsZW1lbnQsIGV2ZW50TmFtZSwgZW50cnkucmVzcG9uZGVyKTsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gc3RvcE9ic2VydmluZ1N0YW5kYXJkRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCByZXNwb25kZXIpIHsKICAgIHZhciBhY3R1YWxFdmVudE5hbWUgPSBnZXRET01FdmVudE5hbWUoZXZlbnROYW1lKTsKICAgIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHsKICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGFjdHVhbEV2ZW50TmFtZSwgcmVzcG9uZGVyLCBmYWxzZSk7CiAgICB9IGVsc2UgewogICAgICBlbGVtZW50LmRldGFjaEV2ZW50KCdvbicgKyBhY3R1YWxFdmVudE5hbWUsIHJlc3BvbmRlcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBzdG9wT2JzZXJ2aW5nQ3VzdG9tRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCByZXNwb25kZXIpIHsKICAgIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHsKICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkYXRhYXZhaWxhYmxlJywgcmVzcG9uZGVyLCBmYWxzZSk7CiAgICB9IGVsc2UgewogICAgICBlbGVtZW50LmRldGFjaEV2ZW50KCdvbmRhdGFhdmFpbGFibGUnLCByZXNwb25kZXIpOwogICAgICBlbGVtZW50LmRldGFjaEV2ZW50KCdvbmxvc2VjYXB0dXJlJywgICByZXNwb25kZXIpOwogICAgfQogIH0KCgoKICBmdW5jdGlvbiBzdG9wT2JzZXJ2aW5nRWxlbWVudChlbGVtZW50KSB7CiAgICB2YXIgdWlkID0gZ2V0VW5pcXVlRWxlbWVudElEKGVsZW1lbnQpLCByZWdpc3RyeSA9IEdMT0JBTC5FdmVudC5jYWNoZVt1aWRdOwogICAgaWYgKCFyZWdpc3RyeSkgcmV0dXJuOwoKICAgIGRlc3Ryb3lSZWdpc3RyeUZvckVsZW1lbnQoZWxlbWVudCwgdWlkKTsKCiAgICB2YXIgZW50cmllcywgaTsKICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiByZWdpc3RyeSkgewogICAgICBpZiAoZXZlbnROYW1lID09PSAnZWxlbWVudCcpIGNvbnRpbnVlOwoKICAgICAgZW50cmllcyA9IHJlZ2lzdHJ5W2V2ZW50TmFtZV07CiAgICAgIGkgPSBlbnRyaWVzLmxlbmd0aDsKICAgICAgd2hpbGUgKGktLSkKICAgICAgICByZW1vdmVFdmVudChlbGVtZW50LCBldmVudE5hbWUsIGVudHJpZXNbaV0ucmVzcG9uZGVyKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHN0b3BPYnNlcnZpbmdFdmVudE5hbWUoZWxlbWVudCwgZXZlbnROYW1lKSB7CiAgICB2YXIgcmVnaXN0cnkgPSBnZXRSZWdpc3RyeUZvckVsZW1lbnQoZWxlbWVudCk7CiAgICB2YXIgZW50cmllcyA9IHJlZ2lzdHJ5W2V2ZW50TmFtZV07CiAgICBpZiAoIWVudHJpZXMpIHJldHVybjsKICAgIGRlbGV0ZSByZWdpc3RyeVtldmVudE5hbWVdOwoKICAgIHZhciBpID0gZW50cmllcy5sZW5ndGg7CiAgICB3aGlsZSAoaS0tKQogICAgICByZW1vdmVFdmVudChlbGVtZW50LCBldmVudE5hbWUsIGVudHJpZXNbaV0ucmVzcG9uZGVyKTsKICB9CgoKICBmdW5jdGlvbiByZW1vdmVFdmVudChlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgIGlmIChpc0N1c3RvbUV2ZW50KGV2ZW50TmFtZSkpCiAgICAgIHN0b3BPYnNlcnZpbmdDdXN0b21FdmVudChlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpOwogICAgZWxzZQogICAgICBzdG9wT2JzZXJ2aW5nU3RhbmRhcmRFdmVudChlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpOwogIH0KCgoKICBmdW5jdGlvbiBnZXRGaXJlVGFyZ2V0KGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50ICE9PSBkb2N1bWVudCkgcmV0dXJuIGVsZW1lbnQ7CiAgICBpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnQgJiYgIWVsZW1lbnQuZGlzcGF0Y2hFdmVudCkKICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgIHJldHVybiBlbGVtZW50OwogIH0KCiAgZnVuY3Rpb24gZmlyZShlbGVtZW50LCBldmVudE5hbWUsIG1lbW8sIGJ1YmJsZSkgewogICAgZWxlbWVudCA9IGdldEZpcmVUYXJnZXQoJChlbGVtZW50KSk7CiAgICBpZiAoT2JqZWN0LmlzVW5kZWZpbmVkKGJ1YmJsZSkpIGJ1YmJsZSA9IHRydWU7CiAgICBtZW1vID0gbWVtbyB8fCB7fTsKCiAgICB2YXIgZXZlbnQgPSBmaXJlRXZlbnQoZWxlbWVudCwgZXZlbnROYW1lLCBtZW1vLCBidWJibGUpOwogICAgcmV0dXJuIEV2ZW50LmV4dGVuZChldmVudCk7CiAgfQoKICBmdW5jdGlvbiBmaXJlRXZlbnRfRE9NKGVsZW1lbnQsIGV2ZW50TmFtZSwgbWVtbywgYnViYmxlKSB7CiAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpOwogICAgZXZlbnQuaW5pdEV2ZW50KCdkYXRhYXZhaWxhYmxlJywgYnViYmxlLCB0cnVlKTsKCiAgICBldmVudC5ldmVudE5hbWUgPSBldmVudE5hbWU7CiAgICBldmVudC5tZW1vID0gbWVtbzsKCiAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgcmV0dXJuIGV2ZW50OwogIH0KCiAgZnVuY3Rpb24gZmlyZUV2ZW50X0lFKGVsZW1lbnQsIGV2ZW50TmFtZSwgbWVtbywgYnViYmxlKSB7CiAgICB2YXIgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpOwogICAgZXZlbnQuZXZlbnRUeXBlID0gYnViYmxlID8gJ29uZGF0YWF2YWlsYWJsZScgOiAnb25sb3NlY2FwdHVyZSc7CgogICAgZXZlbnQuZXZlbnROYW1lID0gZXZlbnROYW1lOwogICAgZXZlbnQubWVtbyA9IG1lbW87CgogICAgZWxlbWVudC5maXJlRXZlbnQoZXZlbnQuZXZlbnRUeXBlLCBldmVudCk7CiAgICByZXR1cm4gZXZlbnQ7CiAgfQoKICB2YXIgZmlyZUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQgPyBmaXJlRXZlbnRfRE9NIDogZmlyZUV2ZW50X0lFOwoKCgogIEV2ZW50LkhhbmRsZXIgPSBDbGFzcy5jcmVhdGUoewogICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnROYW1lLCBzZWxlY3RvciwgY2FsbGJhY2spIHsKICAgICAgdGhpcy5lbGVtZW50ICAgPSAkKGVsZW1lbnQpOwogICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTsKICAgICAgdGhpcy5zZWxlY3RvciAgPSBzZWxlY3RvcjsKICAgICAgdGhpcy5jYWxsYmFjayAgPSBjYWxsYmFjazsKICAgICAgdGhpcy5oYW5kbGVyICAgPSB0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyk7CiAgICB9LAoKCiAgICBzdGFydDogZnVuY3Rpb24oKSB7CiAgICAgIEV2ZW50Lm9ic2VydmUodGhpcy5lbGVtZW50LCB0aGlzLmV2ZW50TmFtZSwgdGhpcy5oYW5kbGVyKTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAoKICAgIHN0b3A6IGZ1bmN0aW9uKCkgewogICAgICBFdmVudC5zdG9wT2JzZXJ2aW5nKHRoaXMuZWxlbWVudCwgdGhpcy5ldmVudE5hbWUsIHRoaXMuaGFuZGxlcik7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKCiAgICBoYW5kbGVFdmVudDogZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBFdmVudC5maW5kRWxlbWVudChldmVudCwgdGhpcy5zZWxlY3Rvcik7CiAgICAgIGlmIChlbGVtZW50KSB0aGlzLmNhbGxiYWNrLmNhbGwodGhpcy5lbGVtZW50LCBldmVudCwgZWxlbWVudCk7CiAgICB9CiAgfSk7CgogIGZ1bmN0aW9uIG9uKGVsZW1lbnQsIGV2ZW50TmFtZSwgc2VsZWN0b3IsIGNhbGxiYWNrKSB7CiAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgIGlmIChPYmplY3QuaXNGdW5jdGlvbihzZWxlY3RvcikgJiYgT2JqZWN0LmlzVW5kZWZpbmVkKGNhbGxiYWNrKSkgewogICAgICBjYWxsYmFjayA9IHNlbGVjdG9yLCBzZWxlY3RvciA9IG51bGw7CiAgICB9CgogICAgcmV0dXJuIG5ldyBFdmVudC5IYW5kbGVyKGVsZW1lbnQsIGV2ZW50TmFtZSwgc2VsZWN0b3IsIGNhbGxiYWNrKS5zdGFydCgpOwogIH0KCiAgT2JqZWN0LmV4dGVuZChFdmVudCwgRXZlbnQuTWV0aG9kcyk7CgogIE9iamVjdC5leHRlbmQoRXZlbnQsIHsKICAgIGZpcmU6ICAgICAgICAgIGZpcmUsCiAgICBvYnNlcnZlOiAgICAgICBvYnNlcnZlLAogICAgc3RvcE9ic2VydmluZzogc3RvcE9ic2VydmluZywKICAgIG9uOiAgICAgICAgICAgIG9uCiAgfSk7CgogIEVsZW1lbnQuYWRkTWV0aG9kcyh7CiAgICBmaXJlOiAgICAgICAgICBmaXJlLAoKICAgIG9ic2VydmU6ICAgICAgIG9ic2VydmUsCgogICAgc3RvcE9ic2VydmluZzogc3RvcE9ic2VydmluZywKCiAgICBvbjogICAgICAgICAgICBvbgogIH0pOwoKICBPYmplY3QuZXh0ZW5kKGRvY3VtZW50LCB7CiAgICBmaXJlOiAgICAgICAgICBmaXJlLm1ldGhvZGl6ZSgpLAoKICAgIG9ic2VydmU6ICAgICAgIG9ic2VydmUubWV0aG9kaXplKCksCgogICAgc3RvcE9ic2VydmluZzogc3RvcE9ic2VydmluZy5tZXRob2RpemUoKSwKCiAgICBvbjogICAgICAgICAgICBvbi5tZXRob2RpemUoKSwKCiAgICBsb2FkZWQ6ICAgICAgICBmYWxzZQogIH0pOwoKICBpZiAoR0xPQkFMLkV2ZW50KSBPYmplY3QuZXh0ZW5kKHdpbmRvdy5FdmVudCwgRXZlbnQpOwogIGVsc2UgR0xPQkFMLkV2ZW50ID0gRXZlbnQ7CgogIEdMT0JBTC5FdmVudC5jYWNoZSA9IHt9OwoKICBmdW5jdGlvbiBkZXN0cm95Q2FjaGVfSUUoKSB7CiAgICBHTE9CQUwuRXZlbnQuY2FjaGUgPSBudWxsOwogIH0KCiAgaWYgKHdpbmRvdy5hdHRhY2hFdmVudCkKICAgIHdpbmRvdy5hdHRhY2hFdmVudCgnb251bmxvYWQnLCBkZXN0cm95Q2FjaGVfSUUpOwoKICBESVYgPSBudWxsOwogIGRvY0VsID0gbnVsbDsKfSkodGhpcyk7CgooZnVuY3Rpb24oR0xPQkFMKSB7CiAgLyogQ29kZSBmb3IgY3JlYXRpbmcgbGVhay1mcmVlIGV2ZW50IHJlc3BvbmRlcnMgaXMgYmFzZWQgb24gd29yayBieQogICBKb2huLURhdmlkIERhbHRvbi4gKi8KCiAgdmFyIGRvY0VsID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogIHZhciBNT1VTRUVOVEVSX01PVVNFTEVBVkVfRVZFTlRTX1NVUFBPUlRFRCA9ICdvbm1vdXNlZW50ZXInIGluIGRvY0VsCiAgICAmJiAnb25tb3VzZWxlYXZlJyBpbiBkb2NFbDsKCiAgZnVuY3Rpb24gaXNTaW11bGF0ZWRNb3VzZUVudGVyTGVhdmVFdmVudChldmVudE5hbWUpIHsKICAgIHJldHVybiAhTU9VU0VFTlRFUl9NT1VTRUxFQVZFX0VWRU5UU19TVVBQT1JURUQgJiYKICAgICAoZXZlbnROYW1lID09PSAnbW91c2VlbnRlcicgfHwgZXZlbnROYW1lID09PSAnbW91c2VsZWF2ZScpOwogIH0KCiAgZnVuY3Rpb24gY3JlYXRlUmVzcG9uZGVyKHVpZCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7CiAgICBpZiAoRXZlbnQuX2lzQ3VzdG9tRXZlbnQoZXZlbnROYW1lKSkKICAgICAgcmV0dXJuIGNyZWF0ZVJlc3BvbmRlckZvckN1c3RvbUV2ZW50KHVpZCwgZXZlbnROYW1lLCBoYW5kbGVyKTsKICAgIGlmIChpc1NpbXVsYXRlZE1vdXNlRW50ZXJMZWF2ZUV2ZW50KGV2ZW50TmFtZSkpCiAgICAgIHJldHVybiBjcmVhdGVNb3VzZUVudGVyTGVhdmVSZXNwb25kZXIodWlkLCBldmVudE5hbWUsIGhhbmRsZXIpOwoKICAgIHJldHVybiBmdW5jdGlvbihldmVudCkgewogICAgICBpZiAoIUV2ZW50LmNhY2hlKSByZXR1cm47CgogICAgICB2YXIgZWxlbWVudCA9IEV2ZW50LmNhY2hlW3VpZF0uZWxlbWVudDsKICAgICAgRXZlbnQuZXh0ZW5kKGV2ZW50LCBlbGVtZW50KTsKICAgICAgaGFuZGxlci5jYWxsKGVsZW1lbnQsIGV2ZW50KTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVSZXNwb25kZXJGb3JDdXN0b21FdmVudCh1aWQsIGV2ZW50TmFtZSwgaGFuZGxlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIHZhciBlbGVtZW50ID0gRXZlbnQuY2FjaGVbdWlkXS5lbGVtZW50OwoKICAgICAgaWYgKE9iamVjdC5pc1VuZGVmaW5lZChldmVudC5ldmVudE5hbWUpKQogICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgIGlmIChldmVudC5ldmVudE5hbWUgIT09IGV2ZW50TmFtZSkKICAgICAgICByZXR1cm4gZmFsc2U7CgogICAgICBFdmVudC5leHRlbmQoZXZlbnQsIGVsZW1lbnQpOwogICAgICBoYW5kbGVyLmNhbGwoZWxlbWVudCwgZXZlbnQpOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGNyZWF0ZU1vdXNlRW50ZXJMZWF2ZVJlc3BvbmRlcih1aWQsIGV2ZW50TmFtZSwgaGFuZGxlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgIHZhciBlbGVtZW50ID0gRXZlbnQuY2FjaGVbdWlkXS5lbGVtZW50OwoKICAgICAgRXZlbnQuZXh0ZW5kKGV2ZW50LCBlbGVtZW50KTsKICAgICAgdmFyIHBhcmVudCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7CgogICAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudCAhPT0gZWxlbWVudCkgewogICAgICAgIHRyeSB7IHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlOyB9CiAgICAgICAgY2F0Y2goZSkgeyBwYXJlbnQgPSBlbGVtZW50OyB9CiAgICAgIH0KCiAgICAgIGlmIChwYXJlbnQgPT09IGVsZW1lbnQpIHJldHVybjsKICAgICAgaGFuZGxlci5jYWxsKGVsZW1lbnQsIGV2ZW50KTsKICAgIH0KICB9CgogIEdMT0JBTC5FdmVudC5fY3JlYXRlUmVzcG9uZGVyID0gY3JlYXRlUmVzcG9uZGVyOwogIGRvY0VsID0gbnVsbDsKfSkodGhpcyk7CgooZnVuY3Rpb24oR0xPQkFMKSB7CiAgLyogU3VwcG9ydCBmb3IgdGhlIERPTUNvbnRlbnRMb2FkZWQgZXZlbnQgaXMgYmFzZWQgb24gd29yayBieSBEYW4gV2ViYiwKICAgICBNYXR0aGlhcyBNaWxsZXIsIERlYW4gRWR3YXJkcywgSm9obiBSZXNpZywgYW5kIERpZWdvIFBlcmluaS4gKi8KCiAgdmFyIFRJTUVSOwoKICBmdW5jdGlvbiBmaXJlQ29udGVudExvYWRlZEV2ZW50KCkgewogICAgaWYgKGRvY3VtZW50LmxvYWRlZCkgcmV0dXJuOwogICAgaWYgKFRJTUVSKSB3aW5kb3cuY2xlYXJUaW1lb3V0KFRJTUVSKTsKICAgIGRvY3VtZW50LmxvYWRlZCA9IHRydWU7CiAgICBkb2N1bWVudC5maXJlKCdkb206bG9hZGVkJyk7CiAgfQoKICBmdW5jdGlvbiBjaGVja1JlYWR5U3RhdGUoKSB7CiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykgewogICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgnb25yZWFkeXN0YXRlY2hhbmdlJywgY2hlY2tSZWFkeVN0YXRlKTsKICAgICAgZmlyZUNvbnRlbnRMb2FkZWRFdmVudCgpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcG9sbERvU2Nyb2xsKCkgewogICAgdHJ5IHsKICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKCdsZWZ0Jyk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIFRJTUVSID0gcG9sbERvU2Nyb2xsLmRlZmVyKCk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBmaXJlQ29udGVudExvYWRlZEV2ZW50KCk7CiAgfQoKCiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHsKICAgIGZpcmVDb250ZW50TG9hZGVkRXZlbnQoKTsKICAgIHJldHVybjsKICB9CgogIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZmlyZUNvbnRlbnRMb2FkZWRFdmVudCwgZmFsc2UpOwogIH0gZWxzZSB7CiAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgnb25yZWFkeXN0YXRlY2hhbmdlJywgY2hlY2tSZWFkeVN0YXRlKTsKICAgIGlmICh3aW5kb3cgPT0gdG9wKSBUSU1FUiA9IHBvbGxEb1Njcm9sbC5kZWZlcigpOwogIH0KCiAgRXZlbnQub2JzZXJ2ZSh3aW5kb3csICdsb2FkJywgZmlyZUNvbnRlbnRMb2FkZWRFdmVudCk7Cn0pKHRoaXMpOwoKCkVsZW1lbnQuYWRkTWV0aG9kcygpOwovKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gREVQUkVDQVRFRCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCkhhc2gudG9RdWVyeVN0cmluZyA9IE9iamVjdC50b1F1ZXJ5U3RyaW5nOwoKdmFyIFRvZ2dsZSA9IHsgZGlzcGxheTogRWxlbWVudC50b2dnbGUgfTsKCkVsZW1lbnQuTWV0aG9kcy5jaGlsZE9mID0gRWxlbWVudC5NZXRob2RzLmRlc2NlbmRhbnRPZjsKCnZhciBJbnNlcnRpb24gPSB7CiAgQmVmb3JlOiBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50KSB7CiAgICByZXR1cm4gRWxlbWVudC5pbnNlcnQoZWxlbWVudCwge2JlZm9yZTpjb250ZW50fSk7CiAgfSwKCiAgVG9wOiBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50KSB7CiAgICByZXR1cm4gRWxlbWVudC5pbnNlcnQoZWxlbWVudCwge3RvcDpjb250ZW50fSk7CiAgfSwKCiAgQm90dG9tOiBmdW5jdGlvbihlbGVtZW50LCBjb250ZW50KSB7CiAgICByZXR1cm4gRWxlbWVudC5pbnNlcnQoZWxlbWVudCwge2JvdHRvbTpjb250ZW50fSk7CiAgfSwKCiAgQWZ0ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRlbnQpIHsKICAgIHJldHVybiBFbGVtZW50Lmluc2VydChlbGVtZW50LCB7YWZ0ZXI6Y29udGVudH0pOwogIH0KfTsKCnZhciAkY29udGludWUgPSBuZXcgRXJyb3IoJyJ0aHJvdyAkY29udGludWUiIGlzIGRlcHJlY2F0ZWQsIHVzZSAicmV0dXJuIiBpbnN0ZWFkJyk7Cgp2YXIgUG9zaXRpb24gPSB7CiAgaW5jbHVkZVNjcm9sbE9mZnNldHM6IGZhbHNlLAoKICBwcmVwYXJlOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuZGVsdGFYID0gIHdpbmRvdy5wYWdlWE9mZnNldAogICAgICAgICAgICAgICAgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQKICAgICAgICAgICAgICAgIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdAogICAgICAgICAgICAgICAgfHwgMDsKICAgIHRoaXMuZGVsdGFZID0gIHdpbmRvdy5wYWdlWU9mZnNldAogICAgICAgICAgICAgICAgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcAogICAgICAgICAgICAgICAgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AKICAgICAgICAgICAgICAgIHx8IDA7CiAgfSwKCiAgd2l0aGluOiBmdW5jdGlvbihlbGVtZW50LCB4LCB5KSB7CiAgICBpZiAodGhpcy5pbmNsdWRlU2Nyb2xsT2Zmc2V0cykKICAgICAgcmV0dXJuIHRoaXMud2l0aGluSW5jbHVkaW5nU2Nyb2xsb2Zmc2V0cyhlbGVtZW50LCB4LCB5KTsKICAgIHRoaXMueGNvbXAgPSB4OwogICAgdGhpcy55Y29tcCA9IHk7CiAgICB0aGlzLm9mZnNldCA9IEVsZW1lbnQuY3VtdWxhdGl2ZU9mZnNldChlbGVtZW50KTsKCiAgICByZXR1cm4gKHkgPj0gdGhpcy5vZmZzZXRbMV0gJiYKICAgICAgICAgICAgeSA8ICB0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICYmCiAgICAgICAgICAgIHggPj0gdGhpcy5vZmZzZXRbMF0gJiYKICAgICAgICAgICAgeCA8ICB0aGlzLm9mZnNldFswXSArIGVsZW1lbnQub2Zmc2V0V2lkdGgpOwogIH0sCgogIHdpdGhpbkluY2x1ZGluZ1Njcm9sbG9mZnNldHM6IGZ1bmN0aW9uKGVsZW1lbnQsIHgsIHkpIHsKICAgIHZhciBvZmZzZXRjYWNoZSA9IEVsZW1lbnQuY3VtdWxhdGl2ZVNjcm9sbE9mZnNldChlbGVtZW50KTsKCiAgICB0aGlzLnhjb21wID0geCArIG9mZnNldGNhY2hlWzBdIC0gdGhpcy5kZWx0YVg7CiAgICB0aGlzLnljb21wID0geSArIG9mZnNldGNhY2hlWzFdIC0gdGhpcy5kZWx0YVk7CiAgICB0aGlzLm9mZnNldCA9IEVsZW1lbnQuY3VtdWxhdGl2ZU9mZnNldChlbGVtZW50KTsKCiAgICByZXR1cm4gKHRoaXMueWNvbXAgPj0gdGhpcy5vZmZzZXRbMV0gJiYKICAgICAgICAgICAgdGhpcy55Y29tcCA8ICB0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICYmCiAgICAgICAgICAgIHRoaXMueGNvbXAgPj0gdGhpcy5vZmZzZXRbMF0gJiYKICAgICAgICAgICAgdGhpcy54Y29tcCA8ICB0aGlzLm9mZnNldFswXSArIGVsZW1lbnQub2Zmc2V0V2lkdGgpOwogIH0sCgogIG92ZXJsYXA6IGZ1bmN0aW9uKG1vZGUsIGVsZW1lbnQpIHsKICAgIGlmICghbW9kZSkgcmV0dXJuIDA7CiAgICBpZiAobW9kZSA9PSAndmVydGljYWwnKQogICAgICByZXR1cm4gKCh0aGlzLm9mZnNldFsxXSArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0KSAtIHRoaXMueWNvbXApIC8KICAgICAgICBlbGVtZW50Lm9mZnNldEhlaWdodDsKICAgIGlmIChtb2RlID09ICdob3Jpem9udGFsJykKICAgICAgcmV0dXJuICgodGhpcy5vZmZzZXRbMF0gKyBlbGVtZW50Lm9mZnNldFdpZHRoKSAtIHRoaXMueGNvbXApIC8KICAgICAgICBlbGVtZW50Lm9mZnNldFdpZHRoOwogIH0sCgoKICBjdW11bGF0aXZlT2Zmc2V0OiBFbGVtZW50Lk1ldGhvZHMuY3VtdWxhdGl2ZU9mZnNldCwKCiAgcG9zaXRpb25lZE9mZnNldDogRWxlbWVudC5NZXRob2RzLnBvc2l0aW9uZWRPZmZzZXQsCgogIGFic29sdXRpemU6IGZ1bmN0aW9uKGVsZW1lbnQpIHsKICAgIFBvc2l0aW9uLnByZXBhcmUoKTsKICAgIHJldHVybiBFbGVtZW50LmFic29sdXRpemUoZWxlbWVudCk7CiAgfSwKCiAgcmVsYXRpdml6ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgUG9zaXRpb24ucHJlcGFyZSgpOwogICAgcmV0dXJuIEVsZW1lbnQucmVsYXRpdml6ZShlbGVtZW50KTsKICB9LAoKICByZWFsT2Zmc2V0OiBFbGVtZW50Lk1ldGhvZHMuY3VtdWxhdGl2ZVNjcm9sbE9mZnNldCwKCiAgb2Zmc2V0UGFyZW50OiBFbGVtZW50Lk1ldGhvZHMuZ2V0T2Zmc2V0UGFyZW50LAoKICBwYWdlOiBFbGVtZW50Lk1ldGhvZHMudmlld3BvcnRPZmZzZXQsCgogIGNsb25lOiBmdW5jdGlvbihzb3VyY2UsIHRhcmdldCwgb3B0aW9ucykgewogICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyB9OwogICAgcmV0dXJuIEVsZW1lbnQuY2xvbmVQb3NpdGlvbih0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucyk7CiAgfQp9OwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgppZiAoIWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBmdW5jdGlvbihpbnN0YW5jZU1ldGhvZHMpewogIGZ1bmN0aW9uIGl0ZXIobmFtZSkgewogICAgcmV0dXJuIG5hbWUuYmxhbmsoKSA/IG51bGwgOiAiW2NvbnRhaW5zKGNvbmNhdCgnICcsIEBjbGFzcywgJyAnKSwgJyAiICsgbmFtZSArICIgJyldIjsKICB9CgogIGluc3RhbmNlTWV0aG9kcy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gUHJvdG90eXBlLkJyb3dzZXJGZWF0dXJlcy5YUGF0aCA/CiAgZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lKSB7CiAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUudG9TdHJpbmcoKS5zdHJpcCgpOwogICAgdmFyIGNvbmQgPSAvXHMvLnRlc3QoY2xhc3NOYW1lKSA/ICR3KGNsYXNzTmFtZSkubWFwKGl0ZXIpLmpvaW4oJycpIDogaXRlcihjbGFzc05hbWUpOwogICAgcmV0dXJuIGNvbmQgPyBkb2N1bWVudC5fZ2V0RWxlbWVudHNCeVhQYXRoKCcuLy8qJyArIGNvbmQsIGVsZW1lbnQpIDogW107CiAgfSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnRvU3RyaW5nKCkuc3RyaXAoKTsKICAgIHZhciBlbGVtZW50cyA9IFtdLCBjbGFzc05hbWVzID0gKC9ccy8udGVzdChjbGFzc05hbWUpID8gJHcoY2xhc3NOYW1lKSA6IG51bGwpOwogICAgaWYgKCFjbGFzc05hbWVzICYmICFjbGFzc05hbWUpIHJldHVybiBlbGVtZW50czsKCiAgICB2YXIgbm9kZXMgPSAkKGVsZW1lbnQpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7CiAgICBjbGFzc05hbWUgPSAnICcgKyBjbGFzc05hbWUgKyAnICc7CgogICAgZm9yICh2YXIgaSA9IDAsIGNoaWxkLCBjbjsgY2hpbGQgPSBub2Rlc1tpXTsgaSsrKSB7CiAgICAgIGlmIChjaGlsZC5jbGFzc05hbWUgJiYgKGNuID0gJyAnICsgY2hpbGQuY2xhc3NOYW1lICsgJyAnKSAmJiAoY24uaW5jbHVkZShjbGFzc05hbWUpIHx8CiAgICAgICAgICAoY2xhc3NOYW1lcyAmJiBjbGFzc05hbWVzLmFsbChmdW5jdGlvbihuYW1lKSB7CiAgICAgICAgICAgIHJldHVybiAhbmFtZS50b1N0cmluZygpLmJsYW5rKCkgJiYgY24uaW5jbHVkZSgnICcgKyBuYW1lICsgJyAnKTsKICAgICAgICAgIH0pKSkpCiAgICAgICAgZWxlbWVudHMucHVzaChFbGVtZW50LmV4dGVuZChjaGlsZCkpOwogICAgfQogICAgcmV0dXJuIGVsZW1lbnRzOwogIH07CgogIHJldHVybiBmdW5jdGlvbihjbGFzc05hbWUsIHBhcmVudEVsZW1lbnQpIHsKICAgIHJldHVybiAkKHBhcmVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keSkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpOwogIH07Cn0oRWxlbWVudC5NZXRob2RzKTsKCi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKRWxlbWVudC5DbGFzc05hbWVzID0gQ2xhc3MuY3JlYXRlKCk7CkVsZW1lbnQuQ2xhc3NOYW1lcy5wcm90b3R5cGUgPSB7CiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWxlbWVudCkgewogICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KTsKICB9LAoKICBfZWFjaDogZnVuY3Rpb24oaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUuc3BsaXQoL1xzKy8pLnNlbGVjdChmdW5jdGlvbihuYW1lKSB7CiAgICAgIHJldHVybiBuYW1lLmxlbmd0aCA+IDA7CiAgICB9KS5fZWFjaChpdGVyYXRvciwgY29udGV4dCk7CiAgfSwKCiAgc2V0OiBmdW5jdGlvbihjbGFzc05hbWUpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7CiAgfSwKCiAgYWRkOiBmdW5jdGlvbihjbGFzc05hbWVUb0FkZCkgewogICAgaWYgKHRoaXMuaW5jbHVkZShjbGFzc05hbWVUb0FkZCkpIHJldHVybjsKICAgIHRoaXMuc2V0KCRBKHRoaXMpLmNvbmNhdChjbGFzc05hbWVUb0FkZCkuam9pbignICcpKTsKICB9LAoKICByZW1vdmU6IGZ1bmN0aW9uKGNsYXNzTmFtZVRvUmVtb3ZlKSB7CiAgICBpZiAoIXRoaXMuaW5jbHVkZShjbGFzc05hbWVUb1JlbW92ZSkpIHJldHVybjsKICAgIHRoaXMuc2V0KCRBKHRoaXMpLndpdGhvdXQoY2xhc3NOYW1lVG9SZW1vdmUpLmpvaW4oJyAnKSk7CiAgfSwKCiAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuICRBKHRoaXMpLmpvaW4oJyAnKTsKICB9Cn07CgpPYmplY3QuZXh0ZW5kKEVsZW1lbnQuQ2xhc3NOYW1lcy5wcm90b3R5cGUsIEVudW1lcmFibGUpOwoKLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgooZnVuY3Rpb24oKSB7CiAgd2luZG93LlNlbGVjdG9yID0gQ2xhc3MuY3JlYXRlKHsKICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGV4cHJlc3Npb24pIHsKICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbi5zdHJpcCgpOwogICAgfSwKCiAgICBmaW5kRWxlbWVudHM6IGZ1bmN0aW9uKHJvb3RFbGVtZW50KSB7CiAgICAgIHJldHVybiBQcm90b3R5cGUuU2VsZWN0b3Iuc2VsZWN0KHRoaXMuZXhwcmVzc2lvbiwgcm9vdEVsZW1lbnQpOwogICAgfSwKCiAgICBtYXRjaDogZnVuY3Rpb24oZWxlbWVudCkgewogICAgICByZXR1cm4gUHJvdG90eXBlLlNlbGVjdG9yLm1hdGNoKGVsZW1lbnQsIHRoaXMuZXhwcmVzc2lvbik7CiAgICB9LAoKICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZXhwcmVzc2lvbjsKICAgIH0sCgogICAgaW5zcGVjdDogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiAiIzxTZWxlY3RvcjogIiArIHRoaXMuZXhwcmVzc2lvbiArICI+IjsKICAgIH0KICB9KTsKCiAgT2JqZWN0LmV4dGVuZChTZWxlY3RvciwgewogICAgbWF0Y2hFbGVtZW50czogZnVuY3Rpb24oZWxlbWVudHMsIGV4cHJlc3Npb24pIHsKICAgICAgdmFyIG1hdGNoID0gUHJvdG90eXBlLlNlbGVjdG9yLm1hdGNoLAogICAgICAgICAgcmVzdWx0cyA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1tpXTsKICAgICAgICBpZiAobWF0Y2goZWxlbWVudCwgZXhwcmVzc2lvbikpIHsKICAgICAgICAgIHJlc3VsdHMucHVzaChFbGVtZW50LmV4dGVuZChlbGVtZW50KSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXN1bHRzOwogICAgfSwKCiAgICBmaW5kRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudHMsIGV4cHJlc3Npb24sIGluZGV4KSB7CiAgICAgIGluZGV4ID0gaW5kZXggfHwgMDsKICAgICAgdmFyIG1hdGNoSW5kZXggPSAwLCBlbGVtZW50OwogICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICBlbGVtZW50ID0gZWxlbWVudHNbaV07CiAgICAgICAgaWYgKFByb3RvdHlwZS5TZWxlY3Rvci5tYXRjaChlbGVtZW50LCBleHByZXNzaW9uKSAmJiBpbmRleCA9PT0gbWF0Y2hJbmRleCsrKSB7CiAgICAgICAgICByZXR1cm4gRWxlbWVudC5leHRlbmQoZWxlbWVudCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGZpbmRDaGlsZEVsZW1lbnRzOiBmdW5jdGlvbihlbGVtZW50LCBleHByZXNzaW9ucykgewogICAgICB2YXIgc2VsZWN0b3IgPSBleHByZXNzaW9ucy50b0FycmF5KCkuam9pbignLCAnKTsKICAgICAgcmV0dXJuIFByb3RvdHlwZS5TZWxlY3Rvci5zZWxlY3Qoc2VsZWN0b3IsIGVsZW1lbnQgfHwgZG9jdW1lbnQpOwogICAgfQogIH0pOwp9KSgpOwo="></script>
  <script type="text/javascript"
    src="data:text/javascript;base64,Ly8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtCi8vIGR1bmdlb24vbWFwX3N0eWxlLmpzCi8vCi8vIGNvcHlyaWdodCAoYykgMjAxMS0yMDE0IGRyb3cgPGRyb3dAYmluLnNoPgovLyBhbGwgcmlnaHRzIHJlc2VydmVkLgoKLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtCi8vIHVwZGF0ZSBpbWFnZQoKZnVuY3Rpb24gdXBkYXRlX2ltZyAoZmllbGQpIHsKICB2YXIgcXVlcnkgPSB7CiAgICAnY2FjaGVfaWQnOiAkKCdpbi1jYWNoZV9pZCcpLnZhbHVlLAogICAgJ21hcF9zdHlsZSc6ICQoJ2luLW1hcF9zdHlsZScpLmdldFZhbHVlKCksCiAgICAnZ3JpZCc6ICAgICAkKCdpbi1ncmlkJykuZ2V0VmFsdWUoKQogIH07CiAgdmFyIG9wdHMgPSB7ICdtZXRob2QnOiAnZ2V0JywgJ3BhcmFtZXRlcnMnOiBxdWVyeSwKICAgICdvblN1Y2Nlc3MnOiBmdW5jdGlvbiAocmVxKSB7IHVwZGF0ZV9pbWdfc3JjKHJlcSk7IH0sCiAgICAnb25GYWlsdXJlJzogZnVuY3Rpb24gKHJlcSkgeyB1cGRhdGVfaW1nX2Vycm9yKHJlcS5zdGF0dXNUZXh0KTsgfSwKICAgICdvbkV4Y2VwdGlvbic6IGZ1bmN0aW9uIChyZXEsZXJyKSB7IHVwZGF0ZV9pbWdfZXJyb3IoJ1N5c3RlbSBFcnJvcicpOyB9CiAgfTsKICBuZXcgQWpheC5SZXF1ZXN0KCcvZmFudGFzeS9kdW5nZW9uL2xpYi9pbWFnZS5jZ2knLG9wdHMpOwogICQoJ3dvcmtpbmcnKS5zaG93KCk7ICQoJ3ZhcmlhbnRzJykuaGlkZSgpOwogIHJldHVybiB0cnVlOwp9CmZ1bmN0aW9uIHVwZGF0ZV9pbWdfc3JjIChyZXEpIHsKICBpZiAocmVxLnJlc3BvbnNlSlNPTikgewogICAgdXBkYXRlID0gcmVxLnJlc3BvbnNlSlNPTjsKICB9IGVsc2UgaWYgKHJlcS5yZXNwb25zZVRleHQpIHsKICAgIHVwZGF0ZSA9IHJlcS5yZXNwb25zZVRleHQuZXZhbEpTT04oKTsKICB9IGVsc2UgewogICAgcmV0dXJuIHVwZGF0ZV9pbWdfZXJyb3IoJ05vIHJlc3BvbnNlJyk7CiAgfQogICQoJ21hcF9pbWcnKS5zcmMgPSB1cGRhdGUudXJpOwogICQoJ3dvcmtpbmcnKS5oaWRlKCk7ICQoJ3ZhcmlhbnRzJykuc2hvdygpOwp9CmZ1bmN0aW9uIHVwZGF0ZV9pbWdfZXJyb3IgKHRleHQpIHsKICBhbGVydCh0ZXh0KTsgJCgnd29ya2luZycpLmhpZGUoKTsgJCgndmFyaWFudHMnKS5zaG93KCk7Cn0KCi8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLQovLyBkb3dubG9hZCBmaWxlCgpmdW5jdGlvbiBkb3dubG9hZF9maWxlIChmb3JtKSB7CiAgdmFyIHF1ZXJ5ID0gewogICAgJ2NhY2hlX2lkJzogJCgnaW4tY2FjaGVfaWQnKS52YWx1ZSwKICB9OwogIHZhciBvcHRzID0geyAnbWV0aG9kJzogJ2dldCcsICdwYXJhbWV0ZXJzJzogcXVlcnksCiAgICAnb25TdWNjZXNzJzogZnVuY3Rpb24gKHJlcSkgeyBkb3dubG9hZF9maWxlX3NyYyhyZXEpOyB9LAogICAgJ29uRmFpbHVyZSc6IGZ1bmN0aW9uIChyZXEpIHsgZG93bmxvYWRfZmlsZV9lcnJvcihyZXEuc3RhdHVzVGV4dCk7IH0sCiAgICAnb25FeGNlcHRpb24nOiBmdW5jdGlvbiAocmVxLGVycikgeyBkb3dubG9hZF9maWxlX2Vycm9yKCdTeXN0ZW0gRXJyb3InKTsgfQogIH07CiAgbmV3IEFqYXguUmVxdWVzdChmb3JtLmFjdGlvbixvcHRzKTsKICAkKCd3b3JraW5nJykuc2hvdygpOyAkKCd2YXJpYW50cycpLmhpZGUoKTsKfQpmdW5jdGlvbiBkb3dubG9hZF9maWxlX3NyYyAocmVxKSB7CiAgaWYgKHJlcS5yZXNwb25zZUpTT04pIHsKICAgIHJlc3BvbnNlID0gcmVxLnJlc3BvbnNlSlNPTjsKICB9IGVsc2UgaWYgKHJlcS5yZXNwb25zZVRleHQpIHsKICAgIHJlc3BvbnNlID0gcmVxLnJlc3BvbnNlVGV4dC5ldmFsSlNPTigpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gZG93bmxvYWRfZmlsZV9lcnJvcignTm8gcmVzcG9uc2UnKTsKICB9CiAgd2luZG93LmxvY2F0aW9uID0gcmVzcG9uc2UudXJpOwogICQoJ3dvcmtpbmcnKS5oaWRlKCk7ICQoJ3ZhcmlhbnRzJykuc2hvdygpOwp9CmZ1bmN0aW9uIGRvd25sb2FkX2ZpbGVfZXJyb3IgKHRleHQpIHsKICBhbGVydCh0ZXh0KTsgJCgnd29ya2luZycpLmhpZGUoKTsgJCgndmFyaWFudHMnKS5zaG93KCk7Cn0KCi8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLQo="></script>
</head>
<body>
<h1>The Dark Delve of Sorrows</h1><h2 class="center">Level 3</h2><p class="map"><img id="map_img" src="data:image/jpeg;base64,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" alt="" usemap="#dungeon" /></p><p class="legend"><img src="data:image/gif;base64,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" alt="" /></p><div><map id="dungeon" name="dungeon"><area href="#a" alt="The walls here have been engraved with glowing symbols" title="The walls here have been engraved with glowing symbols" shape="rect" coords="270,450,288,468" /><area href="#c" alt="A tapping sound fills the corridor" title="A tapping sound fills the corridor" shape="rect" coords="162,558,180,576" /><area href="#e" alt="A chute falls into the corridor from above" title="A chute falls into the corridor from above" shape="rect" coords="522,594,540,612" /><area href="#1" alt="110' x 110', 9 x Kobold" title="110' x 110', 9 x Kobold" shape="rect" coords="54,270,252,468" /><area href="#2" alt="50' x 70', Empty" title="50' x 70', Empty" shape="rect" coords="234,90,324,216" /><area href="#3" alt="50' x 30', 1 x Skum" title="50' x 30', 1 x Skum" shape="rect" coords="306,486,396,540" /><area nohref="nohref" alt="Unlocked Good Wooden Door (hard 5, 15 hp)" title="Unlocked Good Wooden Door (hard 5, 15 hp)" shape="rect" coords="252,270,270,288" /><area nohref="nohref" alt="Locked Stone Door (Open Lock DC 30, break DC 28; hard 8, 60 hp)" title="Locked Stone Door (Open Lock DC 30, break DC 28; hard 8, 60 hp)" shape="rect" coords="162,252,180,270" /><area nohref="nohref" alt="Trapped and Unlocked Simple Wooden Door (hard 5, 10 hp)" title="Trapped and Unlocked Simple Wooden Door (hard 5, 10 hp)" shape="rect" coords="234,216,252,234" /><area nohref="nohref" alt="Archway" title="Archway" shape="rect" coords="216,126,234,144" /><area nohref="nohref" alt="Trapped and Stuck Stone Door (break DC 28; hard 8, 60 hp)" title="Trapped and Stuck Stone Door (break DC 28; hard 8, 60 hp)" shape="rect" coords="342,468,360,486" /></map></div>

<table class="stats slate">
    <tr>
        <td class="section">General</td>
        <td>
            <table class="section">
                <tr>
                    <td class="key">Dungeon Walls</td>
                    <td class="value">Natural Stone (Climb DC 15)</td>
                </tr>
                <tr>
                    <td class="key">Dungeon Floor</td>
                    <td class="value">Flagstone</td>
                </tr>
                <tr>
                    <td class="key">Temperature</td>
                    <td class="value">Cold (unprotected creatures must succeed on a Fortitude saving throw every hour (DC 15, +1 per previous check) or take 1d6 points of non-lethal damage; a creature that takes any non-lethal damage from cold exposure suffers from hypothermia and is fatigued)</td>
                </tr>
                <tr>
                    <td class="key">Illumination</td>
                    <td class="value">Shadowy (phosphorescent fungus or candles every 20 ft.)</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section">Corridors</td>
        <td>
            <table class="section">
                <tr>
                    <td class="key"><a id="a" name="a">a</a></td>
                    <td class="value">The walls here have been engraved with glowing symbols</td>
                </tr>
                <tr>
                    <td class="key"><a id="c" name="c">c</a></td>
                    <td class="value">A tapping sound fills the corridor</td>
                </tr>
                <tr>
                    <td class="key"><a id="e" name="e">e</a></td>
                    <td class="value">A chute falls into the corridor from above</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section">Wandering<br />Monsters</td>
        <td>
            <table class="section">
                <tr>
                    <td class="key">1</td>
                    <td class="value">1 x Cave Fisher, wandering senselessly</td>
                </tr>
                <tr>
                    <td class="key">2</td>
                    <td class="value">10 x Kobold, lost and desperate</td>
                </tr>
                <tr>
                    <td class="key">3</td>
                    <td class="value">11 x Dire Rat, tracking the party</td>
                </tr>
                <tr>
                    <td class="key">4</td>
                    <td class="value">1 x Violet Fungus, returning to their lair with plunder</td>
                </tr>
                <tr>
                    <td class="key">5</td>
                    <td class="value">1 x Adamantine Cobra, lost and desperate</td>
                </tr>
                <tr>
                    <td class="key">6</td>
                    <td class="value">1 x Gelatinous Cube, trying to lure the party into an ambush</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="1" name="1">Room #1</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Locked Stone Door (Open Lock DC 30, break DC 28; hard 8, 60 hp)</td>
                </tr>
                <tr>
                    <td class="detail">East Entry</td>
                    <td class="value">Unlocked Good Wooden Door (hard 5, 15 hp)</td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td></tr><tr><td class="key">Room Features</td>
                    <td class="value">A mural of ancient mythology covers the ceiling, A stone dais and throne sits in the north side of the room</td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">9 x Kobold<hr /><p>Kobold: CR 1/4, XP 100; LE Small Humanoid (reptilian); Init +1; Senses darkvision 60 ft.; Perception +5; AC 15, touch 12, flat-footed 14 (+2 armor, +1 Dex, +1 natural, +1 size); hp 5 (1d10); Fort +2, Ref +1, Will -1; Weak light sensitivity; Speed 30 ft.; Melee spear +1 (1d6-1); Ranged sling +3 (1d3-1); Str 9, Dex 13, Con 10, Int 10, Wis 9, Cha 8; Base Atk +1, CMB -1, CMD 10; SQ crafty</p><p>Skills and Feats: Craft (trapmaking) +6, Perception +5, Stealth +5; Skill Focus (Perception)</p><p>Treasure: 21 gp; Scroll of Groundswell (arg, 150 gp), Wand of Color Spray (cr, 750 gp); hoard total 921 gp</p></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="2" name="2">Room #2</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">West Entry</td>
                    <td class="value">Archway</td>
                </tr>
                <tr>
                    <td class="detail">South Entry</td>
                    <td class="value">Trapped and Unlocked Simple Wooden Door (hard 5, 10 hp)<p class="icon">&#9417; &nbsp; Falling Block: CR 5; mechanical; Perception DC 22; Disable Device DC 22; Trigger location; Reset none; Effect Atk +10 melee (5d6); multiple targets (all targets in a 10 ft. square area)</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td></tr><tr><td class="key">Empty</td>
                    <td class="value">&nbsp;</td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td class="section"><a id="3" name="3">Room #3</a></td>
        <td>
            <table class="section">
                <tr>
                    <td class="detail">North Entry</td>
                    <td class="value">Trapped and Stuck Stone Door (break DC 28; hard 8, 60 hp)<p class="icon">&#9417; &nbsp; Camouflaged Pit Trap: CR 3; mechanical; Perception DC 25; Disable Device DC 20; Trigger location; Reset manual; Effect 30 ft. deep pit (3d6 falling damage); DC 20 Reflex avoids; multiple targets (all targets in a 10 ft. square area)</p></td>
                </tr>
                <tr class="empty">
                    <td colspan="2"></td></tr><tr><td class="key">Room Features</td>
                    <td class="value">A magical shrine in the south-west corner of the room grants greater constitution to whomever offers a prayer to a goddess of ice (but only once), A ladder ascends to a wooden platform in the north side of the room</td>
                </tr>
                <tr>
                    <td class="key">Monster</td>
                    <td class="value">1 x Skum (Ulat-Kini)<hr /><p>Skum (Ulat-Kini): CR 2, XP 600; LE Medium Monstrous Humanoid (aquatic); Init +1; Senses darkvision 60 ft.; Perception +5; AC 13, touch 11, flat-footed 12 (+1 Dex, +2 natural); hp 20 (2d10+9); Fort +3, Ref +4, Will +3; Resist cold 10; Speed 20 ft., swim 40 ft.; Melee trident +4 (1d8+2), claw +2 (1d4+1), bite +2 (1d6+1); Ranged trident +3 (1d8+2); Str 15, Dex 13, Con 17, Int 10, Wis 10, Cha 6; Base Atk +2, CMB +4, CMD 15; SQ amphibious</p><p>Skills and Feats: Intimidate +3, Perception +5 (+9 underwater), Stealth +6 (+10 underwater), Swim +15; Multiattack, Toughness</p><p>Treasure: 45 gp, 290 sp, 1200 cp; Carnelian (45 gp), Pyrite (9 gp), Shell (13 gp); Scroll of Divine Favor (cr, 25 gp); hoard total 178 gp</p></td>
                </tr>
            </table>
        </td>
    </tr>
</table>

  <!-- END OF CONTENT -->

  <div class="footnotes">
    <p>The Dark Delve of Sorrows
    <br />http://donjon.bin.sh/</p>

    <p>Some content used under the terms of the
      <a href="data:text/html;base64,PCEtLSNpbmNsdWRlIHZpcnR1YWw9Ii9za2luL2h0bWw1Lmh0bWwiLS0+CiAgPHRpdGxlPmRvbmpvbjsgT3BlbiBHYW1pbmcgTGljZW5zZTwvdGl0bGU+CjwhLS0jaW5jbHVkZSB2aXJ0dWFsPSIvc2tpbi9iZWdpbi5odG1sIi0tPgoKICA8aDE+T1BFTiBHQU1FIExJQ0VOU0UgVmVyc2lvbiAxLjBhPC9oMT4KCiAgPHA+VGhlIGZvbGxvd2luZyB0ZXh0IGlzIHRoZSBwcm9wZXJ0eSBvZiBXaXphcmRzIG9mIHRoZSBDb2FzdCwgSW5jLiAKICBhbmQgaXMgQ29weXJpZ2h0IDIwMDAgV2l6YXJkcyBvZiB0aGUgQ29hc3QsIEluYyAoIldpemFyZHMiKS4gIEFsbAogIFJpZ2h0cyBSZXNlcnZlZC48L3A+CgogIDxwPjEuICBEZWZpbml0aW9uczoKICAgIChhKSAiQ29udHJpYnV0b3JzIiBtZWFucyB0aGUgY29weXJpZ2h0IGFuZC9vciB0cmFkZW1hcmsgb3duZXJzIHdobwogICAgICAgIGhhdmUgY29udHJpYnV0ZWQgT3BlbiBHYW1lIENvbnRlbnQ7CiAgICAoYikgIkRlcml2YXRpdmUgTWF0ZXJpYWwiIG1lYW5zIGNvcHlyaWdodGVkIG1hdGVyaWFsIGluY2x1ZGluZwogICAgICAgIGRlcml2YXRpdmUgd29ya3MgYW5kIHRyYW5zbGF0aW9ucyAoaW5jbHVkaW5nIGludG8gb3RoZXIKICAgICAgICBjb21wdXRlciBsYW5ndWFnZXMpLCBwb3RhdGlvbiwgbW9kaWZpY2F0aW9uLCBjb3JyZWN0aW9uLAogICAgICAgIGFkZGl0aW9uLCBleHRlbnNpb24sIHVwZ3JhZGUsIGltcHJvdmVtZW50LCBjb21waWxhdGlvbiwKICAgICAgICBhYnJpZGdtZW50IG9yIG90aGVyIGZvcm0gaW4gd2hpY2ggYW4gZXhpc3Rpbmcgd29yayBtYXkgYmUKICAgICAgICByZWNhc3QsIHRyYW5zZm9ybWVkIG9yIGFkYXB0ZWQ7CiAgICAoYykgIkRpc3RyaWJ1dGUiIG1lYW5zIHRvIHJlcHJvZHVjZSwgbGljZW5zZSwgcmVudCwgbGVhc2UsIHNlbGwsCiAgICAgICAgYnJvYWRjYXN0LCBwdWJsaWNseSBkaXNwbGF5LCB0cmFuc21pdCBvciBvdGhlcndpc2UgZGlzdHJpYnV0ZTsKICAgIChkKSAiT3BlbiBHYW1lIENvbnRlbnQiIG1lYW5zIHRoZSBnYW1lIG1lY2hhbmljIGFuZCBpbmNsdWRlcyB0aGUKICAgICAgICBtZXRob2RzLCBwcm9jZWR1cmVzLCBwcm9jZXNzZXMgYW5kIHJvdXRpbmVzIHRvIHRoZSBleHRlbnQgc3VjaAogICAgICAgIGNvbnRlbnQgZG9lcyBub3QgZW1ib2R5IHRoZSBQcm9kdWN0IElkZW50aXR5IGFuZCBpcyBhbgogICAgICAgIGVuaGFuY2VtZW50IG92ZXIgdGhlIHByaW9yIGFydCBhbmQgYW55IGFkZGl0aW9uYWwgY29udGVudAogICAgICAgIGNsZWFybHkgaWRlbnRpZmllZCBhcyBPcGVuIEdhbWUgQ29udGVudCBieSB0aGUgQ29udHJpYnV0b3IsIGFuZAogICAgICAgIG1lYW5zIGFueSB3b3JrIGNvdmVyZWQgYnkgdGhpcyBMaWNlbnNlLCBpbmNsdWRpbmcgdHJhbnNsYXRpb25zCiAgICAgICAgYW5kIGRlcml2YXRpdmUgd29ya3MgdW5kZXIgY29weXJpZ2h0IGxhdywgYnV0IHNwZWNpZmljYWxseQogICAgICAgIGV4Y2x1ZGVzIFByb2R1Y3QgSWRlbnRpdHkuCiAgICAoZSkgIlByb2R1Y3QgSWRlbnRpdHkiIG1lYW5zIHByb2R1Y3QgYW5kIHByb2R1Y3QgbGluZSBuYW1lcywgbG9nb3MKICAgICAgICBhbmQgaWRlbnRpZnlpbmcgbWFya3MgaW5jbHVkaW5nIHRyYWRlIGRyZXNzOyBhcnRpZmFjdHM7CiAgICAgICAgY3JlYXR1cmVzIGNoYXJhY3RlcnM7IHN0b3JpZXMsIHN0b3J5bGluZXMsIHBsb3RzLCB0aGVtYXRpYwogICAgICAgIGVsZW1lbnRzLCBkaWFsb2d1ZSwgaW5jaWRlbnRzLCBsYW5ndWFnZSwgYXJ0d29yaywgc3ltYm9scywKICAgICAgICBkZXNpZ25zLCBkZXBpY3Rpb25zLCBsaWtlbmVzc2VzLCBmb3JtYXRzLCBwb3NlcywgY29uY2VwdHMsCiAgICAgICAgdGhlbWVzIGFuZCBncmFwaGljLCBwaG90b2dyYXBoaWMgYW5kIG90aGVyIHZpc3VhbCBvciBhdWRpbwogICAgICAgIHJlcHJlc2VudGF0aW9uczsgbmFtZXMgYW5kIGRlc2NyaXB0aW9ucyBvZiBjaGFyYWN0ZXJzLCBzcGVsbHMsCiAgICAgICAgZW5jaGFudG1lbnRzLCBwZXJzb25hbGl0aWVzLCB0ZWFtcywgcGVyc29uYXMsIGxpa2VuZXNzZXMgYW5kCiAgICAgICAgc3BlY2lhbCBhYmlsaXRpZXM7IHBsYWNlcywgbG9jYXRpb25zLCBlbnZpcm9ubWVudHMsIGNyZWF0dXJlcywKICAgICAgICBlcXVpcG1lbnQsIG1hZ2ljYWwgb3Igc3VwZXJuYXR1cmFsIGFiaWxpdGllcyBvciBlZmZlY3RzLCBsb2dvcywKICAgICAgICBzeW1ib2xzLCBvciBncmFwaGljIGRlc2lnbnM7IGFuZCBhbnkgb3RoZXIgdHJhZGVtYXJrIG9yCiAgICAgICAgcmVnaXN0ZXJlZCB0cmFkZW1hcmsgY2xlYXJseSBpZGVudGlmaWVkIGFzIFByb2R1Y3QgaWRlbnRpdHkgYnkKICAgICAgICB0aGUgb3duZXIgb2YgdGhlIFByb2R1Y3QgSWRlbnRpdHksIGFuZCB3aGljaCBzcGVjaWZpY2FsbHkKICAgICAgICBleGNsdWRlcyB0aGUgT3BlbiBHYW1lIENvbnRlbnQ7CiAgICAoZikgIlRyYWRlbWFyayIgbWVhbnMgdGhlIGxvZ29zLCBuYW1lcywgbWFyaywgc2lnbiwgbW90dG8sIGRlc2lnbnMKICAgICAgICB0aGF0IGFyZSB1c2VkIGJ5IGEgQ29udHJpYnV0b3IgdG8gaWRlbnRpZnkgaXRzZWxmIG9yIGl0cwogICAgICAgIHByb2R1Y3RzIG9yIHRoZSBhc3NvY2lhdGVkIHByb2R1Y3RzIGNvbnRyaWJ1dGVkIHRvIHRoZSBPcGVuCiAgICAgICAgR2FtZSBMaWNlbnNlIGJ5IHRoZSBDb250cmlidXRvcgogICAgKGcpICJVc2UiLCAiVXNlZCIgb3IgIlVzaW5nIiBtZWFucyB0byB1c2UsIERpc3RyaWJ1dGUsIGNvcHksIGVkaXQsCiAgICAgICAgZm9ybWF0LCBtb2RpZnksIHRyYW5zbGF0ZSBhbmQgb3RoZXJ3aXNlIGNyZWF0ZSBEZXJpdmF0aXZlCiAgICAgICAgTWF0ZXJpYWwgb2YgT3BlbiBHYW1lIENvbnRlbnQuCiAgICAoaCkgIllvdSIgb3IgIllvdXIiIG1lYW5zIHRoZSBsaWNlbnNlZSBpbiB0ZXJtcyBvZiB0aGlzIGFncmVlbWVudC48L3A+CgogIDxwPjIuICBUaGUgTGljZW5zZToKICAgIFRoaXMgTGljZW5zZSBhcHBsaWVzIHRvIGFueSBPcGVuIEdhbWUgQ29udGVudCB0aGF0IGNvbnRhaW5zIGEKICAgIG5vdGljZSBpbmRpY2F0aW5nIHRoYXQgdGhlIE9wZW4gR2FtZSBDb250ZW50IG1heSBvbmx5IGJlIFVzZWQgdW5kZXIKICAgIGFuZCBpbiB0ZXJtcyBvZiB0aGlzIExpY2Vuc2UuICBZb3UgbXVzdCBhZmZpeCBzdWNoIGEgbm90aWNlIHRvIGFueQogICAgT3BlbiBHYW1lIENvbnRlbnQgdGhhdCB5b3UgVXNlLiAgTm8gdGVybXMgbWF5IGJlIGFkZGVkIHRvIG9yCiAgICBzdWJ0cmFjdGVkIGZyb20gdGhpcyBMaWNlbnNlIGV4Y2VwdCBhcyBkZXNjcmliZWQgYnkgdGhlIExpY2Vuc2UKICAgIGl0c2VsZi4gIE5vIG90aGVyIHRlcm1zIG9yIGNvbmRpdGlvbnMgbWF5IGJlIGFwcGxpZWQgdG8gYW55IE9wZW4KICAgIEdhbWUgQ29udGVudCBkaXN0cmlidXRlZCB1c2luZyB0aGlzIExpY2Vuc2UuPC9wPgoKICA8cD4zLiAgT2ZmZXIgYW5kIEFjY2VwdGFuY2U6CiAgICBCeSBVc2luZyB0aGUgT3BlbiBHYW1lIENvbnRlbnQgWW91IGluZGljYXRlIFlvdXIgYWNjZXB0YW5jZSBvZiB0aGUKICAgIHRlcm1zIG9mIHRoaXMgTGljZW5zZS48L3A+CgogIDxwPjQuICBHcmFudCBhbmQgQ29uc2lkZXJhdGlvbjoKICAgIEluIGNvbnNpZGVyYXRpb24gZm9yIGFncmVlaW5nIHRvIHVzZSB0aGlzIExpY2Vuc2UsIHRoZSBDb250cmlidXRvcnMKICAgIGdyYW50IFlvdSBhIHBlcnBldHVhbCwgd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1leGNsdXNpdmUKICAgIGxpY2Vuc2Ugd2l0aCB0aGUgZXhhY3QgdGVybXMgb2YgdGhpcyBMaWNlbnNlIHRvIFVzZSwgdGhlIE9wZW4gR2FtZQogICAgQ29udGVudC48L3A+CgogIDxwPjUuICBSZXByZXNlbnRhdGlvbiBvZiBBdXRob3JpdHkgdG8gQ29udHJpYnV0ZToKICAgIElmIFlvdSBhcmUgY29udHJpYnV0aW5nIG9yaWdpbmFsIG1hdGVyaWFsIGFzIE9wZW4gR2FtZSBDb250ZW50LCBZb3UKICAgIHJlcHJlc2VudCB0aGF0IFlvdXIgQ29udHJpYnV0aW9ucyBhcmUgWW91ciBvcmlnaW5hbCBjcmVhdGlvbiBhbmQvb3IKICAgIFlvdSBoYXZlIHN1ZmZpY2llbnQgcmlnaHRzIHRvIGdyYW50IHRoZSByaWdodHMgY29udmV5ZWQgYnkgdGhpcwogICAgTGljZW5zZS48L3A+CgogIDxwPjYuICBOb3RpY2Ugb2YgTGljZW5zZSBDb3B5cmlnaHQ6CiAgICBZb3UgbXVzdCB1cGRhdGUgdGhlIENPUFlSSUdIVCBOT1RJQ0UgcG9ydGlvbiBvZiB0aGlzIExpY2Vuc2UgdG8KICAgIGluY2x1ZGUgdGhlIGV4YWN0IHRleHQgb2YgdGhlIENPUFlSSUdIVCBOT1RJQ0Ugb2YgYW55IE9wZW4gR2FtZQogICAgQ29udGVudCBZb3UgYXJlIGNvcHlpbmcsIG1vZGlmeWluZyBvciBkaXN0cmlidXRpbmcsIGFuZCBZb3UgbXVzdAogICAgYWRkIHRoZSB0aXRsZSwgdGhlIGNvcHlyaWdodCBkYXRlLCBhbmQgdGhlIGNvcHlyaWdodCBob2xkZXIncyBuYW1lCiAgICB0byB0aGUgQ09QWVJJR0hUIE5PVElDRSBvZiBhbnkgb3JpZ2luYWwgT3BlbiBHYW1lIENvbnRlbnQgeW91CiAgICBEaXN0cmlidXRlLjwvcD4KCiAgPHA+Ny4gIFVzZSBvZiBQcm9kdWN0IElkZW50aXR5OgogICAgWW91IGFncmVlIG5vdCB0byBVc2UgYW55IFByb2R1Y3QgSWRlbnRpdHksIGluY2x1ZGluZyBhcyBhbgogICAgaW5kaWNhdGlvbiBhcyB0byBjb21wYXRpYmlsaXR5LCBleGNlcHQgYXMgZXhwcmVzc2x5IGxpY2Vuc2VkIGluCiAgICBhbm90aGVyLCBpbmRlcGVuZGVudCBBZ3JlZW1lbnQgd2l0aCB0aGUgb3duZXIgb2YgZWFjaCBlbGVtZW50IG9mCiAgICB0aGF0IFByb2R1Y3QgSWRlbnRpdHkuICBZb3UgYWdyZWUgbm90IHRvIGluZGljYXRlIGNvbXBhdGliaWxpdHkgb3IKICAgIGNvLWFkYXB0YWJpbGl0eSB3aXRoIGFueSBUcmFkZW1hcmsgb3IgUmVnaXN0ZXJlZCBUcmFkZW1hcmsgaW4KICAgIGNvbmp1bmN0aW9uIHdpdGggYSB3b3JrIGNvbnRhaW5pbmcgT3BlbiBHYW1lIENvbnRlbnQgZXhjZXB0IGFzCiAgICBleHByZXNzbHkgbGljZW5zZWQgaW4gYW5vdGhlciwgaW5kZXBlbmRlbnQgQWdyZWVtZW50IHdpdGggdGhlIG93bmVyCiAgICBvZiBzdWNoIFRyYWRlbWFyayBvciBSZWdpc3RlcmVkIFRyYWRlbWFyay4gIFRoZSB1c2Ugb2YgYW55IFByb2R1Y3QKICAgIElkZW50aXR5IGluIE9wZW4gR2FtZSBDb250ZW50IGRvZXMgbm90IGNvbnN0aXR1dGUgYSBjaGFsbGVuZ2UgdG8KICAgIHRoZSBvd25lcnNoaXAgb2YgdGhhdCBQcm9kdWN0IElkZW50aXR5LiAgVGhlIG93bmVyIG9mIGFueSBQcm9kdWN0CiAgICBJZGVudGl0eSB1c2VkIGluIE9wZW4gR2FtZSBDb250ZW50IHNoYWxsIHJldGFpbiBhbGwgcmlnaHRzLCB0aXRsZQogICAgYW5kIGludGVyZXN0IGluIGFuZCB0byB0aGF0IFByb2R1Y3QgSWRlbnRpdHkuPC9wPgoKICA8cD44LiAgSWRlbnRpZmljYXRpb246CiAgICBJZiB5b3UgZGlzdHJpYnV0ZSBPcGVuIEdhbWUgQ29udGVudCBZb3UgbXVzdCBjbGVhcmx5IGluZGljYXRlIHdoaWNoCiAgICBwb3J0aW9ucyBvZiB0aGUgd29yayB0aGF0IHlvdSBhcmUgZGlzdHJpYnV0aW5nIGFyZSBPcGVuIEdhbWUKICAgIENvbnRlbnQuPC9wPgoKICA8cD45LiAgVXBkYXRpbmcgdGhlIExpY2Vuc2U6CiAgICBXaXphcmRzIG9yIGl0cyBkZXNpZ25hdGVkIEFnZW50cyBtYXkgcHVibGlzaCB1cGRhdGVkIHZlcnNpb25zIG9mCiAgICB0aGlzIExpY2Vuc2UuICBZb3UgbWF5IHVzZSBhbnkgYXV0aG9yaXplZCB2ZXJzaW9uIG9mIHRoaXMgTGljZW5zZQogICAgdG8gY29weSwgbW9kaWZ5IGFuZCBkaXN0cmlidXRlIGFueSBPcGVuIEdhbWUgQ29udGVudCBvcmlnaW5hbGx5CiAgICBkaXN0cmlidXRlZCB1bmRlciBhbnkgdmVyc2lvbiBvZiB0aGlzIExpY2Vuc2UuPC9wPgoKICA8cD4xMC4gIENvcHkgb2YgdGhpcyBMaWNlbnNlOgogICAgWW91IE1VU1QgaW5jbHVkZSBhIGNvcHkgb2YgdGhpcyBMaWNlbnNlIHdpdGggZXZlcnkgY29weSBvZiB0aGUgT3BlbgogICAgR2FtZSBDb250ZW50IFlvdSBEaXN0cmlidXRlLjwvcD4KCiAgPHA+MTEuICBVc2Ugb2YgQ29udHJpYnV0b3IgQ3JlZGl0czoKICAgIFlvdSBtYXkgbm90IG1hcmtldCBvciBhZHZlcnRpc2UgdGhlIE9wZW4gR2FtZSBDb250ZW50IHVzaW5nIHRoZQogICAgbmFtZSBvZiBhbnkgQ29udHJpYnV0b3IgdW5sZXNzIFlvdSBoYXZlIHdyaXR0ZW4gcGVybWlzc2lvbiBmcm9tIHRoZQogICAgQ29udHJpYnV0b3IgdG8gZG8gc28uPC9wPgoKICA8cD4xMi4gIEluYWJpbGl0eSB0byBDb21wbHk6CiAgICBJZiBpdCBpcyBpbXBvc3NpYmxlIGZvciBZb3UgdG8gY29tcGx5IHdpdGggYW55IG9mIHRoZSB0ZXJtcyBvZiB0aGlzCiAgICBMaWNlbnNlIHdpdGggcmVzcGVjdCB0byBzb21lIG9yIGFsbCBvZiB0aGUgT3BlbiBHYW1lIENvbnRlbnQgZHVlIHRvCiAgICBzdGF0dXRlLCBqdWRpY2lhbCBvcmRlciwgb3IgZ292ZXJubWVudGFsIHJlZ3VsYXRpb24gdGhlbiBZb3UgbWF5CiAgICBub3QgVXNlIGFueSBPcGVuIEdhbWUgTWF0ZXJpYWwgc28gYWZmZWN0ZWQuPC9wPgoKICA8cD4xMy4gIFRlcm1pbmF0aW9uOgogICAgVGhpcyBMaWNlbnNlIHdpbGwgdGVybWluYXRlIGF1dG9tYXRpY2FsbHkgaWYgWW91IGZhaWwgdG8gY29tcGx5CiAgICB3aXRoIGFsbCB0ZXJtcyBoZXJlaW4gYW5kIGZhaWwgdG8gY3VyZSBzdWNoIGJyZWFjaCB3aXRoaW4gMzAgZGF5cwogICAgb2YgYmVjb21pbmcgYXdhcmUgb2YgdGhlIGJyZWFjaC4gIEFsbCBzdWJsaWNlbnNlcyBzaGFsbCBzdXJ2aXZlIHRoZQogICAgdGVybWluYXRpb24gb2YgdGhpcyBMaWNlbnNlLjwvcD4KCiAgPHA+MTQuICBSZWZvcm1hdGlvbjoKICAgIElmIGFueSBwcm92aXNpb24gb2YgdGhpcyBMaWNlbnNlIGlzIGhlbGQgdG8gYmUgdW5lbmZvcmNlYWJsZSwgc3VjaAogICAgcHJvdmlzaW9uIHNoYWxsIGJlIHJlZm9ybWVkIG9ubHkgdG8gdGhlIGV4dGVudCBuZWNlc3NhcnkgdG8gbWFrZSBpdAogICAgZW5mb3JjZWFibGUuPC9wPgoKICA8cD4xNS4gIENPUFlSSUdIVCBOT1RJQ0U8L3A+CgogIDxwPk9wZW4gR2FtZSBMaWNlbnNlIHYgMS4wYQogIENvcHlyaWdodCAyMDAwLCBXaXphcmRzIG9mIHRoZSBDb2FzdCwgSW5jLjwvcD4KCiAgPHA+U3lzdGVtIFJlZmVyZW5jZSBEb2N1bWVudAogIENvcHlyaWdodCAyMDAwLTIwMDMsIFdpemFyZHMgb2YgdGhlIENvYXN0LCBJbmMuOwogIEF1dGhvcnMgSm9uYXRoYW4gVHdlZXQsIE1vbnRlIENvb2ssIFNraXAgV2lsbGlhbXMsIFJpY2ggQmFrZXIsCiAgICBBbmR5IENvbGxpbnMsIERhdmlkIE5vb25hbiwgUmljaCBSZWRtYW4sIEJydWNlIFIuIENvcmRlbGwsCiAgICBKb2huIEQuIFJhdGVsaWZmLCBUaG9tYXMgUmVpZCwgSmFtZXMgV3lhdHQsCiAgYmFzZWQgb24gb3JpZ2luYWwgbWF0ZXJpYWwgYnkgRS4gR2FyeSBHeWdheCBhbmQgRGF2ZSBBcm5lc29uLjwvcD4KCiAgPHA+U3lzdGVtIFJlZmVyZW5jZSBEb2N1bWVudCA1LjAKICBDb3B5cmlnaHQgMjAxNiwgV2l6YXJkcyBvZiB0aGUgQ29hc3QsIEluYy47CiAgQXV0aG9ycyBNaWtlIE1lYXJscywgSmVyZW15IENyYXdmb3JkLCBDaHJpcyBQZXJraW5zLCBSb2RuZXkgVGhvbXBzb24sCiAgICBQZXRlciBMZWUsIEphbWVzIFd5YXR0LCBSb2JlcnQgSi4gU2Nod2FsYiwgQnJ1Y2UgUi4gQ29yZGVsbCwKICAgIENocmlzIFNpbXMsIGFuZCBTdGV2ZSBUb3duc2hlbmQsCiAgYmFzZWQgb24gb3JpZ2luYWwgbWF0ZXJpYWwgYnkgRS4gR2FyeSBHeWdheCBhbmQgRGF2ZSBBcm5lc29uLjwvcD4KCiAgPHA+U3lzdGVtIFJlZmVyZW5jZSBEb2N1bWVudCA1LjEKICBDb3B5cmlnaHQgMjAxNiwgV2l6YXJkcyBvZiB0aGUgQ29hc3QsIEluYy47CiAgQXV0aG9ycyBNaWtlIE1lYXJscywgSmVyZW15IENyYXdmb3JkLCBDaHJpcyBQZXJraW5zLCBSb2RuZXkgVGhvbXBzb24sCiAgICBQZXRlciBMZWUsIEphbWVzIFd5YXR0LCBSb2JlcnQgSi4gU2Nod2FsYiwgQnJ1Y2UgUi4gQ29yZGVsbCwKICAgIENocmlzIFNpbXMsIGFuZCBTdGV2ZSBUb3duc2hlbmQsCiAgYmFzZWQgb24gb3JpZ2luYWwgbWF0ZXJpYWwgYnkgRS4gR2FyeSBHeWdheCBhbmQgRGF2ZSBBcm5lc29uLjwvcD4KCiAgPHA+Q2hhb3NpdGVjaCwKICAmY29weTsgMjAwMywgTW9udGUgSi4gQ29vay4gQWxsIHJpZ2h0cyByZXNlcnZlZC48L3A+CgogIDxwPk1pY3JvbGl0ZTIwCiAgJmNvcHk7IDIwMDYsIFJvYmluIFYuIFN0YWNleSAocm9iaW5AZ3JleXd1bGYubmV0KTwvcD4KCiAgPHA+UGF0aGZpbmRlciBSb2xlcGxheWluZyBHYW1lIFJlZmVyZW5jZSBEb2N1bWVudAogICZjb3B5OyAyMDExLCBQYWl6byBQdWJsaXNoaW5nLCBMTEM7CiAgQXV0aG9yOiBQYWl6byBQdWJsaXNoaW5nLCBMTEMuPC9wPgoKICA8cD5QYXRoZmluZGVyIFJvbGVwbGF5aW5nIEdhbWUgQ29yZSBSdWxlYm9vawogICZjb3B5OyAyMDA5LCBQYWl6byBQdWJsaXNoaW5nLCBMTEM7CiAgQXV0aG9yOiBKYXNvbiBCdWxtYWhuLAogIGJhc2VkIG9uIG1hdGVyaWFsIGJ5IEpvbmF0aGFuIFR3ZWV0LCBNb250ZSBDb29rLCBhbmQgU2tpcCBXaWxsaWFtcy48L3A+CgogIDxwPlBhdGhmaW5kZXIgUlBHIEJlc3RpYXJ5CiAgJmNvcHk7IDIwMDksIFBhaXpvIFB1Ymxpc2hpbmcsIExMQzsKICBBdXRob3I6IEphc29uIEJ1bG1haG4sCiAgYmFzZWQgb24gbWF0ZXJpYWwgYnkgSm9uYXRoYW4gVHdlZXQsIE1vbnRlIENvb2ssIGFuZCBTa2lwIFdpbGxpYW1zLjwvcD4KCiAgPHA+UGF0aGZpbmRlciBSb2xlcGxheWluZyBHYW1lIFVsdGltYXRlIEVxdWlwbWVudAogICZjb3B5OyAyMDEyLCBQYWl6byBQdWJsaXNoaW5nLCBMTEM7CiAgQXV0aG9ycyBEZW5uaXMgQmFrZXIsIEplc3NlIEJlbm5lciwgQmVuamFtaW4gQnJ1Y2ssIFJvc3MgQnllcnMsCiAgICBCcmlhbiBKLiBDb3J0aWpvLCBSeWFuIENvc3RlbGxvLCBNaWtlIEZlcmd1c29uLCBNYXR0IEdvZXR6LAogICAgSmltIEdyb3ZlcywgVHJhY3kgSHVybGV5LCBNYXR0IEphbWVzLCBKb25hdGhhbiBILiBLZWl0aCwKICAgIE1pY2hhZWwgS2Vud2F5LCBIYWwgTWFjTGVhbiwgSmFzb24gTmVsc29uLCBUb3JrIFNoYXcsCiAgICBPd2VuIEtDIFN0ZXBoZW5zLCBhbmQgUnVzcyBUYXlsb3IuPC9wPgoKPCEtLSNpbmNsdWRlIHZpcnR1YWw9Ii9za2luL2VuZC5odG1sIi0tPgo=">Open Gaming License</a></p>
  </div>
</body>
</html>
